{"version":3,"sources":["components/ChartSelector/ChartSelector.module.scss","components/ParsingOptions/ParsingOptions.module.scss","components/DataLoader/loaders/LoadProject.module.scss","components/DataLoader/loaders/UploadFile.module.scss","components/InlineColorPicker/InlineColorPicker.module.scss","components/DataLoader/loaders/SparqlFetch.module.scss","components/Header/Header.module.scss","components/ChartOptions/ChartOptions.module.scss","components/Section/Section.module.scss","components/Footer/Footer.module.scss","components/DataMapping/DataMapping.module.scss","components/DataSamples/DataSamples.module.scss","components/DataLoader/loaders/UrlFetch.module.scss","components/DataGrid/DataGrid.module.scss","components/CopyToClipboardButton/style.module.css","components/DataLoader/DataLoader.module.scss","components/CustomChartLoader/CustomChartLoader.module.scss","HeaderItems.js","components/Header/Header.js","components/Section/Section.js","components/Footer/Footer.js","components/ScreenSizeAlert/ScreenSizeAlert.js","worker/index.js","hooks/useWindowSize.js","constants.js","worker/worker.js","hooks/useDataLoaderUtils/parser.js","hooks/useDataLoaderUtils/stack.js","hooks/useDataLoader.js","components/DataGrid/DataGrid.js","components/DataSamples/DataSamples.js","components/JsonViewer/JsonViewer.js","components/ParsingOptions/SeparatorSelector.js","components/ParsingOptions/ThousandsSeparatorSelector.js","components/ParsingOptions/DecimalsSeparatorSelector.js","components/ParsingOptions/DateLocaleSelector.js","components/ParsingOptions/StackSelector.js","components/DataLoader/loaders/UrlFetch.js","components/DataLoader/loaders/SparqlFetch.js","components/ParsingOptions/ParsingOptions.js","../../rawgraphs-charts/lib/index.es.js","charts.js","components/DataLoader/loaders/LoadProject.js","components/DataLoader/loaders/Paste.js","components/DataLoader/loaders/UploadFile.js","components/DataLoader/loading.js","components/WarningMessage/WarningMessage.js","components/DataLoader/DataMismatchModal.js","components/CopyToClipboardButton/CopyToClipboardButton.js","hooks/useCopyToClipboard.js","components/DataLoader/DataLoader.js","components/ChartSelector/ChartSelector.js","components/DataMapping/ColumnCard.js","components/DataMapping/DataTypeIcon.js","components/DataMapping/asterisk.svg","components/DataMapping/RequiredIcon.js","components/DataMapping/ChartDimensionItem.js","components/DataMapping/ChartDimensionCard.js","components/DataMapping/DataMapping.js","components/ChartOptions/ChartOptionTypes/ChartOptionSelect.js","components/ChartOptions/ChartOptionTypes/ChartOptionNumber.js","components/ChartOptions/ChartOptionTypes/ChartOptionText.js","components/InlineColorPicker/InlineColorPicker.js","components/ChartOptions/ChartOptionTypes/ChartOptionColor.js","components/ChartOptions/ChartOptionTypes/ColorSchemePreview.js","components/ChartOptions/ChartOptionTypes/ColorSchemesDropDown.js","components/ChartOptions/ChartOptionTypes/ColorScaleUtils.js","hooks/usePrevious.js","components/ChartOptions/ChartOptionTypes/ChartOptionColorScale.js","components/ChartOptions/ChartOptionTypes/ChartOptionColorScaleDefault.js","components/ChartOptions/ChartOptionTypes/ChartOptionColorScaleWrapper.js","components/ChartOptions/ChartOptionTypes/ChartOptionBoolean.js","components/ChartOptions/ChartOptions.js","gaEvents.js","components/ChartPreview/ChartPreview.js","hooks/useDebounce.js","components/ChartPreviewWIthOptions/ChartPreviewWithOptions.js","components/Exporter/Exporter.js","hooks/rawRequire.js","hooks/useCustomCharts.js","hooks/useSafeCustomCharts.js","components/CustomChartLoader/CustomChartLoader.js","components/CustomChartWarnModal/CustomChartWarnModal.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","headerItems","label","slug","href","Header","menuItems","Navbar","bg","expand","sticky","className","styles","navbar","Brand","Toggle","Collapse","id","Nav","map","d","i","Link","role","target","rel","Section","props","Container","fluid","section","join","Row","Col","title","loading","Spinner","animation","variant","style","width","height","borderWidth","marginLeft","children","Footer","backgroundColor","footer","xs","sm","span","order","lg","offset","md","xl","ScreenSizeAlert","parsingWorker","mappingWorker","size","useState","undefined","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","showModal","setShowModal","modalWasClosed","setModalWasClosed","handleClose","Modal","show","onHide","backdrop","keyboard","centered","closeButton","Title","as","Body","Button","onClick","DateIcon","BsClock","NumberIcon","BsHash","StringIcon","BsType","dataTypeIcons","date","number","string","localeList","arEG","caES","csCZ","daDK","deCH","deDE","enCA","enGB","enUS","esES","esMX","faIR","fiFI","frCA","frFR","heIL","huHU","itIT","jaJP","koKR","mkMK","nbNO","nlNL","plPL","ptBR","ruRU","svSE","ukUA","zhCN","zhTW","separatorsLabels","separatorsList","Object","keys","AGGREGATIONS_LABELS","SCALES_LABELS","COLOR_SCHEMES_LABELS","Worker","SparqlMarker","Symbol","PARSERS","dataType","parse","data","opts","Error","dataString","trimmedDataString","trim","replace","JSON","separator","dsvFormat","candidates","parsed","length","push","score","e","sort","a","b","parseAndCheckData","parser","extra","parseData","isScalarType","item","includes","stackData","column","flatMap","record","key","others","omit","value","prop","DATA_LOADER_MODE","__cache","useDataLoader","userInput","setUserInput","dataSource","setDataSource","userData","setUserData","userDataType","setUserDataType","parseError","setParserError","unstackedInfo","setUnstackedInfo","setSeparator","thousandsSeparator","setThousandsSeparator","decimalsSeparator","setDecimalsSeparator","navigator","language","locale","setLocale","stackDimension","setStackDimension","setData","unstackedData","unstackedColumns","setLoading","mode","setMode","replaceRequiresConfirmation","setReplaceRequiresConfirmation","columnsTypes","dataTypes","parseDatasetAsyncAndSetData","useCallback","parsingOptions","Comlink","parseDataset","parseDatasetInWorker","dateLocale","get","then","resultData","catch","err","console","log","finally","parseDatasetSyncAndSetData","Promise","resolve","reject","parseDatasetAuto","parseDatasetAndSetData","reset","hydrateFromSavedProject","project","handleReplacingData","decimal","group","newDataInferred","errors","replacedData","oldColNames","newColNames","missingCols","difference","nextDataTypes","newData","stackedData","handleNewUserData","nextUserData","error","setUserDataAndDetect","str","source","options","parsedUserData","jsonPath","jsonData","Array","isArray","setJsonData","path","normalized","element","iterateElement","tmp","forEach","outElement","property","valueType","filter","nestedProperty","nestedValue","startDataReplace","cancelDataReplace","commitDataReplace","newSeparator","newThousandsSeparator","newDecimalSeparator","newLocale","dataset","coerceTypes","nextTypes","loadSample","rawData","sampleSeparator","type","handleInlineEdit","newDataset","handleStackOperation","resetDataLoader","dataLoaderMode","DATE_FORMATS","dateFormats","DateFormatSelector","React","forwardRef","ref","currentFormat","onChange","classNames","S","dateFmt","selected","stopPropagation","preventDefault","dateFormat","DataTypeSelector","typeDescriptor","currentType","onTypeChange","currentTypeComplete","dataTypeIconDomRef","useRef","showPicker","setShowPicker","handleTypeChange","newType","datatype","isEqual","handleTypeChangeDate","handleTargetClick","Icon","Overlay","current","placement","rootClose","rootCloseEvent","container","document","body","scheduleUpdate","arrowProps","outOfBoundaries","OverlayTrigger","overlay","trigger","triggerHandler","marginRight","fill","HeaderRenderer","sortColumn","sortDirection","_raw_datatype","_raw_coerceType","name","DataGrid","userDataset","onDataUpdate","setSort","keyedErrors","useMemo","keyBy","containerEl","idColumnWidth","Math","floor","log10","equalDinstribution","getBoundingClientRect","columnWidth","max","columns","headerRenderer","frozen","sortable","k","editable","formatter","row","_errors","toString","nextType","resizable","sortedDataset","datasetWithIds","_id","_stage3","sortColumnType","getTypeName","valueOf","localeCompare","reverse","handleSort","columnKey","direction","minColumnWidth","rows","rowHeight","onSort","onColumnResize","onRowsUpdate","update","action","fromRow","cellKey","updated","samplesList","category","url","delimiter","sourceName","sourceURL","DataSamples","onSampleReady","setLoadingError","select","sample","fetch","response","message","text","marginBottom","Card","JsonViewerRecursive","contextName","nestingLevel","context","selectFilter","onSelect","isSelectable","contextType","mouseOver","setMouseOver","classes","handleSelect","handleMouseOver","handleMouseOut","onMouseOver","onMouseOut","JsonViewer","SeparatorSelector","inputValue","handleChange","nextValue","formatValue","Dropdown","Menu","Item","ThousandsSeparatorSelector","DecimalsSeparatorSelector","DateLocaleSelector","StackSelector","list","nextDimension","disabled","fetchData","UrlFetch","initialState","setUrl","fetchUrl","handleSubmit","onSubmit","DEFAULT_PREFIXES","wd","wds","wdv","wdt","wikibase","p","ps","pq","rdfs","bd","wdref","psv","psn","pqv","pqn","pr","prv","prn","wdno","wdata","schema","rdf","owl","skos","xsd","prov","bds","gas","hint","sparqlGenerator","Generator","client","SimpleClient","endpointUrl","query","stringify","json","results","bindingsToJson","head","vars","bindings","SparqlFetch","parsedQuery","setParsedQuery","editorDomRef","initialQuery","onQueryParsed","evt","detail","queryType","onParserFailure","result","node","render","html","varNames","binding","variable","term","dataRefreshWorkers","fetchDataFromUrl","fetchDataFromSparql","dataRefreshCaptions","ParsingOptions","refreshData","dataRefreshImpl","onDataRefreshed","nextSeparator","nextLocale","color","dimensions","nextStackDimension","metadata","thumbnail","icon","code","tutorial","categories","description","addStyle","this","each","styleFunction","arguments","sel","toLowerCase","indexOf","wrapPx","addPx","match","fn","val","apply","v","selection","prototype","transition","styles$1","circlepacking","validTypes","required","multiple","aggregation","aggregationDefault","mapData","mapping","colorAggregator","getDimensionAggregator","sizeAggregator","labelAggregators","rollups","hierarchy","Map","level","svgNode","visualOptions","originalData","background","marginTop","showLegend","legendWidth","padding","sortCirclesBy","colorScale","showLabelsOutline","showHierarchyLabels","hierarchyLabelsStyle","autoHideLabels","labelStyles","margin","chartWidth","chartHeight","nest","rollup","hierarchy$1","sum","d3","root","pack","circle","arc","innerRadius","outerRadius","startAngle","PI","endAngle","append","attr","svg","selectAll","descendants","x","y","r","depth","parents","labelsLayer","leaves","timeFormat","call","getBBox","labelOutline","labelsOcclusion","legendLayer","chartLegend","legend","addColor","config","sizeScale","scaleSqrt","domain","extent","rangeRound","range","invert","addSize","default","containerCondition","dimension","scaleType","interpolator","repeatFor","repeatDefault","circularDendrogram","maxDiameter","layout","sizeOnlyLeaves","sortBy","label1Style","label2Style","label3Style","hierarchyStyle","radius","min","circumference","descending","ascending","index","parent","splice","cluster","Tree","tree","separation","layouts","links","linkRadial","angle","childrenColors","Set","l","textGroups","align","xpos","contourPlot","weight","xOrigin","yOrigin","showPoints","dotsDiameter","bandwidth","showBandLabels","labelThresholds","xDomain","scaleTime","scaleLinear","nice","yDomain","vizLayer","contours","contourDensity","lab","darker","geoPath","axisLayer","g","axisBottom","axisLabel","axisLeft","cont","coordinates","polygon","ring","j","slice","Infinity","possibilities","steps","scores","n","scan","start","xy","dx","dy","cos","atan2","labelSecondary","requiredDimensions","step","colorDomain","convexHull","groupStrokeWidth","groupOpacity","hullsData","groups","hulls","points","hull","polygonHull","dateFormats$1","dendrogram","totalValue","linkHorizontal","overlap","startDate","getTime","endDate","ganttChart","sortGroupsBy","barPadding","alignLabels","levels","flat","xMin","xMax","lines","heightScale","scaleBand","paddingInner","paddingOuter","lineHeight","lineStep","stack$1","stack","f","c","groupsG","axisLine","hexagonalBinning","diameter","weightSize","showCountLabels","top","right","bottom","left","hexbin$1","hexbin","bins","hex","hexagon","horizongraph","yAggregator","interpolation","bands","negativeStyle","nestedData","groupsDomain","groupsScale","xScale","yScale","area$1","area","curve","y0","y1","viz","horizons","tickSizeOuter","linechart","operation","series","vv","xTicksAuto","xTicksAmount","xTicksOuter","columnsNumber","useSameScale","sortSeriesBy","showSeriesLabels","repeatAxesLabels","showGrid","showLabels","labelsPosition","serie","reduce","seriesSortings","Name","griddingData","gridding","cols","gridding$1","enter","serieIndex","serieWidth","serieHeight","line$1","line","tickValues","ticks","concat","labels","maxPos","greatest","seriesLabel","matrixplot","rounding","sortXAxisBy","sortYAxisBy","rowsValues","colsValues","cellSize","roundingScale","axisTop","tickSize","round","sqrt","fontSize","legendSizeScale","copy","maxSize","shape","parallelcoordinates","orientation","strokeWidth","strokeOpacity","horizontal","axesScales","from","catScales","scalePoint","piechart","arcsAggregators","arcs","arcName","aggregator","sortPiesBy","showArcValues","drawDonut","arcTichkness","sortArcsBy","arcsSortings","totalDescending","totalAscending","original","arcsSize","pieSortings","maxRadius","seriesIndex","seriesWidth","seriesHeight","angles","pie","arc$1","pie$1","centroid","radarchart","minValues","axes","axisName","showDots","innerDiameter","fillOpacity","labelsPadding","curveType","Linear","curveLinearClosed","Basis","curveBasisClosed","Cardinal","curveCardinalClosed","curveCatmullRomClosed","totalSize","valueDescending","valueAscending","axesDomain","radialScale","maxValue","axesScale","axesGrid","radarData","axesLayer","axisFunction","scale","axesGroups","sin","plots","radarLine","lineRadial","sankeydiagram","nodesWidth","nodesPadding","linksOpacity","linksBlendMode","circularLinkGap","alignment","iterations","showValues","assign","nodes","network","sankeyCircular","nodeId","nodeAlign","d3Sankey","Left","Right","Center","Justify","nodeWidth","nodePadding","sankey","x0","x1","link","nodesLabels","labelPrimary","parseFloat","allTSNEE","opt","assert","condition","getopt","field","defaultval","hasOwnProperty","return_v","v_val","gaussRandom","u","random","randn","mu","std","zeros","isNaN","ArrayBuffer","arr","Float64Array","randn2d","s","uses","xhere","L2","x2","D","x1i","x2i","d2p","perplexity","tol","Nf","N","Htarget","P","prow","betamin","betamax","beta","done","num","psum","pj","exp","Hhere","abs","Pout","N2","sign","tSNE","dim","epsilon","iter","initDataRaw","X","dists","dist","xtod","initSolution","initDataDist","Y","gains","ystep","getSolution","cg","costGrad","cost","grad","ymean","gid","sid","gainid","newgain","newsid","debugGrad","yold","cg0","cg1","analytic","numerical","pmul","Qu","qsum","dsum","dhere","qu","NN","Q","q","gsum","premult","similaritymap","classification","dotsRadius","titleSize","boundWidth","boundHeight","boundLeft","boundTop","tsne","tsneData","reducedDimensions","reducedDimensionsClassified","reducedDimension","calcReducedDimensions","minTitleHeight","xAccessor","yAccessor","calcProps","xDimension","point","yDimension","bounds","createBounds","createScales","yAxisGenerator","tickFormat","format","yAxis","xAxisGenerator","createAxes","dots","drawScatterPoints","slopechart","nonOverlap","yGlobalScale","slopes","originalX","parseInt","forceSimulation","force","forceY","forceX","strength","forceCollide","stop","tick","streamgraph","streams","streamsOrder","streamsOffset","showYAxis","labelsType","streamsDomain","has","localStack","stacksValues","globalDomain","localDomain","maxIndex$1","maxIndex","maxElement","sunburst","labelHierarchyStyle","partition","padAngle","padRadius","treemap","tiling","treemap$1","tile","paddingTop","ancestorData","depthScale","ancestors","violinplot","binsNumber","bin","thresholds","shapeScale","shapes","datum","delta","completeShape","unshift","elm","voronoitreemap","seed","clipToPolygon","rotation","edges","isRegular","randomNormal","randomLcg","voronoiTreemap$1","voronoiTreemap","prng","rad","hscale","vscale","clipShape","clip","allNodes","site","voronoidiagram","showStroke","voronoi","Delaunay","renderCell","chorddiagram","ringWidth","chordPadding","chordPaddingSource","chordPaddingTarget","chordColors","chordOpacity","showChordGroupLabels","fontFamily","names","entry","numberOfNodes","matrix","sourceIndex","targetIndex","matrixFromData","translationX","translationY","chords","chordDirected","sortSubgroups","sortChords","createChords","drawRing","ribbon","ribbonArrow","sourceRadius","targetRadius","drawChords","getAttribute","drawGroupLabels","charts","step1","step2","sourceStep","targetName","targetStep","sortNodesBy","verticalAlignment","obj","set","sankey$1","verticalSize","maxItemsAmount","yPos0","ypos","nodeSize","sourceLinks","targetLinks","sankeyLinkHorizontal","firstNodes","minDiameter","orderNodesBy","linkOpacity","sameSide","graph","_edgesTable","outLinks","inLinks","inValue","outValue","degree","inDegree","outDegree","nodeById","graphFromEdgesTable","jLouvain","community","widthScale","xPos","sweep","bars","barsOrientation","sortBarsBy","horizontalBars","vertical","timeFormat$1","originalDomain","sizeDomain","barsSortings","barsDomain","barScale","seriesDomain","barsAggregators","barName","valuesForSize","barsPadding","setsPadding","SortXAxisBy","stacksSortings","Original","setsDomain","setScale","stacks","stacksOrder","stacksPadding","scaleRollup","stacksDomain","Earliest","Ascending","Descending","None","Reverse","stacksScale","axisLeftLabel","axisLeftLabelVisible","axisRightLabel","axisRightLabelVisible","axisVerticalLabel","axisVerticalLabelVisible","labelLeftAlignment","labelLeftRotation","labelRightAlignment","labelRightRotation","spaceCommonAxis","colorScale1","colorScale2","boundWidthOneChart","x1Accessor","x2Accessor","x1Scale","x1ScaleReverse","x2Scale","remove","x1AxisGenerator","x1Axis","x2AxisGenerator","x2Axis","labelX1","labelX2","labelY","_groups","widthX2","createAxisLabels","bars1","bars2","createBars","xValue","simulationStrength","grouped","reduced","simulation","ceil","alphaMin","alphaDecay","barsWidth","iqrMultiplier","values","q1","quantile","q2","q3","iqr","r0","r1","quartiles","outliers","boxplots","valuesLabels","connectedBy","useSameYScale","useSameXScale","seriesLayer","serieData","bubbles","sortValueA","rankAggregator","rank","streamsPadding","rowIndex","vStack","minValue","originalIndex","rankedKeys","rankIndex","nv","calendarHeatmap","LoadProject","onProjectSelected","onDrop","acceptedFiles","reader","FileReader","deserializeProject","readAsText","useDropzone","accept","maxFiles","getRootProps","getInputProps","isDragReject","isDragAccept","dropzone","Paste","border","borderRadius","minHeight","UploadFile","Loading","WarningMessage","Alert","DataMismatchModal","startsWith","split","CopyToClipboardButton","content","copyToClipboard","btn","createElement","display","appendChild","clipboard","ClipboardJS","focus","click","destroy","removeChild","pending","setPending","handleCopy","setTimeout","DataLoader","mainContent","hydrateFromProject","loadingError","initialOptionState","setInitialOptionState","loader","rawInput","BsClipboard","allowedForReplace","BsUpload","BsGift","BsCloud","BsSearch","BsFolder","optionIndex","setOptionIndex","selectedOption","ctx","reloadRAW","location","pathname","copyToClipboardButton","tsvFormat","classnames","active","dataSourceIndex","findIndex","successRows","parsingErrors","memo","filterCharts","ChartSelector","availableCharts","currentChart","setCurrentChart","onRemoveCustomChart","onAddChartClick","setFilter","handleFilterChange","nextFilter","nextCharts","charAt","toUpperCase","uniq","Img","src","Subtitle","Text","customChart","rawCustomChart","backgroundImage","whiteSpace","position","maxWidth","overflow","textOverflow","ColumnCard","dimensionName","dimensionType","commitLocalMapping","rollbackLocalMapping","useDrag","collect","monitor","isDragging","end","dropResult","didDrop","drag","dimType","DataTypeIcon","_path","Tooltip","_extends","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAsterisk","_ref","svgRef","titleId","xmlns","viewBox","ForwardRef","RequiredIcon","ChartDimensionItem","draggingColumn","isValid","columnId","aggregators","relatedAggregation","onMove","onChangeAggregation","onDeleteItem","onChangeDimension","replaceDimension","onInsertColumn","localMappding","useDrop","isOver","getItem","hover","hoverIndex","dimensionId","dragIndex","hoverBoundingRect","hoverMiddleY","hoverClientY","getClientOffset","drop","opacity","aggregatorName","getAggregatorNames","emptyList","ChartDimensionCard","setMapping","draggingId","setDraggingId","defaulAggregation","getDefaultDimensionAggregation","columnDataType","ids","uniqueId","mappedType","setAggregation","newAggregations","idsMappedHere","columnsMappedHere","aggregationsMappedHere","nextConfig","col","newCol","arrayMove","nextId","arrayInsert","t","renderId","removeIndex","arrayReplace","handleReplaceLocalMapping","prev","fromDimension","toDimension","fromIndex","toIndex","removedItem","newAggregation","moveFn","prevToMapping","toDimensionMapping","DataMapping","setLocalMapping","updateMapping","mappingConf","isLocal","lastMapping","useImperativeHandle","clearLocalMapping","DndProvider","backend","HTML5Backend","columnName","ChartOptionSelect","defaultValue","stringValue","Number","option","isObject","ChartOptionNumber","isEnabled","placeholder","ChartOptionText","InlineColorPicker","maybeColor","displayColorPicker","setDisplayColorPicker","swatch","popover","cover","disableAlpha","onChangeComplete","ChartOptionColor","ColorSchemePreview","samples","numSamples","flex","ColorSchemesDropDown","interpolators","setInterpolator","colorDataset","colorDataType","currentFinalScale","paddingRight","intrplr","colorPresets","getPresetScale","getColorDomain","ResetBtn","resetScale","InvertBtn","invertScale","LockBtn","handleChangeLocked","locked","usePrevious","getDatePickerValue","userValue","userDomain","getValueType","toISOString","substring","ChartOptionColorScale","mappingValue","chart","mappedData","hasAnyMapping","initialValue","__loaded","setScaleType","defaultColor","colorFromDefault","setLocked","availableScaleTypes","getAvailableScaleTypes","setInterpolators","userRange","userValues","setUserValues","getCurrentFinalScale","userValuesForFinalScale","getColorScale","getDefaultUserValues","getInitialScaleValues","getUserValuesForFinalScale","currentUserValues","valuesForFinalScale","getDefaultColorScale","handleChangeValues","nextUserValues","userScaleValues","setUserValueRange","newUserValues","setUserValueDomain","handleChangeScaleType","nextScaleType","nextInterpolators","nextInterpolator","handleSetInterpolator","customUserValues","byDomain","nextLocked","reversedValues","invertedValues","prevMappingValue","Date","ChartOptionColorScaleDefault","colorFromValue","setDefaultColor","handleChangeDefaultColor","nextDefaultColor","outScaleParams","ChartOptionColorScaleWrapper","ChartOptionBoolean","optionId","Form","Check","checked","CHART_OPTION_COMPONENTS","boolean","getPartialMapping","repeatIndex","getPartialMappedData","getDefaultForRepeat","def","WrapControlComponent","setVisualOptions","Component","remainingOptions","domainFromChart","handleControlChange","newValue","Fragment","ChartOptions","optionsConfig","getOptionsConfig","collapseStatus","setCollapseStatus","enabledOptions","getEnabledOptions","optionsDefinitionsByGroup","acc","containerOptions","defaultOptionsValues","getDefaultOptionsValues","getContainerOptions","groupName","groupname","prevChartIdRendered","ChartPreview","setError","setRawViz","domRef","vizOptionsDebounced","delay","debouncedValue","setDebouncedValue","handler","clearTimeout","useDebounce","currentlyMapped","requiredVariables","errorMessage","curr","firstChild","multivaluesVariables","chartMetadata","variableObj","find","rawChart","rawViz","renderToDOM","gtag","event_category","ChartPreviewWithOptions","setMappingLoading","setMappedData","chartName","mapDataInWorker","downloadBlob","filename","download","Exporter","exportProject","downloadSvg","svgString","XMLSerializer","serializeToString","_node","DOMURL","URL","webkitURL","Blob","createObjectURL","revokeObjectURL","downloadImage","canvas","clientHeight","clientWidth","getContext","img","Image","onload","drawImage","toDataURL","downloadProject","blob","setCurrentFormat","currentFile","setCurrentFile","downloadViz","_chartImplementation","event_label","InputGroup","DropdownButton","Append","NPM_CDN","queue","cacheChartsPkg","LRU","cacheDependenciesTree","DEPENDENCIES_ALIAS","rawgraphsCore","requireDependency","sUrl","requireFromUrl","defineDOM","params","factory","dependencies","rutimeDepenciesPromises","dep","all","rutimeDepencies","outFactory","requireDependencyWebWorker","requireFromUrlWebWorker","defineWebWorker","define","scriptTag","async","promiseFinalExports","pop","once","isRawChartLike","requireRawChartsFromUrl","daExports","self","importScripts","amd","STORE_NS","getNextCustomChartsAndReleased","prevCharts","newChartsToInject","newIds","releasedCustomCharts","prevChart","shouldBeReleased","storeCustomCharts","nextCustomCharts","toStoreCustomCharts","localStorage","setItem","caches","open","cache","nextHashses","Boolean","cacheKeys","currentHashses","toRemoveHashes","hash","delete","makeFileHash","file","event","sha3_512","readAsArrayBuffer","loadStoredCustomCharts","storedCustomCharts","m","packs","packsToLoad","nChars","o","loadedChartsById","exportCustomChart","HOSTS_WHITELIST","isUrlAllowed","hostname","UserAbortError","args","isAbortByUser","useSafeCustomCharts","storage","customCharts","setCustomCharts","loadCustomChartsFromUrlAsSource","loadCustomChartsFromUrl","loadCustomChartsFromNpm","uploadCustomCharts","fileHash","put","Response","importCustomChartFromProject","projectChart","File","newChart","removeCustomChart","useCustomCharts","unsafeUploadCustomCharts","unsafeLoadCustomChartsFromNpm","unsafeLoadCustomChartsFromUrl","unsafeImportCustomChartFromProject","methods","toConfirmCustomChart","setToConfirmCustomChartLoad","parsedUrl","String","inputName","askConfirm","confirmCustomChartLoad","abortCustomChartLoad","LoadFromFile","load","dropin","LoadFromString","setValue","CustomChartLoaderForm","onClose","setType","handleError","changeImportType","loadingOption","pkg","CustomChartLoader","isOpen","contentClassName","CustomChartWarnModal","App","baseCharts","dataLoader","mappingLoading","dataMappingRef","columnNames","prevColumnNames","lasImportProjectRef","importProject","projectUrl","projectUrlStr","URLSearchParams","search","ok","projectStr","lastImportProject","currentCustom","handleChartChange","nextChart","serializeProject","fromUrl","nextCurrentChart","history","replaceState","patchedOptions","isPlainObject","isModalCustomChartOpen","setModalCustomChartOpen","toggleModalCustomChart","HeaderItems","buttonText","buttonStyle","buttonClasses","acceptOnScroll","ReactDOM","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2ea5a4e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"thumbnail\":\"ChartSelector_thumbnail__1xQ_-\",\"currentChart\":\"ChartSelector_currentChart__NKILM\",\"disabled\":\"ChartSelector_disabled__MRXKu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"parsingOptions\":\"ParsingOptions_parsingOptions__K4kyV\",\"refresh-button\":\"ParsingOptions_refresh-button__3TkLa\",\"separator-preview\":\"ParsingOptions_separator-preview__1UuQv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropzone\":\"LoadProject_dropzone__6a5Ft\",\"reject\":\"LoadProject_reject__1NjN5\",\"accept\":\"LoadProject_accept__1a3qM\",\"browse-button\":\"LoadProject_browse-button__Kvg8t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropzone\":\"UploadFile_dropzone__1h-vB\",\"reject\":\"UploadFile_reject__2Kpgt\",\"accept\":\"UploadFile_accept__3mK1X\",\"browse-button\":\"UploadFile_browse-button__2AUZ1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"swatch\":\"InlineColorPicker_swatch__11WDP\",\"color\":\"InlineColorPicker_color__12j-E\",\"popover\":\"InlineColorPicker_popover__3Hchl\",\"cover\":\"InlineColorPicker_cover__2KTIs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"url-input\":\"SparqlFetch_url-input__1OTEr\",\"query-input-here\":\"SparqlFetch_query-input-here__1GTNa\",\"base-iri-input-here\":\"SparqlFetch_base-iri-input-here__1MbOa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Header_navbar__359Kr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart-options\":\"ChartOptions_chart-options__3l80N\",\"chart-option\":\"ChartOptions_chart-option__AxfdW\",\"color-swatch\":\"ChartOptions_color-swatch__2yOSf\",\"color-scale-item\":\"ChartOptions_color-scale-item__3Rhfd\",\"ordinal\":\"ChartOptions_ordinal__2mFUI\",\"not-ordinal\":\"ChartOptions_not-ordinal__3DrFs\",\"color-swatches-list\":\"ChartOptions_color-swatches-list__2EQnZ\",\"options-group\":\"ChartOptions_options-group__3Zauh\",\"group-header\":\"ChartOptions_group-header__1X0bJ\",\"collapsed\":\"ChartOptions_collapsed__pl7d6\",\"collapse-button\":\"ChartOptions_collapse-button__rUqFX\",\"color-scheme-dropdown-item\":\"ChartOptions_color-scheme-dropdown-item__1zRUD\",\"scheme-preview\":\"ChartOptions_scheme-preview__f1lz2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__2mYr1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__7dIj9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"column-card\":\"DataMapping_column-card__2VBWp\",\"column-title\":\"DataMapping_column-title__2yLXi\",\"data-type-icon\":\"DataMapping_data-type-icon__fdfcN\",\"chart-dimension\":\"DataMapping_chart-dimension__2tNga\",\"chart-dimension-header\":\"DataMapping_chart-dimension-header__3FrwJ\",\"accepted-type-icon\":\"DataMapping_accepted-type-icon__3XRr1\",\"dimension-required\":\"DataMapping_dimension-required__1FreW\",\"assigned-column\":\"DataMapping_assigned-column__3S8Vu\",\"column-valid\":\"DataMapping_column-valid__1wlKa\",\"column-invalid\":\"DataMapping_column-invalid__3g-BT\",\"remove-assigned\":\"DataMapping_remove-assigned__3VE_f\",\"dropzone\":\"DataMapping_dropzone__2L06t\",\"active\":\"DataMapping_active__NdQHM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dataset-source\":\"DataSamples_dataset-source__1NwGz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"url-input\":\"UrlFetch_url-input__3vKK2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"data-type-selector\":\"DataGrid_data-type-selector__2on-B\",\"data-type-selector-item\":\"DataGrid_data-type-selector-item__3xB1K\",\"selected\":\"DataGrid_selected__iVbJn\",\"date-format-preview\":\"DataGrid_date-format-preview__f5V3s\",\"data-type-selector-trigger\":\"DataGrid_data-type-selector-trigger__1yAyi\",\"date-format-selector\":\"DataGrid_date-format-selector__19SHO\",\"date-format-selector-entry\":\"DataGrid_date-format-selector-entry__3kPs-\",\"parent-type-selector\":\"DataGrid_parent-type-selector__8RCk2\",\"column-name\":\"DataGrid_column-name__q_QPq\",\"has-error\":\"DataGrid_has-error__jgPR1\",\"raw-col-header\":\"DataGrid_raw-col-header__2fXsy\",\"unsorted\":\"DataGrid_unsorted__2dx3u\",\"acs\":\"DataGrid_acs__-kgxx\",\"desc\":\"DataGrid_desc__2WpaO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"copy-to-clipboard-button\":\"style_copy-to-clipboard-button__29IxT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading-option\":\"DataLoader_loading-option__Spa1h\",\"disabled\":\"DataLoader_disabled__3RVvn\",\"active\":\"DataLoader_active__-mHU8\",\"start-over\":\"DataLoader_start-over__3fWNA\",\"cancel\":\"DataLoader_cancel__22q8c\",\"loading-component\":\"DataLoader_loading-component__1zOap\",\"bg-animated\":\"DataLoader_bg-animated__1j4Qa\",\"bg-animation\":\"DataLoader_bg-animation__12elS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingOption\":\"CustomChartLoader_loadingOption__1vYQM\",\"disabled\":\"CustomChartLoader_disabled__1vBSV\",\"active\":\"CustomChartLoader_active__2XtZG\",\"dropzone\":\"CustomChartLoader_dropzone__S5GVb\",\"dropin\":\"CustomChartLoader_dropin__1VOM0\",\"reject\":\"CustomChartLoader_reject__8aMxD\",\"accept\":\"CustomChartLoader_accept__J_4Ap\",\"browse-button\":\"CustomChartLoader_browse-button__ZAvJI\"};","const headerItems = [\n  {\n    label: 'About',\n    slug: 'about',\n    href: 'https://rawgraphs.io/about',\n  },\n  // {\n  //   label: 'Gallery',\n  //   slug: 'gallery',\n  //   href: 'https://rawgraphs.io/gallery',\n  // },\n  {\n    label: 'Learning',\n    slug: 'learning',\n    href: 'https://rawgraphs.io/learning',\n  },\n  // {\n  //   label: 'FAQs',\n  //   slug: 'faqs',\n  //   href: 'https://github.com/rawgraphs/raw/wiki/FAQs',\n  // },\n  // {\n  //   label: \"RAWGraphs 1.3\",\n  //   slug: 'rawgraphs-1-3',\n  //   href: 'https://app.rawgraphs.io',\n  // },\n  {\n    label: 'GitHub',\n    slug: 'github',\n    href: 'https://github.com/rawgraphs/rawgraphs-app',\n  },\n]\n\nexport default headerItems\n","import React from 'react'\nimport styles from './Header.module.scss'\nimport { Navbar, Nav } from 'react-bootstrap'\n\nexport default function Header({ menuItems }) {\n  return (\n    <Navbar bg=\"white\" expand=\"lg\" sticky=\"top\" className={styles.navbar}>\n      <Navbar.Brand href=\"/\"><b>RAW</b><span className=\"text-primary\">Graphs</span> 2.0 beta</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"ml-auto\">\n          {menuItems.map((d, i) => {\n            return (\n              <Nav.Link key={'item' + i} href={d.href}>\n                {d.label}\n              </Nav.Link>\n            )\n          })}\n          <a\n            role=\"button\"\n            href=\"https://github.com/rawgraphs/rawgraphs-app/issues\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"btn btn-sm btn-primary ml-2 d-flex flex-column align-items-center justify-content-center\"\n          >\n            Report issue\n          </a>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  )\n}\n","import React from 'react'\nimport styles from './Section.module.scss'\nimport { Container, Row, Col, Spinner } from 'react-bootstrap'\n\nexport default function Section(props) {\n  return (\n    <Container\n      fluid\n      className={\n        [styles.section, props.className].join(' ')\n      }\n    >\n      <Row>\n        <Col>\n          <div className=\"d-flex align-items-center mb-3\">\n            <h1>{props.title}</h1>\n            { props.loading && <Spinner animation=\"border\" variant=\"primary\" style={{width:'2rem', height:'2rem',borderWidth:'2px',marginLeft:'2rem'}} />}\n          </div>\n          \n          {props.children}\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n","import React from 'react'\nimport styles from './Footer.module.scss'\nimport { Row, Col, Container } from 'react-bootstrap'\nimport { BsFillEnvelopeFill, BsBarChartFill } from 'react-icons/bs'\nimport { FaTwitter, FaGithub } from 'react-icons/fa'\n\n// #TODO add commit hash\n// const commitHash = process.env.REACT_APP_VERSION || 'dev'\n\nexport default function Footer(props) {\n  return (\n    <Container fluid style={{ backgroundColor: 'var(--dark)' }}>\n      <Container className={styles.footer}>\n        <Row>\n          <Col xs={6} sm={{ span: 5, order: 1 }} lg={{ span: 3, order: 1 }}>\n            <p className=\"Xsmall\">\n              RAWGraphs is an open source project designed and developed by{' '}\n              <a\n                href=\"http://densitydesign.org/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                DensityDesign\n              </a>\n              ,{' '}\n              <a\n                href=\"https://calib.ro/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Calibro\n              </a>{' '}\n              and{' '}\n              <a\n                href=\"https://inmagik.com/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Inmagik\n              </a>\n              .\n              <br /> 2013-2021{' '}\n              <a href=\"https://raw.github.com/rawgraphs/rawgraphs-app/master/LICENSE\">\n                (Apache License 2.0)\n              </a>\n            </p>\n          </Col>\n          <Col xs={6} sm={{ span: 5, order: 3 }} lg={{ span: 3, order: 1 }}>\n            <p className=\"Xsmall\"></p>\n          </Col>\n          {/* <Col xs={6} sm={{span:5, order:3}} lg={{span:3,order:1}}><p className=\"Xsmall\">This <span title={commitHash}>version</span> is intended to be available only for the backers of the crowdfunding campaign.</p></Col> */}\n          <Col\n            xs={6}\n            sm={{ span: 6, offset: 1, order: 2 }}\n            md={{ span: 3 }}\n            lg={{ offset: 0 }}\n            xl={{ span: 2, offset: 2 }}\n          >\n            <p>\n              <BsFillEnvelopeFill /> hello at rawgraphs.io\n            </p>\n            <p>\n              <FaTwitter />{' '}\n              <a\n                href=\"https://twitter.com/rawgraphs\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                @rawgraphs\n              </a>\n            </p>\n          </Col>\n          <Col\n            xs={6}\n            sm={{ span: 6, offset: 1, order: 4 }}\n            md={{ span: 2 }}\n            lg={{ offset: 0 }}\n            xl={{ span: 2, offset: 0 }}\n          >\n            <p>\n              <FaGithub />{' '}\n              <a\n                href=\"https://github.com/rawgraphs\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Github\n              </a>\n            </p>\n            <p>\n              <BsBarChartFill />{' '}\n              <a\n                href=\"https://old.rawgraphs.io\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                RAWGraphs v.1\n              </a>\n            </p>\n          </Col>\n        </Row>\n      </Container>\n    </Container>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport useWindowSize from '../../hooks/useWindowSize'\nimport { Modal, Button } from 'react-bootstrap'\nimport { BsEnvelopeFill } from 'react-icons/bs'\n\n// import styles from './ScreenSizeAlert.module.scss'\n\nfunction ScreenSizeAlert() {\n  const size = useWindowSize()\n  const [showModal, setShowModal] = useState(size.width < 992)\n  const [modalWasClosed, setModalWasClosed] = useState(false)\n\n  const handleClose = () => {\n    setShowModal(false)\n    setModalWasClosed(true)\n  }\n\n  useEffect(() => {\n    if (modalWasClosed === false) {\n      setShowModal(size.width < 992)\n    }\n  }, [modalWasClosed, size])\n\n  return (\n    <Modal\n      className=\"raw-modal\"\n      show={showModal}\n      onHide={handleClose}\n      backdrop=\"static\"\n      keyboard={false}\n      // size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title as=\"h5\">\n          <span role=\"img\" aria-label=\"Party icon\">\n            \n          </span>{' '}\n          Welcome to the new RAWGraphs!\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <p className=\"big\">\n          RAWGraphs 2.0 is designed for {size.width >= 768 ? 'slightly ' : ' '}\n          bigger screens!\n        </p>\n        <p>\n          Resize your browser window or{' '}\n          <a href=\"mailto:?subject=Visit+RAWGraphs+2.0&body=Hello%21%0D%0APlease+do+not+forget+to+take+a+look+at+the+new+version+of+RAWGraphs%21%0D%0A%0D%0AVisit%3A+https%3A%2F%2Fdev.rawgraphs.io%2F%0D%0A%0D%0ASee+you+later%2C%0D%0AThe+RAWGraphs+Team\">\n            <BsEnvelopeFill /> send yourself a reminder\n          </a>{' '}\n          to come back at a better time.\n        </p>\n        <p>Touch devices are not fully supported yet.</p>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"primary\" onClick={handleClose}>\n          Got it!\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  )\n}\n\nexport default ScreenSizeAlert\n","import * as Comlink from 'comlink'\n/* eslint-disable import/no-webpack-loader-syntax */\nimport Worker from 'worker-loader!./worker'\n\nlet parsingWorker // = new Worker()\n\nexport function parseDatasetInWorker(data, dataTypes, parsingOptions) {\n  // TODO: Check lazy loading vs terminate on each time\n  if (!parsingWorker) {\n    parsingWorker = new Worker()\n  }\n  let obj = Comlink.wrap(parsingWorker)\n  let out = obj.parseDataset(data, dataTypes, parsingOptions)\n  return out\n}\n\nlet mappingWorker // = new Worker()\n\nexport function mapDataInWorker(\n  chartName,\n  { data, mapping, visualOptions, dataTypes },\n  customChart\n) {\n  // TODO: Check lazy loading vs terminate on each time\n  if (!mappingWorker) {\n    mappingWorker = new Worker()\n  }\n  let obj = Comlink.wrap(mappingWorker)\n  let out = obj.mapData(\n    chartName,\n    { data, mapping, visualOptions, dataTypes },\n    customChart\n  )\n  return out\n}\n","import { useEffect, useState } from 'react'\n\n// Hook\nexport default function useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    \n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    \n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    \n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n\n  return windowSize;\n}\n\n","// import React from \"react\"\nimport { BsClock, BsHash, BsType } from 'react-icons/bs'\nimport arEG from 'd3-time-format/locale/ar-EG.json'\nimport caES from 'd3-time-format/locale/ca-ES.json'\nimport csCZ from 'd3-time-format/locale/cs-CZ.json'\nimport daDK from 'd3-time-format/locale/da-DK.json'\nimport deCH from 'd3-time-format/locale/de-CH.json'\nimport deDE from 'd3-time-format/locale/de-DE.json'\nimport enCA from 'd3-time-format/locale/en-CA.json'\nimport enGB from 'd3-time-format/locale/en-GB.json'\nimport enUS from 'd3-time-format/locale/en-US.json'\nimport esES from 'd3-time-format/locale/es-ES.json'\nimport esMX from 'd3-time-format/locale/es-MX.json'\nimport faIR from 'd3-time-format/locale/fa-IR.json'\nimport fiFI from 'd3-time-format/locale/fi-FI.json'\nimport frCA from 'd3-time-format/locale/fr-CA.json'\nimport frFR from 'd3-time-format/locale/fr-FR.json'\nimport heIL from 'd3-time-format/locale/he-IL.json'\nimport huHU from 'd3-time-format/locale/hu-HU.json'\nimport itIT from 'd3-time-format/locale/it-IT.json'\nimport jaJP from 'd3-time-format/locale/ja-JP.json'\nimport koKR from 'd3-time-format/locale/ko-KR.json'\nimport mkMK from 'd3-time-format/locale/mk-MK.json'\nimport nbNO from 'd3-time-format/locale/nb-NO.json'\nimport nlNL from 'd3-time-format/locale/nl-NL.json'\nimport plPL from 'd3-time-format/locale/pl-PL.json'\nimport ptBR from 'd3-time-format/locale/pt-BR.json'\nimport ruRU from 'd3-time-format/locale/ru-RU.json'\nimport svSE from 'd3-time-format/locale/sv-SE.json'\nimport ukUA from 'd3-time-format/locale/uk-UA.json'\nimport zhCN from 'd3-time-format/locale/zh-CN.json'\nimport zhTW from 'd3-time-format/locale/zh-TW.json'\n\n// // creplaced with the following\n// export const DATATYPE_ICONS = {\n//   'date': <BsClock />,\n//   'number': <BsHash />,\n//   'string': <BsType />\n// }\n\nexport const DateIcon = BsClock\nexport const NumberIcon = BsHash\nexport const StringIcon = BsType\n\nexport const dataTypeIcons = {\n  date: DateIcon,\n  number: NumberIcon,\n  string: StringIcon,\n}\n\nexport const localeList = {\n  'ar-EG': arEG,\n  'ca-ES': caES,\n  'cs-CZ': csCZ,\n  'da-DK': daDK,\n  'de-CH': deCH,\n  'de-DE': deDE,\n  'en-CA': enCA,\n  'en-GB': enGB,\n  'en-US': enUS,\n  'es-ES': esES,\n  'es-MX': esMX,\n  'fa-IR': faIR,\n  'fi-FI': fiFI,\n  'fr-CA': frCA,\n  'fr-FR': frFR,\n  'he-IL': heIL,\n  'hu-HU': huHU,\n  'it-IT': itIT,\n  'ja-JP': jaJP,\n  'ko-KR': koKR,\n  'mk-MK': mkMK,\n  'nb-NO': nbNO,\n  'nl-NL': nlNL,\n  'pl-PL': plPL,\n  'pt-BR': ptBR,\n  'ru-RU': ruRU,\n  'sv-SE': svSE,\n  'uk-UA': ukUA,\n  'zh-CN': zhCN,\n  'zh-TW': zhTW,\n}\n\nexport const WEBWORKER_ACTIVE = true\n\nexport const separatorsLabels = {\n  '\\\\t': 'Tab',\n  ';': 'Semicolon',\n  ',': 'Comma',\n  '|': 'Pipe',\n}\n\nexport const separatorsList = Object.keys(separatorsLabels)\n\nexport const DefaultSeparator = \",\"\n\nexport const AGGREGATIONS_LABELS = {\n  \"count\": \"Count\",\n  \"mean\": \"Average\",\n  \"median\": \"Median\",\n  \"max\": \"Max\",\n  \"min\": \"Min\",\n  \"countDistinct\": \"Count unique\",\n  \"sum\": \"Sum\",\n  \"csv\": \"CSV\",\n  \"csvDistinct\": \"CSV (unique)\",\n}\n\nexport const SCALES_LABELS = {\n  \"sequential\": \"Sequential\",\n  \"diverging\": \"Diverging\",\n  \"ordinal\": \"Ordinal\"\n}\n\nexport const COLOR_SCHEMES_LABELS = {\n  \"interpolateBlues\": \"Blue sequential\",\n  \"interpolateGreens\": \"Green sequential\",\n  \"interpolateReds\": \"Red sequential\",\n  \"interpolateRdBu\": \"RdBu diverging\",\n  \"interpolateBrBG\": \"BrBG diverging\",\n  \"interpolatePiYG\": \"PiYG diverging\",\n  \"schemeCategory10\": \"Categorical 10\",\n  \"interpolateTurbo\": \"Turbo discrete\",\n  \"interpolateSpectral\": \"Spectral discrete\"\n}","export default function() {\n  return new Worker(__webpack_public_path__ + \"static/js/worker.95503fb9.worker.js\");\n}\n","import { dsvFormat } from 'd3'\nimport { DefaultSeparator, separatorsList } from '../../constants'\n\nfunction JsonParser(dataString) {\n  //Removing white lines (useful when pasting from sheets, ecc)\n  const trimmedDataString = dataString\n    .trim()\n    .replace(/^(?=\\n)$|^\\s*|\\s*$|\\n\\n+/gm, '')\n  \n  return [JSON.parse(trimmedDataString), {}]\n}\n\nfunction CsvParser(dataString, opts) {\n  //Removing white lines (useful when pasting from sheets, ecc)\n  const trimmedDataString = dataString\n    .trim()\n    .replace(/^(?=\\n)$|^\\s*|\\s*$|\\n\\n+/gm, '')\n  \n  // Use the separator the user gives me, if any\n  if (opts.separator) {\n    return [\n      dsvFormat(opts.separator).parse(trimmedDataString),\n      {\n        separator: opts.separator,\n      },\n    ]\n  }\n  // Otherwise, try to infer it\n  const candidates = []\n  for (const _separator of separatorsList) {\n    const separator = _separator\n      .replace(/\\\\r/g, '\\r')\n      .replace(/\\\\n/g, '\\n')\n      .replace(/\\\\t/g, '\\t')\n    try {\n      const parser = dsvFormat(separator)\n      const parsed = parser.parse(trimmedDataString)\n      if (\n        (parsed.length > 0 && Object.keys(parsed[0]).length > 1) ||\n        separator === DefaultSeparator\n      ) {\n        candidates.push({\n          separator,\n          score: Object.keys(parsed[0]).length,\n          parsed,\n        })\n      }\n    } catch (e) {}\n  }\n  candidates.sort((a, b) => b.score - a.score)\n  return [candidates[0].parsed, { separator: candidates[0].separator }]\n}\n\nexport const SparqlMarker = Symbol(\"RawgraphsSparqlMarker\")\n\nfunction SparqlParser(data, opts) {\n  if (data[SparqlMarker] === true) {\n    return [data, {}]\n  } \n  throw new Error(\"Not a sparql result\")\n}\n\nconst PARSERS = [\n  { dataType: 'sparql', parse: SparqlParser },\n  { dataType: 'json', parse: JsonParser },\n  { dataType: 'csv', parse: CsvParser },\n]\n\nexport function parseData(data, opts) {\n  for (const parser of PARSERS) {\n    try {\n      const [parsed, extra] = parser.parse(data, opts)\n      return [parser.dataType, parsed, extra]\n    } catch (e) {\n      // console.error('Parsing error', e)\n    }\n  }\n  return [null, null]\n}\n\nexport function parseAndCheckData(dataString, opts) {\n  const [dataType, data, extra] = parseData(dataString, opts)\n  if (dataType === null) {\n    // This should never happen\n    return [\n      dataType,\n      data,\n      'Cannot parse dataset! (This should never happen)',\n      {},\n    ]\n  } else {\n    if (dataType === 'json') {\n      return ['json', data, null, extra]\n    } else if (data.length > 0) {\n      return [dataType, data, null, extra]\n    } else {\n      return [null, null, \"We can't parse your data.\", {}]\n    }\n  }\n}\n\nfunction isScalarType(item) {\n  return ['string', 'number', 'boolean'].includes(typeof item)\n}\n\nexport function normalizeJsonArray(jsonArray) {\n  return jsonArray\n    .map((element) => {\n      let iterateElement = element\n      if (Array.isArray(iterateElement)) {\n        const tmp = {}\n        iterateElement.forEach((item, i) => {\n          tmp[`Column ${i + 1}`] = item\n        })\n        iterateElement = tmp\n      }\n      if (isScalarType(iterateElement) || iterateElement === null) {\n        iterateElement = { value: iterateElement }\n      }\n      const outElement = {}\n      for (const property in iterateElement) {\n        const value = iterateElement[property]\n        const valueType = typeof value\n        if (Array.isArray(value)) {\n          outElement[property] = value.filter(isScalarType).join(' ')\n        } else if (valueType === 'object' && valueType !== null) {\n          for (const nestedProperty in value) {\n            const nestedValue = value[nestedProperty]\n            if (isScalarType(nestedValue)) {\n              outElement[`${property}.${nestedProperty}`] = nestedValue\n            }\n          }\n        } else if (isScalarType(value)) {\n          outElement[property] = value\n        }\n      }\n      return outElement\n    })\n    .filter((item) => item !== null)\n}\n","import { flatMap, omit, map } from 'lodash'\n\nexport function stackData(data, column) {\n  return flatMap(data, (record) => {\n    const key = record[column]\n    const others = omit(record, column)\n    return map(others, (value, prop) => {\n      return {\n        [column]: key,\n        column: prop,\n        value,\n      }\n    })\n  })\n}\n","import { parseDataset } from '@rawgraphs/rawgraphs-core'\nimport { difference, get } from 'lodash'\nimport { useCallback, useState } from 'react'\nimport { DefaultSeparator, localeList, WEBWORKER_ACTIVE } from '../constants'\nimport { parseDatasetInWorker } from '../worker'\nimport {\n  normalizeJsonArray,\n  parseAndCheckData,\n} from './useDataLoaderUtils/parser'\nimport { stackData } from './useDataLoaderUtils/stack'\n\nexport const DATA_LOADER_MODE = {\n  DIRECT: 'direct',\n  REPLACE: 'replace',\n}\n\nconst __cache = {}\n\nexport default function useDataLoader() {\n  /* Data to be plot in the chart */\n  /* First stage: raw user input */\n  const [userInput, setUserInput] = useState('')\n  const [dataSource, setDataSource] = useState(null)\n\n  /* Second stage: parsed data and user data type (i.e. csv, json, ...) */\n  /*\n   * In case user data type is json, userData is not filled immediately.\n   * Instead, a JSON view is first shown asking the user to select an\n   * array inside the JSON tree. The (parsed) content of the array will\n   * be used to fill `userData`. In case of some error during parsing,\n   * the `parseError` state holds the error description\n   */\n  const [userData, setUserData] = useState(null)\n  const [userDataType, setUserDataType] = useState(null)\n  const [parseError, setParserError] = useState(null)\n  const [unstackedInfo, setUnstackedInfo] = useState([null, null])\n\n  /* Data Parsing Options */\n  const [separator, setSeparator] = useState(DefaultSeparator)\n  const [thousandsSeparator, setThousandsSeparator] = useState(',')\n  const [decimalsSeparator, setDecimalsSeparator] = useState('.')\n  const [locale, setLocale] = useState(navigator.language || 'en-US')\n  const [stackDimension, setStackDimension] = useState()\n\n  /* Third stage: data ready to become a chart */\n  const [data, setData] = useState(null)\n\n  /* Stack operations */\n  const [unstackedData, unstackedColumns] = unstackedInfo\n\n  /* Misc */\n  const [loading, setLoading] = useState(false)\n  const [mode, setMode] = useState(DATA_LOADER_MODE.DIRECT)\n  const [\n    replaceRequiresConfirmation,\n    setReplaceRequiresConfirmation,\n  ] = useState(undefined)\n\n  /* Unpacking */\n  const columnsTypes = unstackedColumns ?? data?.dataTypes\n\n  //wrapper for async parse via web worker\n  const parseDatasetAsyncAndSetData = useCallback(\n    (data, dataTypes, parsingOptions) => {\n      setLoading(true)\n      return parseDatasetInWorker(data, dataTypes, {\n        ...parsingOptions,\n        dateLocale: get(localeList, parsingOptions.locale),\n      })\n        .then((resultData) => {\n          return resultData\n        })\n        .catch((err) => {\n          console.log('eee', err)\n        })\n        .finally(() => {\n          setLoading(false)\n        })\n    },\n    [setLoading]\n  )\n\n  const parseDatasetSyncAndSetData = useCallback(\n    (data, dataTypes, parsingOptions) => {\n      setLoading(true)\n      return new Promise((resolve, reject) => {\n        try {\n          const resultData = parseDataset(data, dataTypes, {\n            ...parsingOptions,\n            dateLocale: get(localeList, parsingOptions.locale),\n          })\n          resolve(resultData)\n        } catch (e) {\n          reject(e)\n        } finally {\n          setLoading(false)\n        }\n      })\n    },\n    [setLoading]\n  )\n\n  const parseDatasetAuto = useCallback(\n    (data, dataTypes, parsingOptions) => {\n      const worker = WEBWORKER_ACTIVE\n        ? parseDatasetAsyncAndSetData\n        : parseDatasetSyncAndSetData\n      return worker(data, dataTypes, parsingOptions)\n    },\n    [parseDatasetAsyncAndSetData, parseDatasetSyncAndSetData]\n  )\n\n  const parseDatasetAndSetData = useCallback(\n    (data, dataTypes, parsingOptions) => {\n      return parseDatasetAuto(data, dataTypes, parsingOptions).then((data) =>\n        setData(data)\n      )\n    },\n    [parseDatasetAuto]\n  )\n\n  const reset = useCallback(() => {\n    setData(null)\n    setUserData(null)\n    setUserDataType(null)\n    setUserInput('')\n    setDataSource(null)\n    setParserError(null)\n    setStackDimension(null)\n    setUnstackedInfo([null, null])\n  }, [])\n\n  const hydrateFromSavedProject = useCallback(\n    (project) => {\n      const {\n        userInput,\n        userData,\n        userDataType,\n        parseError,\n        unstackedColumns,\n        unstackedData,\n        dataTypes,\n        separator,\n        thousandsSeparator,\n        decimalsSeparator,\n        locale,\n        stackDimension,\n        dataSource,\n      } = project\n      setUserInput(userInput)\n      setUserDataType(userDataType)\n      setSeparator(separator)\n      setThousandsSeparator(thousandsSeparator)\n      setDecimalsSeparator(decimalsSeparator)\n      setLocale(locale)\n      setStackDimension(stackDimension)\n      setDataSource(dataSource)\n      setUserData(userData)\n      setParserError(parseError)\n      setUnstackedInfo([unstackedData, unstackedColumns])\n      parseDatasetAndSetData(userData, dataTypes, {\n        thousandsSeparator,\n        decimalsSeparator,\n        locale,\n      })\n    },\n    [parseDatasetAndSetData]\n  )\n\n  const handleReplacingData = useCallback(\n    (userData) => {\n      parseDatasetAuto(userData, undefined, {\n        locale,\n        decimal: decimalsSeparator,\n        group: thousandsSeparator,\n      }).then((newDataInferred) => {\n        if (newDataInferred.errors.length > 0) {\n          // Parsing resulted in errors, cannot replace data safely!\n          __cache.replacedData = newDataInferred\n          setReplaceRequiresConfirmation('parse-error')\n        } else {\n          const oldColNames = Object.keys(columnsTypes)\n          const newColNames = Object.keys(newDataInferred.dataTypes)\n          const missingCols = difference(oldColNames, newColNames)\n          if (missingCols.length > 0) {\n            // There is at least one column missing in the new dataset\n            // Replace cannot be safe\n            __cache.replacedData = newDataInferred\n            setReplaceRequiresConfirmation('missing-column:' + missingCols[0])\n          } else {\n            const nextDataTypes = {\n              ...newDataInferred.dataTypes,\n              ...columnsTypes, // Keep eventual overrides in data types\n            }\n            parseDatasetAuto(userData, nextDataTypes, {\n              locale,\n              decimal: decimalsSeparator,\n              group: thousandsSeparator,\n            }).then((newData) => {\n              if (newData.errors.length > 0) {\n                // There was some error in type coercing, data cannot be replaced safely\n                __cache.replacedData = newDataInferred\n                setReplaceRequiresConfirmation('type-mismatch')\n              } else {\n                if (stackDimension) {\n                  setUnstackedInfo([userData, newData.dataTypes])\n                  const stackedData = stackData(userData, stackDimension)\n                  setUserData(stackedData)\n                  parseDatasetAuto(stackedData, data.dataTypes, {\n                    locale,\n                    decimal: decimalsSeparator,\n                    group: thousandsSeparator,\n                  }).then(data => setData(data))\n                } else {\n                  setData(newData)\n                }\n              }\n            })\n          }\n        }\n      })\n    },\n    [\n      columnsTypes,\n      data,\n      decimalsSeparator,\n      locale,\n      parseDatasetAuto,\n      stackDimension,\n      thousandsSeparator,\n    ]\n  )\n\n  const handleNewUserData = useCallback(\n    (nextUserData) => {\n      setUserData(nextUserData)\n      if (mode === DATA_LOADER_MODE.DIRECT) {\n        parseDatasetAndSetData(nextUserData, undefined, {\n          locale,\n          decimal: decimalsSeparator,\n          group: thousandsSeparator,\n        })\n      } else if (mode === DATA_LOADER_MODE.REPLACE) {\n        handleReplacingData(nextUserData)\n      } else {\n        console.error('Unknown data loader mode!')\n      }\n    },\n    [\n      decimalsSeparator,\n      handleReplacingData,\n      locale,\n      mode,\n      parseDatasetAndSetData,\n      thousandsSeparator,\n    ]\n  )\n\n  /*\n   * Callback to handle user injecting data\n   * When user uploads some data (in any possible way), we store the raw user input at first\n   * Then we try to read it using different parsers (notably json and csv)\n   * Finally, if read is successful, we go inferring types using the raw-core library\n   */\n  function setUserDataAndDetect(str, source, options) {\n    const [dataType, parsedUserData, error, extra] = parseAndCheckData(str, {\n      separator: get(options, 'separator', null),\n    })\n    setUserInput(str)\n    setDataSource(source)\n    setUserDataType(dataType)\n    setParserError(error)\n    if (extra && typeof extra === \"object\" && \"separator\" in extra) {\n      setSeparator(extra.separator)\n    }\n    // Data parsed ok set parent data\n    if (dataType !== 'json' && !error) {\n      handleNewUserData(parsedUserData)\n    }\n    const jsonPath = dataSource?.jsonPath ?? undefined\n    if (dataType === 'json' && !error && jsonPath !== undefined) {\n      const jsonData = get(parsedUserData, jsonPath, null)\n      if (Array.isArray(jsonData)) {\n        handleNewUserData(jsonData)\n      }\n    }\n  }\n\n  const setJsonData = useCallback(\n    (data, path) => {\n      const normalized = normalizeJsonArray(data)\n      setUserData(normalized)\n      setDataSource({...dataSource, jsonPath: path })\n      handleNewUserData(normalized)\n    },\n    [dataSource, handleNewUserData]\n  )\n\n  /*\n   * Callback to handle user changing separator\n   * When the separator is changed, a fresh parsing of raw user input is required for proper handling\n   * Steps are very similar with respect to the `setUserInputAndDetect` callback, except for the\n   * fact that we take user input from state instead of from parameters\n   */\n  function handleChangeSeparator(newSeparator) {\n    const [dataType, parsedUserData, error] = parseAndCheckData(userInput, {\n      separator: newSeparator,\n    })\n    setSeparator(newSeparator)\n    setUserDataType(dataType)\n    setParserError(error)\n    if (dataType !== 'json' && !error && newSeparator) {\n      setUserData(parsedUserData)\n      parseDatasetAndSetData(parsedUserData, undefined, {\n        locale,\n        decimal: decimalsSeparator,\n        group: thousandsSeparator,\n      })\n    }\n  }\n\n  function handleChangeLocale(newLocale) {\n    if (!data) {\n      return\n    }\n    parseDatasetAndSetData(data.dataset, data.dataTypes, {\n      locale: newLocale,\n      decimal: decimalsSeparator,\n      group: thousandsSeparator,\n    })\n    setLocale(newLocale)\n  }\n\n  function handleChangeDecimalSeparator(newDecimalSeparator) {\n    const [dataType, parsedUserData, error] = parseAndCheckData(userInput, {\n      separator,\n    })\n    setDecimalsSeparator(newDecimalSeparator)\n    setUserDataType(dataType)\n    setParserError(error)\n    if (dataType !== 'json' && !error) {\n      setUserData(parsedUserData)\n      setLoading(true)\n      parseDatasetAndSetData(parsedUserData, undefined, {\n        locale,\n        decimal: newDecimalSeparator,\n        group: thousandsSeparator,\n      })\n      //setData(parseDataset(parsedUserData, undefined, {locale, decimal: newDecimalSeparator, group:thousandsSeparator}));\n    }\n  }\n\n  function handleChangeThousandsSeparator(newThousandsSeparator) {\n    const [dataType, parsedUserData, error] = parseAndCheckData(userInput, {\n      separator,\n    })\n    setThousandsSeparator(newThousandsSeparator)\n    setUserDataType(dataType)\n    setParserError(error)\n    if (dataType !== 'json' && !error) {\n      setUserData(parsedUserData)\n      parseDatasetAndSetData(parsedUserData, undefined, {\n        locale,\n        decimal: decimalsSeparator,\n        group: newThousandsSeparator,\n      })\n      // setData(parseDataset(parsedUserData, undefined, {locale, decimal: decimalsSeparator, group:newThousandsSeparator}));\n    }\n  }\n\n  /*\n   * Callback to handle user coercing a type of a column\n   * When this happens, we don't need to go through data parsing again, we just invoke\n   * the raw-core library starting from the parsed data (stage-2 data)\n   */\n  function coerceTypes(nextTypes) {\n    parseDatasetAndSetData(userData, nextTypes, {\n      locale,\n      decimal: decimalsSeparator,\n      group: thousandsSeparator,\n    })\n  }\n\n  /*\n   * Callback to handle user selecting a data sample from RawGraphs.io\n   * When this happens, we have data parsed with dsv with a proper separator out of the box\n   *   since in this case data are rigorously checked\n   * So we just take them as good and use the raw-core library to infer types\n   */\n  function loadSample(rawData, sampleSeparator) {\n    setSeparator(sampleSeparator)\n    setUserDataAndDetect(\n      rawData,\n      { type: 'sample' },\n      { separator: sampleSeparator }\n    )\n  }\n\n  function handleInlineEdit(newDataset) {\n    setUserData(newDataset)\n    parseDatasetAndSetData(newDataset, data.dataTypes, {\n      locale,\n      decimal: decimalsSeparator,\n      group: thousandsSeparator,\n    })\n    // setData(parseDataset(newDataset, data.dataTypes, {locale}))\n  }\n\n  function handleStackOperation(column) {\n    setStackDimension(column)\n    if (column !== null) {\n      if (unstackedData === null) {\n        setUnstackedInfo([userData, data.dataTypes])\n      }\n      const stackedData = stackData(unstackedData || userData, column)\n      setUserData(stackedData)\n      parseDatasetAndSetData(stackedData, undefined, {\n        locale,\n        decimal: decimalsSeparator,\n        group: thousandsSeparator,\n      })\n      // setData(parseDataset(stackedData, undefined, {locale }))\n    } else {\n      setUserData(unstackedData)\n      parseDatasetAndSetData(unstackedData, unstackedColumns, {\n        locale,\n        decimal: decimalsSeparator,\n        group: thousandsSeparator,\n      })\n      setUnstackedInfo([null, null])\n    }\n  }\n\n  const startDataReplace = useCallback(() => {\n    setMode(DATA_LOADER_MODE.REPLACE)\n    __cache.userInput = userInput\n    __cache.userDataType = userDataType\n    __cache.dataSource = dataSource\n    __cache.userData = userData\n    setUserInput(null)\n    setUserDataType(null)\n    setDataSource(null)\n    setUserData(null)\n  }, [dataSource, userData, userDataType, userInput])\n\n  const cancelDataReplace = useCallback(() => {\n    setReplaceRequiresConfirmation(false)\n    setMode(DATA_LOADER_MODE.DIRECT)\n    setUserInput(__cache.userInput)\n    setUserDataType(__cache.userDataType)\n    setDataSource(__cache.dataSource)\n    setUserData(__cache.userData)\n  }, [])\n\n  const commitDataReplace = useCallback(() => {\n    setReplaceRequiresConfirmation(false)\n    setData(__cache.replacedData)\n    setParserError(null)\n    setStackDimension(null)\n    setUnstackedInfo([null, null])\n  }, [])\n\n  return {\n    userInput,\n    setUserInput: setUserDataAndDetect,\n    userData,\n    userDataType,\n    parseError,\n    unstackedData,\n    unstackedColumns,\n    separator,\n    setSeparator: handleChangeSeparator,\n    thousandsSeparator,\n    setThousandsSeparator: handleChangeThousandsSeparator,\n    decimalsSeparator,\n    setDecimalsSeparator: handleChangeDecimalSeparator,\n    locale,\n    setLocale: handleChangeLocale,\n    stackDimension,\n    dataSource,\n    data,\n    loading,\n    coerceTypes,\n    loadSample,\n    handleInlineEdit,\n    handleStackOperation,\n    setJsonData,\n    resetDataLoader: reset,\n    hydrateFromSavedProject,\n    dataLoaderMode: mode,\n    startDataReplace,\n    cancelDataReplace,\n    commitDataReplace,\n    replaceRequiresConfirmation,\n  }\n}\n","import React, { useMemo, useRef, useState, useCallback } from 'react'\nimport ReactDataGrid from 'react-data-grid'\nimport { Overlay, OverlayTrigger } from 'react-bootstrap'\nimport classNames from 'classnames'\nimport { getTypeName, dateFormats } from '@rawgraphs/rawgraphs-core'\nimport S from './DataGrid.module.scss'\nimport { keyBy, get, isEqual } from 'lodash'\nimport {\n  dataTypeIcons,\n  DateIcon,\n  StringIcon,\n  NumberIcon,\n} from '../../constants'\nimport { BsFillCaretRightFill } from 'react-icons/bs'\n\nconst DATE_FORMATS = Object.keys(dateFormats)\n\nconst DateFormatSelector = React.forwardRef(\n  ({ currentFormat, onChange, className, ...props }, ref) => {\n    return (\n      <div\n        className={classNames(className, S['date-format-selector'])}\n        ref={ref}\n        {...props}\n      >\n        {DATE_FORMATS.map((dateFmt) => (\n          <div\n            key={dateFmt}\n            className={classNames(S['date-format-selector-entry'], {\n              [S.selected]: get(currentFormat, 'dateFormat', '') === dateFmt,\n            })}\n            onClick={(e) => {\n              e.stopPropagation()\n              e.preventDefault()\n              onChange &&\n                onChange({\n                  type: 'date',\n                  dateFormat: dateFmt,\n                })\n            }}\n          >\n            {dateFmt}\n          </div>\n        ))}\n      </div>\n    )\n  }\n)\n\nfunction DataTypeSelector({\n  currentType: typeDescriptor,\n  onTypeChange,\n  currentTypeComplete,\n}) {\n  const dataTypeIconDomRef = useRef(null)\n  const [showPicker, setShowPicker] = useState(false)\n  const currentType = get(typeDescriptor, 'type', typeDescriptor)\n\n  const handleTypeChange = useCallback(\n    (e) => {\n      e.stopPropagation()\n      e.preventDefault()\n      const newType = e.target.dataset.datatype\n      if (\n        typeof onTypeChange === 'function' &&\n        !isEqual(newType, typeDescriptor)\n      ) {\n        onTypeChange(newType)\n      }\n      setShowPicker(false)\n    },\n    [typeDescriptor, onTypeChange]\n  )\n\n  const handleTypeChangeDate = useCallback(\n    (newType) => {\n      if (\n        typeof onTypeChange === 'function' &&\n        !isEqual(newType, typeDescriptor)\n      ) {\n        onTypeChange(newType)\n      }\n      setShowPicker(false)\n    },\n    [typeDescriptor, onTypeChange]\n  )\n\n  const handleTargetClick = useCallback(\n    (e) => {\n      e.stopPropagation()\n      e.preventDefault()\n      setShowPicker(!showPicker)\n    },\n    [showPicker]\n  )\n\n  const Icon = dataTypeIcons[currentType]\n\n  return (\n    <>\n      <span\n        role=\"button\"\n        className={S['data-type-selector-trigger']}\n        ref={dataTypeIconDomRef}\n        onClick={handleTargetClick}\n      >\n        <Icon />\n      </span>\n      <Overlay\n        target={dataTypeIconDomRef.current}\n        show={showPicker}\n        placement=\"bottom-start\"\n        rootClose={true}\n        rootCloseEvent=\"click\"\n        onHide={() => {\n          setShowPicker(false)\n        }}\n        container={document.body}\n      >\n        {({\n          placement,\n          scheduleUpdate,\n          arrowProps,\n          outOfBoundaries,\n          show: _show,\n          ...props\n        }) => (\n          <div\n            id=\"data-type-selector\"\n            className={S['data-type-selector']}\n            onClick={(e) => e.stopPropagation()}\n            {...props}\n          >\n            <div\n              data-datatype=\"number\"\n              onClick={handleTypeChange}\n              className={classNames(S['data-type-selector-item'], {\n                [S.selected]: currentType === 'number',\n              })}\n            >\n              <NumberIcon /> Number\n            </div>\n            <OverlayTrigger\n              placement=\"right-start\"\n              overlay={\n                <DateFormatSelector\n                  currentType={typeDescriptor}\n                  onChange={handleTypeChangeDate}\n                />\n              }\n              trigger=\"click\"\n            >\n              {({ ref, ...triggerHandler }) => (\n                <div\n                  ref={ref}\n                  data-datatype=\"date\"\n                  {...triggerHandler}\n                  className={classNames(\n                    S['data-type-selector-item'],\n                    S['parent-type-selector'],\n                    { [S.selected]: currentType === 'date' }\n                  )}\n                >\n                  <div>\n                    <DateIcon />\n                    {'Date'}\n                    {currentType === 'date' && (\n                      <span className={S['date-format-preview']}>\n                        {' (' + (currentTypeComplete.dateFormat) + ')  '}\n                      </span>\n                    )}\n                  </div>\n                  <BsFillCaretRightFill\n                    style={{ marginRight: 0, fill: 'var(--gray-700)' }}\n                  />\n                </div>\n              )}\n            </OverlayTrigger>\n            <div\n              data-datatype=\"string\"\n              onClick={handleTypeChange}\n              className={classNames(S['data-type-selector-item'], {\n                [S.selected]: currentType === 'string',\n              })}\n            >\n              <StringIcon /> String\n            </div>\n          </div>\n        )}\n      </Overlay>\n    </>\n  )\n}\n\nfunction HeaderRenderer({ ...props }) {\n  const { column } = props\n  const { key, sortColumn, sortDirection } = column\n  return (\n    <div\n      className={classNames(\n        { [S['raw-col-header']]: true },\n        {\n          [S['unsorted']]:\n            key !== sortColumn ||\n            (key === sortColumn && sortDirection === 'NONE'),\n        },\n        { [S['acs']]: key === sortColumn && sortDirection === 'ASC' },\n        { [S['desc']]: key === sortColumn && sortDirection === 'DESC' }\n      )}\n    >\n      <DataTypeSelector\n        currentType={column._raw_datatype}\n        onTypeChange={column._raw_coerceType}\n        currentTypeComplete={column._raw_datatype}\n      />\n      <span\n        className={classNames(S['column-name'], 'text-truncate', 'd-block')}\n        title={column.name}\n      >\n        {column.name}\n      </span>\n    </div>\n  )\n}\n\nexport default function DataGrid({\n  userDataset,\n  dataset,\n  errors,\n  dataTypes,\n  coerceTypes,\n  onDataUpdate,\n}) {\n  const [[sortColumn, sortDirection], setSort] = useState(['id', 'NONE'])\n\n  const keyedErrors = useMemo(() => keyBy(errors, 'row'), [errors])\n\n  const containerEl = useRef()\n\n  // Make id column just as large as needed\n  // Adjust constants to fit cell padding and font size\n  // (Math.floor(Math.log10(data.dataset.length)) + 1) is the number\n  //   of digits of the highest id\n  const idColumnWidth =\n    24 + 8 * (Math.floor(Math.log10(userDataset.length)) + 1)\n  \n  const equalDinstribution = (containerEl.current?.getBoundingClientRect().width - idColumnWidth - 1) / Object.keys(dataTypes).length\n  const columnWidth = equalDinstribution ? Math.max(equalDinstribution, 170) : 170;\n\n  const columns = useMemo(() => {\n    if (!userDataset || !dataTypes) {\n      return []\n    }\n    return [\n      {\n        key: '_id',\n        name: '',\n        headerRenderer: () => null,\n        frozen: true,\n        width: idColumnWidth,\n        sortable: true,\n      },\n      ...Object.keys(dataTypes).map((k, i) => ({\n        key: k,\n        name: k,\n        sortColumn: sortColumn,\n        sortDirection: sortDirection,\n        headerRenderer: HeaderRenderer,\n        editable: true,\n        formatter: ({ row }) => {\n          return (\n            <div\n              className={classNames({ [S['has-error']]: row?._errors?.[k] })}\n            >\n              {row[k]?.toString()}\n              {/* {row[k]} */}\n            </div>\n          )\n        },\n        _raw_datatype: dataTypes[k],\n        _raw_coerceType: (nextType) =>\n          coerceTypes({ ...dataTypes, [k]: nextType }),\n        sortable: true,\n        resizable: true,\n        width: columnWidth\n      })),\n    ]\n  }, [\n    coerceTypes,\n    dataTypes,\n    userDataset,\n    idColumnWidth,\n    columnWidth,\n    sortColumn,\n    sortDirection,\n  ])\n\n  const sortedDataset = useMemo(() => {\n    let datasetWithIds = userDataset.map((item, i) => ({\n      // Using .map ensures that we are not mutating a property\n      ...item,\n      _id: i + 1, // Give items some id to populate left-most column\n      _stage3: dataset[i], // The dataset parsed by raw lib basing on data types is needed for sorting!\n      _errors: keyedErrors[i]?.error, // Inject errors to format cells with parsing errors\n    }))\n    if (sortDirection === 'NONE') return datasetWithIds\n\n    const sortColumnType = getTypeName(dataTypes[sortColumn])\n\n    if (sortColumnType === 'number') {\n      datasetWithIds = datasetWithIds.sort(\n        (a, b) => a._stage3[sortColumn] - b._stage3[sortColumn]\n      )\n    } else if (sortColumnType === 'date') {\n      datasetWithIds =\n        datasetWithIds.sort(\n          (a, b) =>\n            a._stage3[sortColumn]?.valueOf() ??\n            0 - b._stage3[sortColumn]?.valueOf()\n        ) ?? 0\n    } else {\n      datasetWithIds = datasetWithIds.sort((a, b) =>\n        a._stage3[sortColumn]\n          ?.toString()\n          .localeCompare(b._stage3[sortColumn].toString())\n      )\n    }\n\n    return sortDirection === 'DESC' ? datasetWithIds.reverse() : datasetWithIds\n  }, [userDataset, sortDirection, dataTypes, sortColumn, dataset, keyedErrors])\n\n  const handleSort = useCallback((columnKey, direction) => {\n    setSort([columnKey, direction])\n  }, [])\n\n  return (\n    <div ref={containerEl}>\n      <ReactDataGrid\n        minColumnWidth={idColumnWidth}\n        columns={columns}\n        rows={sortedDataset}\n        rowHeight={48}\n        sortColumn={sortColumn}\n        sortDirection={sortDirection}\n        onSort={handleSort}\n        height={432}\n        onColumnResize={() => {\n          \n        }}\n        onRowsUpdate={(update) => {\n          if (update.action === 'CELL_UPDATE') {\n            const newDataset = [...userDataset]\n            newDataset[update.fromRow] = {\n              ...newDataset[update.fromRow],\n              [update.cellKey]: update.updated[update.cellKey],\n            }\n            onDataUpdate && onDataUpdate(newDataset)\n          }\n        }}\n      />\n    </div>\n  )\n}\n","import { Card, Col, Row } from 'react-bootstrap'\nimport styles from './DataSamples.module.scss'\n\nconst samplesList = [\n  {\n    name: 'The Global Flow of People',\n    category: 'Chord Diagram',\n    url: './sample-datasets/Chord Diagram - The Global Flow of People.csv',\n    delimiter: ';',\n    sourceName: 'Nikola Sander, Guy J. Abel & Ramon Bauer',\n    sourceURL:\n      'http://download.gsb.bund.de/BIB/global_flow/',\n  },\n  {\n    name: 'Hate crimes in New York',\n    category: 'Alluvial Diagram',\n    url: './sample-datasets/Alluvial diagram - Hate crimes in New York.tsv',\n    delimiter: '\\t',\n    sourceName: 'NYC Open Data',\n    sourceURL:\n      'https://data.cityofnewyork.us/Public-Safety/NYPD-Hate-Crimes/bqiq-cu78',\n  },\n  {\n    name: 'Lannister vs Starck relationships',\n    category: 'Arc diagrams',\n    url:\n      './sample-datasets/Arc diagrams - Lannister vs Starck relationships.tsv',\n    delimiter: '\\t',\n    sourceName: 'T. Breid via Kaggle',\n    sourceURL: 'https://www.kaggle.com/theobreid/got-data',\n  },\n  {\n    name: 'EU Index of consumer prices',\n    category: 'Horizon Graph',\n    url: './sample-datasets/Horizon Graph - EU Index of consumer prices.tsv',\n    delimiter: '\\t',\n    sourceName: 'Eurostat',\n    sourceURL:\n      'https://ec.europa.eu/eurostat/databrowser/bookmark/d84c6140-ed7e-443e-baf9-918679862d58?lang=en',\n  },\n\n  {\n    name: 'New York mean wage per occupation',\n    category: 'Beeswarm plot',\n    url: './sample-datasets/Beeswarm plot - NY mean wages.tsv',\n    delimiter: '\\t',\n    sourceName: 'NYC Open Data',\n    sourceURL:\n      'https://data.ny.gov/w/gkgz-nw24/caer-yrtv?cur=S3JXBWlXCbs&from=SAa8_R9mOdD',\n  },\n\n  {\n    name: 'Temperature in Paris during the World War II',\n    category: 'Contour plot',\n    url:\n      './sample-datasets/Contour plot - Mean temperature in Paris 1944-1945.tsv',\n    delimiter: '\\t',\n    sourceName: 'NOAA',\n    sourceURL:\n      'https://www.ncdc.noaa.gov/data-access/land-based-station-data/land-based-datasets/world-war-ii-era-data',\n  },\n\n  {\n    name: 'Highest grossing movies in history',\n    category: 'Bubble chart',\n    url: './sample-datasets/Bubble Chart - TOP 50 Groossing Movies.tsv',\n    delimiter: '\\t',\n    sourceName: 'Wikipedia',\n    sourceURL:\n      'https://en.wikipedia.org/w/index.php?title=List_of_highest-grossing_films&oldid=1023491946',\n  },\n\n  {\n    name: 'Foreign residents in Milan',\n    category: 'Bumpchart',\n    url: './sample-datasets/Bump chart - Foreign residents in Milan.tsv',\n    delimiter: '\\t',\n    sourceName: 'Comune di Milano',\n    sourceURL:\n      'https://dati.comune.milano.it/dataset/ds74-popolazione-residenti-stranieri-cittadinanza',\n  },\n\n  {\n    name: 'Most populated cities per continent',\n    category: 'Circle packing',\n    url: './sample-datasets/Circle Packing - Most populated cities.tsv',\n    delimiter: '\\t',\n    sourceName: 'Wikidata',\n    sourceURL:\n      'https://query.wikidata.org/#SELECT%20%3Fitem%20%3FitemLabel%20%3Fpopulation%20%3Fcountry%20%3FcountryLabel%20%3Fcontinent%20%3FcontinentLabel%0AWHERE%20%7B%0A%20%20%3Fitem%20wdt%3AP31%20wd%3AQ1637706%20.%20%23%20get%20things%20that%20are%20bands%0A%20%20%3Fitem%20wdt%3AP1082%20%3Fpopulation%20.%0A%20%20%23%3Fitems%20wdt%3AP571%20%3Fdate%20.%20%23%20get%20the%20date%20when%20the%20band%20was%20founded%0A%20%20%3Fitem%20wdt%3AP17%20%3Fcountry%20.%0A%20%20%3Fcountry%20wdt%3AP30%20%3Fcontinent%20.%0A%20%20%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%7D%0A%7D%0A',\n  },\n\n  {\n    name: 'Kobe Bryant shoots',\n    category: 'Hexagonal Binning, Voronoi diagram',\n    url: './sample-datasets/Hexbin - basketball shots.tsv',\n    delimiter: '\\t',\n    sourceName: 'Kaggle',\n    sourceURL: 'https://www.kaggle.com/c/kobe-bryant-shot-selection/',\n  },\n\n  {\n    name: 'Orchestras by musical instrument',\n    category: 'Treemap',\n    url: './sample-datasets/Treemap - Orchestra.tsv',\n    delimiter: '\\t',\n    sourceName: 'Wikipedia',\n    sourceURL:\n      'https://en.wikipedia.org/w/index.php?title=Orchestra&oldid=1022472978',\n  },\n\n  {\n    name: 'Italians PMs and Presidents',\n    category: 'Gantt chart',\n    url: './sample-datasets/Gantt chart - Italian PMs and presidents.tsv',\n    delimiter: '\\t',\n    sourceName: 'Wikidata',\n    sourceURL:\n      'https://query.wikidata.org/#%23Primi%20ministri%0ASELECT%20%3Fitem%20%3FitemLabel%20%3Fstart%20%3Fend%0AWHERE%20%0A%7B%0A%20%20%3Fitem%20p%3AP39%20%3Fposition.%0A%20%20%3Fposition%20ps%3AP39%20wd%3AQ332711%3B%0A%20%20%20%20%20%20%20%20pq%3AP580%20%3Fstart%3B%0A%20%20%20%20%20%20%20%20pq%3AP582%20%3Fend%0A%20%20%23%3Fstart%20wdt%3AP580%20%3Fitem.%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%7D%0A%7D',\n  },\n\n  {\n    name: 'Revenues per Music format',\n    category: 'Line chart',\n    url: './sample-datasets/Line chart - RIAA Music format revenues.tsv',\n    delimiter: '\\t',\n    sourceName: 'RIAA',\n    sourceURL: 'https://www.riaa.com/u-s-sales-database/',\n  },\n\n  {\n    name: 'Energy flows in UK (2050)',\n    category: 'Sankey diagram',\n    url: './sample-datasets/Sankey diagram - Energy flows.tsv',\n    delimiter: '\\t',\n    sourceName: 'gov.uk',\n    sourceURL:\n      'https://www.gov.uk/government/publications/2050-pathways-calculator-with-costs',\n  },\n\n  {\n    name: 'Aromas of wine and frequency',\n    category: 'Sunburst Diagram',\n    url: './sample-datasets/Sunburst - Wine Aromas.tsv',\n    delimiter: '\\t',\n    sourceName: 'Own work',\n    sourceURL: '',\n  },\n\n  {\n    name: 'Happiness index',\n    category: 'Multiset Barchart',\n    url: './sample-datasets/Multiset Barchart - Happiness Index.tsv',\n    delimiter: '\\t',\n    sourceName: 'World Happiness Report',\n    sourceURL: 'https://worldhappiness.report/',\n  },\n\n  {\n    name: 'GDP sector composition',\n    category: 'Pie chart, Stacked barchart',\n    url: './sample-datasets/Stacked barchart - GDP sector composition.tsv',\n    delimiter: '\\t',\n    sourceName: 'Wikipedia',\n    sourceURL:\n      'https://en.wikipedia.org/w/index.php?title=List_of_countries_by_GDP_sector_composition&oldid=1022131842',\n  },\n\n  {\n    name: 'Felidae classification (cats and friends)',\n    category: 'Dendrogram, Circular dendrogram',\n    url: './sample-datasets/Dendrogram - Felidae classification.tsv',\n    delimiter: '\\t',\n    sourceName: 'Special thanks to interns',\n    sourceURL: '',\n  },\n\n  {\n    name: 'Iris flowers',\n    category: 'Convex hull, Similarity Map, Parallel Coordinates',\n    url: './sample-datasets/Convex hull - Iris flowers.tsv',\n    delimiter: '\\t',\n    sourceName: 'R. Fisher',\n    sourceURL: 'https://en.wikipedia.org/wiki/Iris_flower_data_set',\n  },\n\n  {\n    name: 'Letter Frequency by Language',\n    category: 'Matrix plot (Heatmap)',\n    url: './sample-datasets/Matrix Plot - Letters frequencies by language.tsv',\n    delimiter: '\\t',\n    sourceName: 'Wikipedia',\n    sourceURL: 'https://en.wikipedia.org/wiki/Letter_frequency',\n  },\n\n  {\n    name: 'FIFA players statistics',\n    category: 'Radar Chart',\n    url: './sample-datasets/Radar Chart - Fifa players.tsv',\n    delimiter: '\\t',\n    sourceName: 'K. Gadiya via Kaggle',\n    sourceURL: 'https://www.kaggle.com/karangadiya/fifa19',\n  },\n\n  {\n    name: 'Olympics Medals',\n    category: 'Streamgraph',\n    url: './sample-datasets/Streamgraph - Olympics Medals.tsv',\n    delimiter: '\\t',\n    sourceName: 'D. Agrawal via Kaggle',\n    sourceURL: 'https://www.kaggle.com/divyansh22/summer-olympics-medals',\n  },\n\n  {\n    name: 'Weather in New York, 2012-2015',\n    category: 'Violin plot, Boxplot',\n    url: './sample-datasets/Violin plot - Weather in New York.tsv',\n    delimiter: '\\t',\n    sourceName: 'NOAA via Vega Dataset',\n    sourceURL:\n      'https://github.com/vega/vega-datasets/blob/master/SOURCES.md#seattle-weathercsv',\n  },\n\n  {\n    name: 'Netflix Original Series 2013/2017',\n    category: 'Bar chart',\n    url: './sample-datasets/Bar chart - Netflix Original Series.tsv',\n    delimiter: '\\t',\n    sourceName: 'M. Schroyer via Data World',\n    sourceURL: 'https://data.world/mattschroyer/netflix-original-series',\n  },\n\n  {\n    name: 'Population Austria',\n    category: 'Paired Bar chart',\n    url: './sample-datasets/Paired Bar Chart - Population Austria.tsv',\n    delimiter: '\\t',\n    sourceName: 'Statistik Austria',\n    sourceURL: 'https://www.statistik.at/statistiken/bevoelkerung-und-soziales/bevoelkerung/bevoelkerungsstand/bevoelkerung-nach-alter/geschlecht',\n  },\n\n  {\n    name: 'Premier League and Serie A points',\n    category: 'Slope chart',\n    url: './sample-datasets/Slope graph - Premier SerieA ranking.tsv',\n    delimiter: '\\t',\n    sourceName: 'Wikipedia',\n    sourceURL: 'https://en.wikipedia.org/wiki/2019%E2%80%9320_Premier_League',\n  },\n\n  // {\n  //   name: '',\n  //   category: '',\n  //   url: './sample-datasets/',\n  //   delimiter: '\\t',\n  //   sourceName: '',\n  //   sourceURL: '',\n  // },\n]\nexport default function DataSamples({ onSampleReady, setLoadingError }) {\n  const select = async (sample) => {\n    const { delimiter, url } = sample\n    let response\n    try {\n      response = await fetch(url)\n    } catch (e) {\n      setLoadingError('Loading error. ' + e.message)\n      return\n    }\n    const text = await response.text()\n    onSampleReady(text, delimiter)\n    setLoadingError(null)\n  }\n  return (\n    <Row>\n      {samplesList\n        // sort by category name\n        .sort((a, b) => a.name.localeCompare(b.name))\n        .map((d, i) => {\n          return (\n            <Col xs={6} lg={4} xl={3} key={i} style={{ marginBottom: 15 }}>\n              <Card className=\"cursor-pointer h-100\">\n                <Card.Body\n                  onClick={() => {\n                    select(d)\n                  }}\n                  className=\"d-flex flex-column\"\n                >\n                  <Card.Title className=\"\">\n                    <h2 className=\"\">{d.name}</h2>\n                    <h4 className=\"m-0\">{d.category}</h4>\n                  </Card.Title>\n                </Card.Body>\n                <a\n                  href={d.sourceURL}\n                  className={[styles['dataset-source']].join(' ')}\n                >\n                  Source: {d.sourceName}\n                </a>\n              </Card>\n            </Col>\n          )\n        })}\n    </Row>\n  )\n}\n","import React, { useCallback, useState } from 'react'\nimport { map } from 'lodash'\nimport './JsonViewer.scss'\n\nconst JsonViewerRecursive = ({\n  contextName,\n  nestingLevel,\n  context,\n  selectFilter,\n  onSelect,\n  path\n}) => {\n  const isSelectable = selectFilter(context)\n  const contextType = typeof context\n  const [mouseOver, setMouseOver] = useState(false)\n\n  const classes = [\n    'json-nested',\n    isSelectable ? 'selectable' : null,\n    mouseOver ? 'hover' : null,\n  ]\n    .filter((i) => i !== null)\n    .join(' ')\n\n  const handleSelect = useCallback(\n    (e) => {\n      if (isSelectable) {\n        e.stopPropagation()\n        e.preventDefault()\n        if (onSelect) onSelect(context, path.join(\".\"))\n      }\n    },\n    [context, isSelectable, onSelect, path]\n  )\n\n  const handleMouseOver = useCallback(\n    (e) => {\n      if (isSelectable) {\n        e.stopPropagation()\n        e.preventDefault()\n        setMouseOver(true)\n      }\n    },\n    [isSelectable]\n  )\n\n  const handleMouseOut = useCallback(\n    (e) => {\n      if (isSelectable) {\n        e.stopPropagation()\n        e.preventDefault()\n        setMouseOver(false)\n      }\n    },\n    [isSelectable]\n  )\n\n  if (contextType === 'object' && contextType !== null) {\n    return (\n      <div\n        className={classes}\n        onClick={handleSelect}\n        onMouseOver={handleMouseOver}\n        onMouseOut={handleMouseOut}\n      >\n        {contextName && (\n          <>\n            <span className=\"property-name\">{contextName}</span>\n            <span className=\"colon\">{': '}</span>\n          </>\n        )}\n        {!Array.isArray(context) && (\n          <span className=\"curly-bracket open-bracket\">{'{'}</span>\n        )}\n        {Array.isArray(context) && (\n          <span className=\"square-bracket open-bracket\">{'['}</span>\n        )}\n        {map(context, (value, property) => (\n          <JsonViewerRecursive\n            key={property}\n            contextName={Array.isArray(context) ? null : property}\n            nestingLevel={nestingLevel + 1}\n            context={value}\n            selectFilter={selectFilter}\n            onSelect={onSelect}\n            path={[...path, property]}\n          />\n        ))}\n        {!Array.isArray(context) && (\n          <span className=\"curly-bracket close-bracket\">{'}'}</span>\n        )}\n        {Array.isArray(context) && (\n          <span className=\"square-bracket close-bracket\">{']'}</span>\n        )}\n      </div>\n    )\n  } else {\n    return (\n      <div\n        className={classes}\n        onClick={handleSelect}\n        onMouseOver={handleMouseOver}\n        onMouseOut={handleMouseOut}\n      >\n        {contextName && (\n          <>\n            <span className=\"property-name\">{contextName}</span>\n            <span className=\"colon\">{': '}</span>\n          </>\n        )}\n        {context === null && <span className=\"scalar-value\">null</span>}\n        {context !== null && (\n          <>\n            {(contextType === 'bigint' || contextType === 'number') && (\n              <span className=\"scalar-value scalar-value-numeric\">\n                {context.toString()}\n              </span>\n            )}\n            {contextType === 'string' && (\n              <span className=\"scalar-value scalar-value-string\">\n                \"{context.toString()}\"\n              </span>\n            )}\n            {contextType === 'boolean' && (\n              <span className=\"scalar-value scalar-value-bool\">\n                \"{context ? 'true' : 'false'}\"\n              </span>\n            )}\n            {contextType === 'undefined' && (\n              <span className=\"scalar-value scalar-value-undefined\">\n                undefined\n              </span>\n            )}\n          </>\n        )}\n      </div>\n    )\n  }\n}\n\nconst JsonViewer = ({ context, selectFilter, onSelect }) => {\n  return (\n    <pre className=\"json-viewer\">\n      <JsonViewerRecursive\n        contextName={null}\n        nestingLevel={0}\n        context={context}\n        selectFilter={selectFilter}\n        onSelect={onSelect}\n        path={[]}\n      />\n    </pre>\n  )\n}\n\nexport default JsonViewer\n","import React, { useCallback } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { separatorsLabels } from '../../constants'\n\nimport styles from './ParsingOptions.module.scss'\n\nexport default function SeparatorSelector({\n  title,\n  value,\n  onChange,\n  ...props\n}) {\n  const inputValue = value\n    .replace(/\\r/g, '\\\\r')\n    .replace(/\\n/g, '\\\\n')\n    .replace(/\\t/g, '\\\\t')\n\n  const handleChange = useCallback(\n    (separator) => {\n      if (onChange) {\n        const nextValue = separator\n          .replace(/\\\\r/g, '\\r')\n          .replace(/\\\\n/g, '\\n')\n          .replace(/\\\\t/g, '\\t')\n        onChange(nextValue)\n      }\n    },\n    [onChange]\n  )\n\n  const formatValue = (value)=>{\n    return (\n      <>\n        <span className={['small',styles['separator-preview']].join(' ')}>{value}</span> <span>{separatorsLabels[value]}</span>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"option\">\n        {title}\n        <Dropdown className=\"d-inline-block raw-dropdown\">\n          <Dropdown.Toggle variant=\"white\" className=\"d-flex justify-content-start align-items-center text-truncate\">\n            { formatValue(inputValue) }\n          </Dropdown.Toggle>\n          <Dropdown.Menu>\n            {Object.keys(separatorsLabels).map(key=>{\n              return <Dropdown.Item key={separatorsLabels[key]} onSelect={() => handleChange(key)}>\n                { formatValue(key) }\n              </Dropdown.Item>\n            })}\n          </Dropdown.Menu>\n        </Dropdown>\n      </div>\n    </>\n  )\n}\n","import React, { useCallback } from 'react'\n\nexport default function ThousandsSeparatorSelector({\n  title,\n  value,\n  onChange,\n  ...props\n}) {\n  const inputValue = value\n  // // Remove?\n  // .replace(/\\r/g, \"\\\\r\")\n  // .replace(/\\n/g, \"\\\\n\")\n  // .replace(/\\t/g, \"\\\\t\")\n\n  const handleChange = useCallback(\n    (e) => {\n      if (onChange) {\n        const nextValue = e.target.value\n        // // Remove?\n        // .replace(/\\\\r/g, \"\\r\")\n        // .replace(/\\\\n/g, \"\\n\")\n        // .replace(/\\\\t/g, \"\\t\")\n\n        onChange(nextValue)\n      }\n    },\n    [onChange]\n  )\n\n  return (\n    <div className=\"option\">\n      {title}\n      <input\n        type=\"text\"\n        className=\"form-control text-field d-inline-block\"\n        value={inputValue}\n        onChange={handleChange}\n        {...props}\n      />\n    </div>\n  )\n}\n","import React, { useCallback } from 'react'\n\nexport default function DecimalsSeparatorSelector({\n  title,\n  value,\n  onChange,\n  ...props\n}) {\n  const inputValue = value\n\n  const handleChange = useCallback(\n    (e) => {\n      if (onChange) {\n        const nextValue = e.target.value\n        onChange(nextValue)\n      }\n    },\n    [onChange]\n  )\n\n  return (\n    <div className=\"option\">\n      {title}\n      <input\n        type=\"text\"\n        className=\"form-control text-field d-inline-block\"\n        value={inputValue}\n        onChange={handleChange}\n        {...props}\n      />\n    </div>\n  )\n}\n","import React, { useCallback } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { localeList } from '../../constants'\n\nexport default function DateLocaleSelector({\n  title,\n  value,\n  onChange,\n  ...props\n}) {\n  const handleChange = useCallback(\n    (locale) => {\n      if (onChange) {\n        const nextLocale = locale\n        onChange(nextLocale)\n      }\n    },\n    [onChange]\n  )\n\n  return (\n    <div className=\"option\">\n      {title}\n      <Dropdown className=\"d-inline-block raw-dropdown\">\n        <Dropdown.Toggle variant=\"white\" className=\"\">\n          {value}\n        </Dropdown.Toggle>\n        <Dropdown.Menu>\n          <Dropdown.Header>\n            <span>\n              from{' '}\n              <a\n                href=\"https://github.com/d3/d3-time-format/tree/master/locale\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                d3-time-format\n              </a>\n            </span>\n          </Dropdown.Header>\n          {Object.keys(localeList).map((d) => {\n            return (\n              <Dropdown.Item key={d} onSelect={() => handleChange(d)}>\n                {d}\n              </Dropdown.Item>\n            )\n          })}\n        </Dropdown.Menu>\n      </Dropdown>\n    </div>\n  )\n}\n","import React, { useCallback } from 'react'\nimport { Dropdown } from 'react-bootstrap'\n\nexport default function StackSelector({\n  title,\n  value,\n  list,\n  onChange,\n  ...props\n}) {\n  const handleChange = useCallback(\n    (nextDimension) => {\n      if (onChange) {\n        onChange(nextDimension)\n      }\n    },\n    [onChange]\n  )\n\n  return (\n    <div className=\"option\">\n      {title}\n      <Dropdown className=\"d-inline-block raw-dropdown\">\n        <Dropdown.Toggle\n          variant=\"white\"\n          className=\"truncate-160px\"\n          disabled={list.length === 0}\n        >\n          {value ? value : 'Column'}\n        </Dropdown.Toggle>\n        <Dropdown.Menu>\n          {value && (\n            <Dropdown.Item onSelect={() => handleChange(null)}>\n              {'Do not stack'}\n            </Dropdown.Item>\n          )}\n          {Object.keys(list).map((d) => {\n            return (\n              <Dropdown.Item key={d} onSelect={() => handleChange(d)}>\n                {d}\n              </Dropdown.Item>\n            )\n          })}\n        </Dropdown.Menu>\n      </Dropdown>\n    </div>\n  )\n}\n","import React, { useCallback, useState } from 'react'\nimport classNames from 'classnames'\nimport S from './UrlFetch.module.scss'\n\nexport async function fetchData(source) {\n  const response = await fetch(source.url)\n  const text = await response.text()\n  return text\n}\n\nexport default function UrlFetch({\n  userInput,\n  setUserInput,\n  setLoadingError,\n  initialState = null,\n}) {\n  const [url, setUrl] = useState(initialState?.url)\n\n  const fetchUrl = useCallback(\n    async (url) => {\n      const source = { type: 'url', url }\n      let data\n      try {\n        data = await fetchData(source)\n        setUserInput(data, source)\n        setLoadingError(null)\n      } catch (e) {\n        setLoadingError('Loading error. ' + e.message)\n      }\n    },\n    [setLoadingError, setUserInput]\n  )\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.stopPropagation()\n      e.preventDefault()\n      fetchUrl(url)\n      return false\n    },\n    [url, fetchUrl]\n  )\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        className={classNames('w-100', S['url-input'])}\n        value={url}\n        onChange={(e) => {\n          setUrl(e.target.value)\n        }}\n      />\n      <div className=\"text-right\">\n        <button\n          className=\"btn btn-sm btn-success mt-3\"\n          disabled={!url}\n          type=\"submit\"\n        >\n          Load data\n        </button>\n      </div>\n    </form>\n  )\n}\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport classNames from 'classnames'\nimport S from './SparqlFetch.module.scss'\nimport { html, render } from 'lit-html'\nimport SimpleClient from 'sparql-http-client/SimpleClient'\nimport { Generator } from 'sparqljs'\nimport '@rdfjs-elements/sparql-editor/sparql-editor.js'\nimport { SparqlMarker } from '../../../hooks/useDataLoaderUtils/parser'\n\nconst DEFAULT_PREFIXES = {\n  wd: 'http://www.wikidata.org/entity/',\n  wds: 'http://www.wikidata.org/entity/statement/',\n  wdv: 'http://www.wikidata.org/value/',\n  wdt: 'http://www.wikidata.org/prop/direct/',\n  wikibase: 'http://wikiba.se/ontology#',\n  p: 'http://www.wikidata.org/prop/',\n  ps: 'http://www.wikidata.org/prop/statement/',\n  pq: 'http://www.wikidata.org/prop/qualifier/',\n  rdfs: 'http://www.w3.org/2000/01/rdf-schema#',\n  bd: 'http://www.bigdata.com/rdf#',\n  wdref: 'http://www.wikidata.org/reference/',\n  psv: 'http://www.wikidata.org/prop/statement/value/',\n  psn: 'http://www.wikidata.org/prop/statement/value-normalized/',\n  pqv: 'http://www.wikidata.org/prop/qualifier/value/',\n  pqn: 'http://www.wikidata.org/prop/qualifier/value-normalized/',\n  pr: 'http://www.wikidata.org/prop/reference/',\n  prv: 'http://www.wikidata.org/prop/reference/value/',\n  prn: 'http://www.wikidata.org/prop/reference/value-normalized/',\n  wdno: 'http://www.wikidata.org/prop/novalue/',\n  wdata: 'http://www.wikidata.org/wiki/Special:EntityData/',\n  schema: 'http://schema.org/',\n  rdf: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n  owl: 'http://www.w3.org/2002/07/owl#',\n  skos: 'http://www.w3.org/2004/02/skos/core#',\n  xsd: 'http://www.w3.org/2001/XMLSchema#',\n  prov: 'http://www.w3.org/ns/prov#',\n  bds: 'http://www.bigdata.com/rdf/search#',\n  gas: 'http://www.bigdata.com/rdf/gas#',\n  hint: 'http://www.bigdata.com/queryHints#',\n}\n\nexport async function fetchData(source) {\n  const sparqlGenerator = new Generator()\n  const client = new SimpleClient({\n    endpointUrl: source.url,\n  })\n  const response = await client.query.select(\n    sparqlGenerator.stringify(source.query)\n  )\n  const results = await response.json()\n  const rows = bindingsToJson(results.head.vars, results.results.bindings)\n  rows[SparqlMarker] = true\n  return rows\n}\n\nexport default function SparqlFetch({\n  userInput,\n  setUserInput,\n  setLoadingError,\n  initialState,\n}) {\n  const [url, setUrl] = useState(initialState?.url ?? 'https://query.wikidata.org/sparql')\n  const [parsedQuery, setParsedQuery] = useState(null)\n\n  const editorDomRef = useRef()\n\n  const initialQuery = useMemo(() => {\n    if (initialState?.query) {\n      const sparqlGenerator = new Generator()\n      return sparqlGenerator.stringify(initialState.query)\n    } else {\n      return ''\n    }\n  }, [initialState])\n\n  const onQueryParsed = useCallback((evt) => {\n    const { query } = evt.detail\n    if (query.queryType === 'SELECT') {\n      setParsedQuery(query)\n    } else {\n      setParsedQuery(null)\n    }\n  }, [])\n\n  const onParserFailure = useCallback(() => {\n    console.log('parser failed')\n    setParsedQuery(null)\n  }, [])\n\n  const onSubmit = useCallback(() => {\n    const source = {\n      type: 'sparql',\n      url,\n      query: parsedQuery,\n    }\n    fetchData(source)\n      .then((result) => {\n        setUserInput(result, {\n          type: 'sparql',\n          url,\n          query: parsedQuery,\n        })\n      })\n      .catch((err) => {\n        setLoadingError(\n          'It was not possible to execute the query on the given endpoint'\n        )\n      })\n  }, [parsedQuery, setLoadingError, setUserInput, url])\n\n  useEffect(() => {\n    const node = editorDomRef.current\n    render(\n      html`<sparql-editor\n        auto-parse\n        value=${initialQuery}\n        customPrefixes=${JSON.stringify(DEFAULT_PREFIXES)}\n        @parsed=${onQueryParsed}\n        @parsing-failed=${onParserFailure}\n      ></sparql-editor>`,\n      node\n    )\n  }, [onQueryParsed, onParserFailure, initialQuery])\n\n  return (\n    <>\n      <div className={classNames(S['base-iri-input-here'])}>\n        <span>Write your SPARQL Endpoint here</span>\n      </div>\n      <input\n        className={classNames('w-100', S['url-input'])}\n        value={url}\n        onChange={(e) => {\n          setUrl(e.target.value)\n        }}\n      />\n      <div className={classNames(S['query-input-here'])}>\n        <span>Write your query here</span>\n      </div>\n      <div ref={editorDomRef} />\n      <div className=\"text-right\">\n        <button\n          className=\"btn btn-sm btn-success mt-3\"\n          disabled={!parsedQuery || !url}\n          onClick={onSubmit}\n        >\n          Run query\n        </button>\n      </div>\n    </>\n  )\n}\n\nfunction bindingsToJson(varNames, bindings) {\n  const result = []\n  for (const binding of bindings) {\n    const row = {}\n    for (const variable of varNames) {\n      const term = binding[variable]\n      if (!term) {\n        row[variable] = ''\n      } else {\n        row[variable] = term.value\n      }\n    }\n    result.push(row)\n  }\n  return result\n}\n","import React from 'react'\nimport { Row, Col, Button } from 'react-bootstrap'\nimport SeparatorSelector from './SeparatorSelector'\nimport ThousandsSeparatorSelector from './ThousandsSeparatorSelector'\nimport DecimalsSeparatorSelector from './DecimalsSeparatorSelector'\nimport DateLocaleSelector from './DateLocaleSelector'\nimport StackSelector from './StackSelector'\n\nimport styles from './ParsingOptions.module.scss'\nimport { BsArrowRepeat } from 'react-icons/bs'\nimport { get } from 'lodash'\nimport { fetchData as fetchDataFromUrl } from '../DataLoader/loaders/UrlFetch'\nimport { fetchData as fetchDataFromSparql } from '../DataLoader/loaders/SparqlFetch'\n\nconst dataRefreshWorkers = {\n  \"url\": fetchDataFromUrl,\n  \"sparql\": fetchDataFromSparql\n}\n\nconst dataRefreshCaptions = {\n  \"url\": \"Refresh data from url\",\n  \"sparql\": \"Refresh data from query\"\n}\n\nexport default function ParsingOptions(props) {\n  const refreshData = async () => {\n    const dataRefreshImpl = dataRefreshWorkers[get(props.dataSource, \"type\", \"\")]\n    const data = await dataRefreshImpl(props.dataSource)\n    props.onDataRefreshed(data)\n  }\n\n  return (\n    <Row>\n      <Col className={styles.parsingOptions}>\n        <b>DATA PARSING OPTIONS</b>\n\n        {props.userDataType === 'csv' && (\n          <SeparatorSelector\n            title=\"Column separator\"\n            value={props.separator}\n            onChange={(nextSeparator) => props.setSeparator(nextSeparator)}\n          />\n        )}\n        <ThousandsSeparatorSelector\n          title=\"Thousands separator\"\n          value={props.thousandsSeparator}\n          onChange={(nextSeparator) =>\n            props.setThousandsSeparator(nextSeparator)\n          }\n        />\n        <DecimalsSeparatorSelector\n          title=\"Decimals separator\"\n          value={props.decimalsSeparator}\n          onChange={(nextSeparator) =>\n            props.setDecimalsSeparator(nextSeparator)\n          }\n        />\n\n        <DateLocaleSelector\n          title=\"Date Locale\"\n          value={props.locale}\n          onChange={(nextLocale) => props.setLocale(nextLocale)}\n        />\n\n        {get(dataRefreshWorkers, get(props.dataSource, 'type', ''), null) && (\n          <Button\n            color=\"primary\"\n            className={styles['refresh-button']}\n            onClick={() => refreshData()}\n          >\n            <BsArrowRepeat className=\"mr-2\" />\n            {get(dataRefreshCaptions, get(props.dataSource, 'type', ''), \"Refresh data\")}\n          </Button>\n        )}\n\n        <div className=\"divider mb-3 mt-0\" />\n\n        <b>DATA TRANSFORMATION</b>\n\n        <StackSelector\n          title=\"Stack on\"\n          value={props.stackDimension}\n          list={props.dimensions}\n          onChange={(nextStackDimension) =>\n            props.setStackDimension(nextStackDimension)\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\n","import * as d3 from 'd3';\nimport { rollups, selection, transition, select, ascending, descending, max, scaleBand, groups, sum, scaleSqrt, scaleLinear, timeFormat, extent, axisBottom, axisLeft, rollup, stack, scaleTime, forceSimulation, forceX, forceY, forceCollide, scalePoint, quantile, line, min, area, maxIndex, hierarchy, pack, arc, cluster, tree, linkRadial, lab, geoPath, range, scan, polygonHull, linkHorizontal, greatest, axisTop, pie, lineRadial, curveLinearClosed, curveBasisClosed, curveCardinalClosed, curveCatmullRomClosed, format, partition, treemap as treemap$1, selectAll, bin, randomNormal, randomLcg, Delaunay, chordDirected, ribbonArrow } from 'd3';\nimport { getDimensionAggregator, dateFormats as dateFormats$1, legend, labelsOcclusion } from '@rawgraphs/rawgraphs-core';\nimport { sankey, sankeyLinkHorizontal } from 'd3-sankey';\nimport { jLouvain } from 'louvain';\nimport { gridding } from 'd3-gridding';\nimport { contourDensity } from 'd3-contour';\nimport { hexbin } from 'd3-hexbin';\nimport * as d3Sankey from 'd3-sankey-circular';\nimport { sankeyCircular } from 'd3-sankey-circular';\nimport { voronoiTreemap } from 'd3-voronoi-treemap';\n\nvar img = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M11%2c22V10a20.9062%2c20.9062%2c0%2c0%2c0%2c6.5132-.8467A28.83%2c28.83%2c0%2c0%2c1%2c26%2c8V20a17.3874%2c17.3874%2c0%2c0%2c0-5.3887.7461A32.6927%2c32.6927%2c0%2c0%2c1%2c11%2c22Z'/%3e %3cpath class='cls-1' d='M26%2c31c-3.7344%2c0-5.6812-1.5605-7.563-3.0693C16.5571%2c26.4238%2c14.7822%2c25%2c11%2c25V23a12.3663%2c12.3663%2c0%2c0%2c1%2c8.688%2c3.37C21.4482%2c27.7812%2c22.9683%2c29%2c26%2c29Z'/%3e %3cpath class='cls-1' d='M26%2c48a23.5%2c23.5%2c0%2c0%2c1-7.0669-.9668A26.3491%2c26.3491%2c0%2c0%2c0%2c11%2c46V45a27.1771%2c27.1771%2c0%2c0%2c1%2c8.1914%2c1.0674A22.6573%2c22.6573%2c0%2c0%2c0%2c26%2c47Z'/%3e %3cpath class='cls-1' d='M21.2993%2c35.2588C19.2412%2c31.1338%2c16.68%2c26%2c11%2c26v5c2.4126%2c0%2c3.81%2c2.4521%2c5.8252%2c6.4912C18.8149%2c41.48%2c21.07%2c46%2c26%2c46V41C24.291%2c41%2c23.0293%2c38.7266%2c21.2993%2c35.2588Z'/%3e %3cpath class='cls-1' d='M12.5836%2c37.842c.1-.0185.198-.0409.296-.0628a6.124%2c6.124%2c0%2c0%2c0%2c2.342-1.2278%2c20.3684%2c20.3684%2c0%2c0%2c0-1.9436-3.2A4.2569%2c4.2569%2c0%2c0%2c1%2c11%2c34v4a8.8714%2c8.8714%2c0%2c0%2c0%2c1.108-.0754C12.2734%2c37.9028%2c12.43%2c37.8738%2c12.5836%2c37.842Z'/%3e %3cpath class='cls-1' d='M12.5836%2c37.842c-.1534.0318-.31.0608-.4756.0826C12.2714%2c37.9042%2c12.4261%2c37.8712%2c12.5836%2c37.842Z'/%3e %3cpath class='cls-1' d='M20.2266%2c31.1521q.1554-.2645.3068-.5248c-.38-.2127-.7429-.4356-1.0826-.6712C19.7243%2c30.347%2c19.98%2c30.7478%2c20.2266%2c31.1521Z'/%3e %3cpath class='cls-1' d='M22.6331%2c27.217C23.6544%2c25.8058%2c24.6485%2c25%2c26%2c25V21c-3.049%2c0-5.0381%2c1.722-6.6038%2c3.8708.3185.2433.626.4855.9177.7194A14.7276%2c14.7276%2c0%2c0%2c0%2c22.6331%2c27.217Z'/%3e %3cpath class='cls-1' d='M15.6867%2c37.4536A7.0944%2c7.0944%2c0%2c0%2c1%2c11%2c39v5a11.9758%2c11.9758%2c0%2c0%2c0%2c7.0875-2.1011A43.2363%2c43.2363%2c0%2c0%2c1%2c15.93%2c37.9376C15.8469%2c37.77%2c15.7673%2c37.6132%2c15.6867%2c37.4536Z'/%3e %3cpath class='cls-1' d='M22.1942%2c34.8124c.488.9783.9567%2c1.8891%2c1.4092%2c2.6751A5.5643%2c5.5643%2c0%2c0%2c1%2c26%2c37V32a10.382%2c10.382%2c0%2c0%2c0-4.6966%2c1.0617C21.6182%2c33.6611%2c21.9141%2c34.2512%2c22.1942%2c34.8124Z'/%3e %3cpath class='cls-1' d='M45%2c21a32.2725%2c32.2725%2c0%2c0%2c1-9.4824-1.2363A17.7621%2c17.7621%2c0%2c0%2c0%2c30%2c19V8a28.3864%2c28.3864%2c0%2c0%2c1%2c8.3574%2c1.1367A21.5746%2c21.5746%2c0%2c0%2c0%2c45%2c10Z'/%3e %3cpath class='cls-1' d='M30%2c33V29c2.5938%2c0%2c3.8428-1.168%2c5.5713-2.7852C37.5791%2c24.3369%2c40.0771%2c22%2c45%2c22v4c-3.3438%2c0-4.8232%2c1.3838-6.6963%2c3.1357C36.3672%2c30.9473%2c34.1729%2c33%2c30%2c33Z'/%3e %3cpath class='cls-1' d='M32.9%2c27.1582a15.8624%2c15.8624%2c0%2c0%2c0%2c1.9886-1.6743c.5388-.5039%2c1.1334-1.0568%2c1.8121-1.5978C35.1165%2c21.7252%2c33.05%2c20%2c30%2c20v5C31.0908%2c25%2c31.9682%2c25.7776%2c32.9%2c27.1582Z'/%3e %3cpath class='cls-1' d='M39.8439%2c37.2858A8.31%2c8.31%2c0%2c0%2c0%2c45%2c39V34a3.5994%2c3.5994%2c0%2c0%2c1-2.3789-.918A18.517%2c18.517%2c0%2c0%2c0%2c39.8439%2c37.2858Z'/%3e %3cpath class='cls-1' d='M30%2c48V46a22.2335%2c22.2335%2c0%2c0%2c0%2c6.68-.916A27.6268%2c27.6268%2c0%2c0%2c1%2c45%2c44v2a25.8976%2c25.8976%2c0%2c0%2c0-7.8037%2c1.0166A24.2237%2c24.2237%2c0%2c0%2c1%2c30%2c48Z'/%3e %3cpath class='cls-1' d='M30%2c45V41c2.0371%2c0%2c3.3135-2.1133%2c5.1738-5.5928C37.1758%2c31.6621%2c39.668%2c27%2c45%2c27v4c-2.7373%2c0-4.2051%2c2.3779-6.2988%2c6.293C36.7705%2c40.9053%2c34.582%2c45%2c30%2c45Z'/%3e %3cpath class='cls-1' d='M37.8054%2c40.8811A11.9848%2c11.9848%2c0%2c0%2c0%2c45%2c43V40a9.0475%2c9.0475%2c0%2c0%2c1-5.6929-1.721C38.8468%2c39.1355%2c38.3541%2c40.0225%2c37.8054%2c40.8811Z'/%3e %3cpath class='cls-1' d='M34.2919%2c34.9358l.0362-.0675A10.4945%2c10.4945%2c0%2c0%2c0%2c30%2c34v3a7.7192%2c7.7192%2c0%2c0%2c1%2c2.842.4883C33.2766%2c36.7889%2c33.7477%2c35.9537%2c34.2919%2c34.9358Z'/%3e %3c/g%3e %3cg id='primary'%3e %3crect class='cls-2' x='8' y='10' width='2' height='21'/%3e %3crect class='cls-2' x='8' y='34' width='2' height='12'/%3e %3crect class='cls-2' x='46' y='10' width='2' height='21'/%3e %3crect class='cls-2' x='46' y='34' width='2' height='12'/%3e %3crect class='cls-2' x='27' y='8' width='2' height='17'/%3e %3crect class='cls-2' x='27' y='29' width='2' height='8'/%3e %3crect class='cls-2' x='27' y='41' width='2' height='7'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$1 = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-15%2c .cls-16%2c .cls-17 %7b isolation: isolate%3b %7d .cls-2 %7b fill: white%3b %7d .cls-3 %7b fill: %23666%3b %7d .cls-4 %7b mix-blend-mode: multiply%3b %7d .cls-10%2c .cls-11%2c .cls-12%2c .cls-13%2c .cls-14%2c .cls-5%2c .cls-6%2c .cls-7%2c .cls-8%2c .cls-9 %7b fill: none%3b stroke: %23ccc%3b %7d .cls-5 %7b stroke-width: 9.2219px%3b %7d .cls-6 %7b stroke-width: 5.6715px%3b %7d .cls-7 %7b stroke-width: 14.5706px%3b %7d .cls-8 %7b stroke-width: 10.9741px%3b %7d .cls-9 %7b stroke-width: 73.0374px%3b %7d .cls-10 %7b stroke-width: 25.0374px%3b %7d .cls-11 %7b stroke-width: 29.7406px%3b %7d .cls-12 %7b stroke-width: 15.4928px%3b %7d .cls-13 %7b stroke-width: 16.5533px%3b %7d .cls-14 %7b stroke-width: 76.7261px%3b %7d .cls-15%2c .cls-16 %7b font-size: 9.4872px%3b font-family: Helvetica%3b %7d .cls-16 %7b letter-spacing: -0.0547em%3b %7d .cls-17 %7b font-size: 10px%3b font-family: Helvetica-Bold%2c Helvetica%3b font-weight: 700%3b %7d %3c/style%3e %3c/defs%3e %3cg class='cls-1'%3e %3cg id='Layer_1' data-name='Layer 1'%3e %3crect class='cls-2' x='0.5' y='0.5' width='320' height='160'/%3e %3cg%3e %3crect class='cls-3' x='308' y='14.3718' width='10' height='46.2939'/%3e %3crect class='cls-3' x='308' y='65.4093' width='10' height='92.2189'/%3e %3c/g%3e %3cg%3e %3crect class='cls-3' x='155' y='14.3718' width='10' height='45.2334'/%3e %3crect class='cls-3' x='155' y='64.3488' width='10' height='93.2794'/%3e %3c/g%3e %3cg%3e %3crect class='cls-3' x='2' y='10' width='10' height='14.8934'/%3e %3crect class='cls-3' x='2' y='29.6369' width='10' height='25.5446'/%3e %3crect class='cls-3' x='2' y='59.9252' width='10' height='98.0748'/%3e %3c/g%3e %3cg class='cls-4'%3e %3cpath class='cls-5' d='M12%2c14.6109c71.5%2c0%2c71.5%2c4.3718%2c143%2c4.3718'/%3e %3c/g%3e %3cg class='cls-4'%3e %3cpath class='cls-6' d='M12%2c22.0576c71.5%2c0%2c71.5%2c45.1269%2c143%2c45.1269'/%3e %3c/g%3e %3cg class='cls-4'%3e %3cpath class='cls-7' d='M12%2c36.9222c71.5%2c0%2c71.5%2c40.3833%2c143%2c40.3833'/%3e %3c/g%3e %3cg class='cls-4'%3e %3cpath class='cls-8' d='M12%2c49.6946c71.5%2c0%2c71.5-20.6139%2c143-20.6139'/%3e %3c/g%3e %3cpath class='cls-9' d='M12%2c96.4439c71.5%2c0%2c71.5%2c24.6656%2c143%2c24.6656'/%3e %3cg class='cls-4'%3e %3cpath class='cls-10' d='M12%2c145.4813c71.5%2c0%2c71.5-98.3948%2c143-98.3948'/%3e %3c/g%3e %3cg class='cls-4'%3e %3cpath class='cls-11' d='M165%2c29.2421H308'/%3e %3c/g%3e %3cg class='cls-4'%3e %3cpath class='cls-12' d='M165%2c51.8588c71.5%2c0%2c71.5%2c21.2969%2c143%2c21.2969'/%3e %3c/g%3e %3cg class='cls-4'%3e %3cpath class='cls-13' d='M165%2c72.6254c71.5%2c0%2c71.5-20.2364%2c143-20.2364'/%3e %3c/g%3e %3cg class='cls-4'%3e %3cpath class='cls-14' d='M165%2c119.2651H308'/%3e %3c/g%3e %3cg%3e %3ctext class='cls-15' transform='translate(298.8916 40.8394) scale(1.0541 1)'%3eF%3c/text%3e %3ctext class='cls-15' transform='translate(297.2217 114.8389) scale(1.0541 1)'%3eG%3c/text%3e %3c/g%3e %3cg%3e %3ctext class='cls-15' transform='translate(168 40.3091) scale(1.0541 1)'%3eD%3c/text%3e %3ctext class='cls-15' transform='translate(168 114.3086) scale(1.0541 1)'%3eE%3c/text%3e %3c/g%3e %3cg%3e %3ctext class='cls-16' transform='translate(15 20.7671) scale(1.0541 1)'%3eA%3c/text%3e %3ctext class='cls-15' transform='translate(15 45.73) scale(1.0541 1)'%3eB%3c/text%3e %3ctext class='cls-15' transform='translate(15 112.2832) scale(1.0541 1)'%3eC%3c/text%3e %3c/g%3e %3ctext class='cls-17' transform='translate(3.9409 8)'%3e%ce%b1%3c/text%3e %3ctext class='cls-17' transform='translate(156.98 8)'%3e%ce%b2%3c/text%3e %3ctext class='cls-17' transform='translate(310.2192 8)'%3e%ce%b3%3c/text%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata = {\n  name: 'Alluvial Diagram',\n  id: 'rawgraphs.alluvialdiagram',\n  thumbnail: img$1,\n  icon: img,\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/alluvialdiagram',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-an-alluvial-diagram/',\n  categories: ['correlations', 'proportions'],\n  description: 'It shows correlations between categorical dimensions representing them as flows, visually linking categories with shared items. Each rectangle represents a unique value in the selected dimension, its height is proportional to its value. Correlations are represented with curved lines whose width is proportional to their value.'\n};\n\nconst dimensions = [{\n  id: 'steps',\n  name: 'Steps',\n  validTypes: ['number', 'date', 'string'],\n  required: true,\n  multiple: true,\n  minValues: 2\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}];\n\nconst mapData = function (data, mapping, dataTypes, dimensions) {\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const results = []; // compute the rollup for each couple of steps\n  // @TODO move this as grouping function\n\n  mapping.steps.value.slice(0, -1).forEach((step1, index) => {\n    //get the second step\n    const step2 = mapping.steps.value[index + 1];\n    rollups(data, v => {\n      const item = {\n        sourceName: v[0][step1],\n        sourceStep: step1,\n        source: step1 + ' - ' + v[0][step1],\n        targetName: v[0][step2],\n        targetStep: step2,\n        target: step2 + ' - ' + v[0][step2],\n        value: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : v.length\n      };\n      results.push(item);\n      return item;\n    }, d => d[step1] + '_' + d[step2]);\n  });\n  return results;\n};\n\nselection.prototype.styles = styles;\ntransition.prototype.styles = styles; //other approach\n// export const multiStyles = function (styles) {\n//   return function (selection) {\n//     for (const property in styles) {\n//       selection.style(property, styles[property])\n//     }\n//   }\n// }\n//adapted from https://github.com/gka/d3-jetpack/blob/master/src/st.js\n\nfunction styles(name, value) {\n  if (typeof name == 'object') {\n    for (var key in name) {\n      addStyle(this, key, name[key]);\n    }\n\n    return this;\n  } else if (typeof name === 'function') {\n    return this.each(styleFunction(name));\n  } else {\n    return arguments.length == 1 ? this.style(name) : addStyle(this, name, value);\n  }\n\n  function addStyle(sel, style, value) {\n    style = style.replace(/([a-z\\d])([A-Z])/g, '$1-$2').toLowerCase();\n    var pxStyles = 'top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height';\n\n    if (~pxStyles.indexOf(style)) {\n      sel.style(style, typeof value == 'function' ? wrapPx(value) : addPx(value));\n    } else {\n      sel.style(style, value);\n    }\n\n    return sel;\n  }\n\n  function addPx(d) {\n    return d.match ? d : d + 'px';\n  }\n\n  function wrapPx(fn) {\n    return function () {\n      var val = fn.apply(this, arguments);\n      return addPx(val);\n    };\n  }\n\n  function styleFunction(value) {\n    return function () {\n      var v = value.apply(this, arguments);\n\n      for (var key in v) {\n        addStyle(select(this), key, v[key]);\n      }\n    };\n  }\n}\n\nfunction render(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard\n    width,\n    height,\n    background,\n    // margins\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // chart options\n    nodesWidth,\n    nodesPadding,\n    linksOpacity,\n    sortNodesBy,\n    verticalAlignment,\n    linksBlendMode,\n    // color\n    colorScale,\n    // Labels\n    showValues\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // links are a deep copy of the dataset, to avoid modification of origina data variable\n\n  const links = data.map(d => Object.assign({}, d)); //get unique nodes from links. @TODO: probably it could be improved\n\n  let nodes = links.flatMap(l => [{\n    id: l.source,\n    name: l.sourceName,\n    step: l.sourceStep\n  }, {\n    id: l.target,\n    name: l.targetName,\n    step: l.targetStep\n  }]).reduce((map, obj) => {\n    map.set(obj.id, obj);\n    return map;\n  }, new Map());\n  nodes = Array.from(nodes).map(d => d[1]); // convert option with alignment function names\n  const sankey$1 = sankey().nodeId(d => d.id).nodeWidth(nodesWidth).nodePadding(nodesPadding).extent([[0, 0], [chartWidth, chartHeight]]).iterations(0); // no iterations since we compute all the positions\n  // compute the sankey network (calculate size, define x and y positions.)\n\n  const network = sankey$1({\n    nodes,\n    links\n  }); // sort nodes according to options\n\n  switch (sortNodesBy) {\n    case 'sizeDescending':\n      network.nodes.sort((a, b) => descending(a.value, b.value));\n      break;\n\n    case 'sizeAscending':\n      network.nodes.sort((a, b) => ascending(a.value, b.value));\n      break;\n\n    case 'name':\n      network.nodes //first sort by type\n      .sort((a, b) => ascending(typeof a.name, typeof b.name)) // then by actual value\n      .sort((a, b) => ascending(a.name, b.name));\n      break;\n  } //check the amount of space required\n\n\n  let verticalSize = rollups(network.nodes, v => v.length - 1, d => d.step);\n  let maxItemsAmount = max(verticalSize, d => d[1]);\n\n  if (maxItemsAmount * nodesPadding > chartHeight) {\n    throw new Error('Padding is too high for artboard height. To represent all the ' + maxItemsAmount + ' items, increase artbort height above ' + (maxItemsAmount * nodesPadding + margin.top + margin.bottom) + 'px OR decrase padding below ' + Math.floor(chartHeight / maxItemsAmount) + 'px in the panel \"chart\" > \"Padding\"');\n  } // compute x positions of groups\n  // get the first node for each category\n  // we don't use the sankey.nodeSort() and sankey.linkSort()\n  // d3 functions since it doens't allow to center vertically the nodes\n\n\n  const xScale = scaleBand().range([0, chartWidth - nodesWidth]).domain(mapping.steps.value).align(0).paddingInner(1); // update nodes vertical position\n\n  groups(network.nodes, d => d.step) // for each group, compute position\n  .forEach(group => {\n    // compute the starting point.\n    let yPos0 = 0;\n    const totalSize = sum(group[1], d => d.y1 - d.y0) + (group[1].length - 1) * nodesPadding; // if top, do nothing.\n    // if bottom, sum the size of nodes and required padding.\n    // if center, the hal of the previous\n\n    switch (verticalAlignment) {\n      case 'Bottom':\n        yPos0 = chartHeight - totalSize;\n        break;\n\n      case 'Center':\n        yPos0 = (chartHeight - totalSize) / 2;\n        break;\n    } // take the list of nodes in the group, and recompute positions\n\n\n    group[1].reduce((ypos, node) => {\n      const nodeSize = node.y1 - node.y0;\n      node.y0 = ypos;\n      node.y1 = ypos + nodeSize;\n      node.x0 = xScale(node.step);\n      node.x1 = node.x0 + nodesWidth;\n      return ypos + nodeSize + nodesPadding;\n    }, yPos0);\n  }); // sort edges to avoid overlaps\n\n  network.nodes.forEach(node => {\n    node.sourceLinks.sort((a, b) => ascending(a.target.y0, b.target.y0));\n    node.targetLinks.sort((a, b) => ascending(a.source.y0, b.source.y0));\n  }); // updates link position\n\n  sankey$1.update(network); // draw background\n\n  select(svgNode).append('rect').attr('width', width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'visualization');\n  svg.append('g').selectAll('rect').data(network.nodes).join('rect').attr('x', d => d.x0).attr('y', d => d.y0).attr('height', d => d.y1 - d.y0).attr('width', d => d.x1 - d.x0).attr('fill', 'black').append('title').text(d => `${d.name}: ${d.value}`);\n  const link = svg.append('g').attr('fill', 'none').attr('stroke-opacity', linksOpacity).selectAll('g').data(network.links).join('g').style('mix-blend-mode', linksBlendMode);\n  link.append('path').attr('d', sankeyLinkHorizontal()).attr('stroke', d => colorScale(d.source.id)).attr('stroke-width', d => Math.max(1, d.width));\n  link.append('title').text(d => `${d.source.name}  ${d.target.name}: ${d.value}`);\n  const nodesLabels = svg.append('g').selectAll('text').data(network.nodes).join('text').attr('x', d => d.x0 < width / 2 ? d.x1 + 4 : d.x0 - 4).attr('y', d => d.y0 + (d.y1 - d.y0) / 2).attr('text-anchor', d => d.x0 < width / 2 ? 'start' : 'end');\n  nodesLabels.append('tspan').attr('alignment-baseline', 'middle').attr('x', d => d.x0 < width / 2 ? d.x1 + 4 : d.x0 - 4).text(d => d.name).styles(styles.labelPrimary);\n\n  if (showValues) {\n    nodesLabels.append('tspan').attr('alignment-baseline', 'middle').attr('x', d => d.x0 < width / 2 ? d.x1 + 4 : d.x0 - 4).attr('dy', parseFloat(styles.labelPrimary.fontSize) + 2).text(d => d.value).styles(styles.labelSecondary);\n    nodesLabels.attr('transform', `translate(0,${-parseFloat(styles.labelSecondary.fontSize) / 2})`);\n  } // add steps titles\n\n\n  const firstNodes = groups(network.nodes, d => d.step).map(d => d[1][0]);\n  svg.append('g').selectAll('text').data(firstNodes).join('text').attr('x', d => d.x0 + nodesWidth / 2).attr('y', d => d.y0 - 4).attr('text-anchor', 'middle').text(d => d.step).styles(styles.axisLabel);\n}\n\nconst visualOptions = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  nodesWidth: {\n    type: 'number',\n    label: 'Nodes width',\n    default: 5,\n    group: 'chart'\n  },\n  nodesPadding: {\n    type: 'number',\n    label: 'Padding',\n    default: 5,\n    group: 'chart'\n  },\n  linksOpacity: {\n    type: 'number',\n    label: 'Links opacity (0-1)',\n    default: 1,\n    step: 0.1,\n    min: 0,\n    max: 1,\n    group: 'chart'\n  },\n  linksBlendMode: {\n    type: 'text',\n    label: 'Links blend mode',\n    group: 'chart',\n    options: ['normal', 'multiply'],\n    default: 'multiply'\n  },\n  sortNodesBy: {\n    type: 'text',\n    label: 'Sort nodes by',\n    group: 'chart',\n    options: [{\n      label: 'Size (descending)',\n      value: 'sizeDescending'\n    }, {\n      label: 'Size (ascending)',\n      value: 'sizeAscending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Minimize Overlaps',\n      value: 'auto'\n    }],\n    default: 'sizeAscending'\n  },\n  verticalAlignment: {\n    type: 'text',\n    label: 'Flows alignment',\n    group: 'chart',\n    options: ['Top', 'Center', 'Bottom'],\n    default: 'Center'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'source',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  showValues: {\n    type: 'boolean',\n    label: 'Show nodes values',\n    default: false,\n    group: 'Labels'\n  }\n};\n\nvar styles$1 = {\"axisLabel\":{\"fontFamily\":\"Arial, sans-serif\",\"fontSize\":\"12px\",\"fill\":\"#7b7b7b\",\"fontWeight\":\"bold\"},\"axisLine\":{\"stroke\":\"#ccc\"},\"labelPrimary\":{\"fontFamily\":\"Arial, sans-serif\",\"fontSize\":\"10px\",\"fill\":\"black\",\"fontWeight\":\"bold\"},\"labelSecondary\":{\"fontFamily\":\"Arial, sans-serif\",\"fontSize\":\"10px\",\"fill\":\"black\",\"fontWeight\":\"normal\"},\"labelItalic\":{\"fontFamily\":\"Arial, sans-serif\",\"fontSize\":\"10px\",\"fill\":\"black\",\"fontWeight\":\"normal\",\"fontStyle\":\"italic\"},\"seriesLabel\":{\"fontFamily\":\"Arial, sans-serif\",\"fontSize\":\"12px\",\"fill\":\"black\",\"fontWeight\":\"bold\",\"dominantBaseline\":\"hanging\"},\"labelOutline\":{\"strokeWidth\":\"2px\",\"paintOrder\":\"stroke\",\"stroke\":\"white\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\"}};\n\nvar alluvialdiagram = {\n  metadata,\n  dimensions,\n  mapData,\n  render,\n  visualOptions,\n  styles: styles$1\n};\n\nvar img$2 = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M46%2c36.5a12.5819%2c12.5819%2c0%2c0%2c0-.0647-1.2765A18.4765%2c18.4765%2c0%2c0%2c0%2c9.0491%2c35.53%2c9.5958%2c9.5958%2c0%2c0%2c0%2c9%2c36.5h1a2.5%2c2.5%2c0%2c0%2c1%2c5%2c0h1a5.4595%2c5.4595%2c0%2c0%2c1%2c6.2635-5.4406A12.4026%2c12.4026%2c0%2c0%2c0%2c21%2c36.5h1a11.4147%2c11.4147%2c0%2c0%2c1%2c1.2594-5.2061A5.5067%2c5.5067%2c0%2c0%2c1%2c27%2c36.5h1a9.4809%2c9.4809%2c0%2c0%2c0-3.3994-7.2723%2c11.4824%2c11.4824%2c0%2c0%2c1%2c19.39%2c2.5843A6.4914%2c6.4914%2c0%2c0%2c0%2c33%2c36.5h1a2.5%2c2.5%2c0%2c0%2c1%2c5%2c0h1A3.5042%2c3.5042%2c0%2c0%2c0%2c36.5%2c33a3.4586%2c3.4586%2c0%2c0%2c0-1.5038.3531%2c5.4954%2c5.4954%2c0%2c0%2c1%2c9.9754%2c2.5853c.0091.1873.0284.372.0284.5616ZM21.5%2c30a6.5082%2c6.5082%2c0%2c0%2c0-6.1676%2c4.4611%2c3.4741%2c3.4741%2c0%2c0%2c0-4.8217-.8345%2c8.4807%2c8.4807%2c0%2c0%2c1%2c12.6938-4.2c-.1559.2262-.2967.4627-.4378.6993A6.4973%2c6.4973%2c0%2c0%2c0%2c21.5%2c30Zm3.4943%2c1.0281a6.48%2c6.48%2c0%2c0%2c0-1.2336-.6144c.08-.1275.1542-.2587.2389-.3828A8.5707%2c8.5707%2c0%2c0%2c1%2c24.9943%2c31.0281ZM33.5%2c24a12.4777%2c12.4777%2c0%2c0%2c0-9.6944%2c4.6233A9.4733%2c9.4733%2c0%2c0%2c0%2c11.024%2c30.6584a17.4738%2c17.4738%2c0%2c0%2c1%2c31.9686-2.27A12.469%2c12.469%2c0%2c0%2c0%2c33.5%2c24Z'/%3e %3c/g%3e %3cg id='primary'%3e %3ccircle class='cls-2' cx='9.5' cy='36.5' r='1.5'/%3e %3ccircle class='cls-2' cx='15.5' cy='36.5' r='1.5'/%3e %3ccircle class='cls-2' cx='21.5' cy='36.5' r='1.5'/%3e %3ccircle class='cls-2' cx='27.5' cy='36.5' r='1.5'/%3e %3ccircle class='cls-2' cx='33.5' cy='36.5' r='1.5'/%3e %3ccircle class='cls-2' cx='39.5' cy='36.5' r='1.5'/%3e %3ccircle class='cls-2' cx='45.5' cy='36.5' r='1.5'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$3 = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b stroke: %23ccc%3b %7d .cls-2 %7b fill: %239e0142%3b %7d .cls-3 %7b fill: %235e4fa2%3b %7d .cls-4 %7b fill: %23e0f3a1%3b %7d .cls-5 %7b fill: %23fedd8d%3b %7d .cls-6 %7b fill: %2369bda9%3b %7d .cls-7 %7b fill: %23f0704a%3b %7d %3c/style%3e %3c/defs%3e %3cg%3e %3cpath class='cls-1' d='M165.23547%2c152.97288a11.48737%2c11.48737%2c0%2c0%2c0-22.97475%2c0'/%3e %3cpath class='cls-1' d='M38.87432%2c152.97288a28.71845%2c28.71845%2c0%2c0%2c1%2c57.43689%2c0'/%3e %3cpath class='cls-1' d='M4.41219%2c152.97288a11.48738%2c11.48738%2c0%2c0%2c1%2c22.97476%2c0'/%3e %3cpath class='cls-1' d='M188.21023%2c152.97288a22.97475%2c22.97475%2c0%2c1%2c1%2c45.94951%2c0'/%3e %3cpath class='cls-1' d='M245.64712%2c152.97288a120.61747%2c120.61747%2c0%2c0%2c0-241.23493%2c0'/%3e %3cpath class='cls-1' d='M50.3617%2c152.97288a22.97476%2c22.97476%2c0%2c1%2c0-45.94951%2c0'/%3e %3cpath class='cls-1' d='M188.21023%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c0-11.48738%2c0'/%3e %3cpath class='cls-1' d='M291.59663%2c152.97288a143.59222%2c143.59222%2c0%2c1%2c0-287.18444%2c0'/%3e %3cpath class='cls-1' d='M153.74809%2c152.97288a11.48738%2c11.48738%2c0%2c0%2c1%2c22.97476%2c0'/%3e %3cpath class='cls-1' d='M119.286%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c1%2c11.48738%2c0'/%3e %3cpath class='cls-1' d='M38.87432%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c1%2c11.48738%2c0'/%3e %3cpath class='cls-1' d='M165.23547%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c1%2c11.48738%2c0'/%3e %3cpath class='cls-1' d='M257.1345%2c152.97288a91.899%2c91.899%2c0%2c1%2c0-183.798%2c0'/%3e %3cpath class='cls-1' d='M176.72285%2c152.97288a17.23107%2c17.23107%2c0%2c0%2c0-34.46213%2c0h0'/%3e %3cpath class='cls-1' d='M234.15974%2c152.97288a11.48737%2c11.48737%2c0%2c0%2c0-22.97475%2c0'/%3e %3cpath class='cls-1' d='M303.084%2c152.97288a132.10485%2c132.10485%2c0%2c0%2c0-264.20968%2c0'/%3e %3cpath class='cls-1' d='M234.15974%2c152.97288a17.23107%2c17.23107%2c0%2c0%2c0-34.46213%2c0h0'/%3e %3cpath class='cls-1' d='M165.23547%2c152.97288a28.71844%2c28.71844%2c0%2c0%2c0-57.43688%2c0'/%3e %3cpath class='cls-1' d='M73.33645%2c152.97288a34.46213%2c34.46213%2c0%2c0%2c0-68.92426%2c0'/%3e %3cpath class='cls-1' d='M211.185%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c0-11.48738%2c0'/%3e %3cpath class='cls-1' d='M15.89957%2c152.97288a17.23107%2c17.23107%2c0%2c0%2c1%2c34.46213%2c0h0'/%3e %3cpath class='cls-1' d='M38.87432%2c152.97288a86.15534%2c86.15534%2c0%2c0%2c1%2c172.31067%2c0'/%3e %3cpath class='cls-1' d='M188.21023%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c1%2c11.48738%2c0'/%3e %3cpath class='cls-1' d='M107.79859%2c152.97288a11.48738%2c11.48738%2c0%2c0%2c1%2c22.97476%2c0'/%3e %3cpath class='cls-1' d='M15.89957%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c0-11.48738%2c0'/%3e %3cpath class='cls-1' d='M188.21023%2c152.97288a11.48738%2c11.48738%2c0%2c0%2c1%2c22.97476%2c0'/%3e %3cpath class='cls-1' d='M165.23547%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c0-11.48738%2c0'/%3e %3cpath class='cls-1' d='M107.79859%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c1%2c11.48738%2c0'/%3e %3cpath class='cls-1' d='M107.79859%2c152.97288a34.46213%2c34.46213%2c0%2c0%2c1%2c68.92426%2c0'/%3e %3cpath class='cls-1' d='M314.57139%2c152.97288a103.3864%2c103.3864%2c0%2c1%2c0-206.77281%2c0h0'/%3e %3cpath class='cls-1' d='M38.87432%2c152.97288a114.87378%2c114.87378%2c0%2c1%2c1%2c229.74756%2c0'/%3e %3cpath class='cls-1' d='M38.87432%2c152.97288a17.23107%2c17.23107%2c0%2c0%2c0-34.46213%2c0'/%3e %3cpath class='cls-1' d='M38.87432%2c152.97288a11.48738%2c11.48738%2c0%2c0%2c0-22.97475%2c0'/%3e %3cpath class='cls-1' d='M61.84908%2c152.97288a28.71845%2c28.71845%2c0%2c0%2c0-57.43689%2c0'/%3e %3cpath class='cls-1' d='M291.59663%2c152.97288a97.64271%2c97.64271%2c0%2c0%2c0-195.28542%2c0'/%3e %3cpath class='cls-1' d='M314.57139%2c152.97288a68.92427%2c68.92427%2c0%2c0%2c0-137.84854%2c0h0'/%3e %3cpath class='cls-1' d='M84.82383%2c152.97288a22.97476%2c22.97476%2c0%2c1%2c0-45.94951%2c0'/%3e %3cpath class='cls-1' d='M222.67236%2c152.97288a109.13009%2c109.13009%2c0%2c0%2c0-218.26017%2c0'/%3e %3cpath class='cls-1' d='M176.72285%2c152.97288a28.71844%2c28.71844%2c0%2c0%2c0-57.43688%2c0'/%3e %3cpath class='cls-1' d='M107.79859%2c152.97288a63.18058%2c63.18058%2c0%2c0%2c1%2c126.36115%2c0'/%3e %3cpath class='cls-1' d='M107.79859%2c152.97288a34.46214%2c34.46214%2c0%2c0%2c0-68.92427%2c0'/%3e %3cpath class='cls-1' d='M153.74809%2c152.97288a5.74369%2c5.74369%2c0%2c1%2c0-11.48737%2c0'/%3e %3cpath class='cls-1' d='M188.21023%2c152.97288a74.668%2c74.668%2c0%2c1%2c0-149.3359%2c0h0'/%3e %3cpath class='cls-1' d='M130.77332%2c152.97288a74.668%2c74.668%2c0%2c1%2c1%2c149.33592%2c0'/%3e %3cpath class='cls-1' d='M107.79859%2c152.97288a51.6932%2c51.6932%2c0%2c1%2c1%2c103.3864%2c0'/%3e %3ccircle class='cls-2' cx='4.41219' cy='152.97288' r='4.4122'/%3e %3ccircle class='cls-3' cx='15.89957' cy='152.97288' r='3.84557'/%3e %3ccircle class='cls-4' cx='27.38695' cy='152.97288' r='3.61601'/%3e %3ccircle class='cls-2' cx='38.87432' cy='152.97288' r='7.02712'/%3e %3ccircle class='cls-2' cx='50.3617' cy='152.97288' r='3.91323'/%3e %3ccircle class='cls-5' cx='61.84908' cy='152.97288' r='3.01162'/%3e %3ccircle class='cls-2' cx='73.33645' cy='152.97288' r='3.01162'/%3e %3ccircle class='cls-2' cx='84.82383' cy='152.97288' r='3.01162'/%3e %3ccircle class='cls-3' cx='96.31121' cy='152.97288' r='3.01162'/%3e %3ccircle class='cls-3' cx='107.79859' cy='152.97288' r='4.36371'/%3e %3ccircle class='cls-3' cx='119.28597' cy='152.97288' r='3.52703'/%3e %3ccircle class='cls-6' cx='130.77335' cy='152.97288' r='3.4286' transform='translate(-14.43719 13.6306) rotate(-5.65498)'/%3e %3ccircle class='cls-4' cx='142.26072' cy='152.97288' r='3.4286'/%3e %3ccircle class='cls-4' cx='153.74809' cy='152.97288' r='3.52703'/%3e %3ccircle class='cls-4' cx='165.23547' cy='152.97288' r='3.52703'/%3e %3ccircle class='cls-6' cx='176.72285' cy='152.97288' r='3.61602'/%3e %3ccircle class='cls-7' cx='188.21023' cy='152.97288' r='5.687'/%3e %3ccircle class='cls-7' cx='199.69761' cy='152.97288' r='4.26255'/%3e %3ccircle class='cls-7' cx='211.18499' cy='152.97288' r='4.7613'/%3e %3ccircle class='cls-6' cx='222.67236' cy='152.97288' r='3.01162'/%3e %3ccircle class='cls-6' cx='234.15974' cy='152.97288' r='4.63738'/%3e %3ccircle class='cls-6' cx='245.64712' cy='152.97288' r='3.01162'/%3e %3ccircle class='cls-6' cx='257.1345' cy='152.97288' r='3.01162'/%3e %3ccircle class='cls-5' cx='268.62188' cy='152.97288' r='3.31688'/%3e %3ccircle class='cls-5' cx='280.10924' cy='152.97288' r='3.18435'/%3e %3ccircle class='cls-5' cx='291.59663' cy='152.97288' r='3.01162'/%3e %3ccircle class='cls-7' cx='303.084' cy='152.97288' r='3.01162'/%3e %3ccircle class='cls-7' cx='314.57139' cy='152.97288' r='3.42861'/%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$1 = {\n  name: 'Arc Diagram',\n  id: 'rawgraphs.arcdiagram',\n  thumbnail: img$3,\n  icon: img$2,\n  categories: ['networks'],\n  description: 'A particular kind of network graph, allows seeing relationships among nodes. Nodes are displayed on the horizontal axis, and links as clockwise arcs. An arc above the nodes means a connection from the left to the right, while below means a connection from the right node to the left one.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/arcdiagram',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-an-arc-diagram/'\n};\n\nconst dimensions$1 = [{\n  id: 'source',\n  name: 'Source node',\n  validTypes: ['number', 'date', 'string'],\n  required: true\n}, {\n  id: 'target',\n  name: 'Target node',\n  validTypes: ['number', 'date', 'string'],\n  required: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}];\n\nconst mapData$1 = function (data, mapping, dataTypes, dimensions) {\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const results = [];\n  rollups(data, v => {\n    const item = {\n      source: v[0][mapping.source.value],\n      target: v[0][mapping.target.value],\n      value: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : 1\n    };\n    results.push(item);\n    return item;\n  }, d => d[mapping.source.value] + d[mapping.target.value] // crossgrup functions. aggregate links among same source and target\n  );\n  return results;\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/arc-diagram\n*/\n\nfunction render$1(svgNode, data, visualOptions, mapping, originalData) {\n  const {\n    // artboard\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    //chart\n    minDiameter,\n    maxDiameter,\n    nodeSize,\n    orderNodesBy,\n    linkOpacity,\n    sameSide\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // create a graph data file from the incoming data\n\n  let graph = graphFromEdgesTable(data); //compute nodes modularity\n\n  if (orderNodesBy == 'Minimize overlaps') {\n    let community = jLouvain().nodes(graph.nodes.map(d => d.id)).edges(graph.links.map(d => ({\n      source: d.source.id,\n      target: d.target.id,\n      weight: d.value\n    })));\n    let results = community();\n    graph.nodes.forEach(n => n.community = results[n.id]);\n  } // sort nodes\n  // 'Name', 'Links count (degree)', 'Total value'\n\n\n  graph.nodes.sort((a, b) => {\n    switch (orderNodesBy) {\n      case 'Total value':\n        return descending(a.totalValue, b.totalValue);\n\n      case 'Links count (degree)':\n        return ascending(a.degree, b.degree);\n\n      case 'Name':\n        return ascending(a.id, b.id);\n\n      case 'Minimize overlaps':\n        return ascending(a.community, b.community);\n\n      default:\n        return 0;\n    }\n  }); // size scale\n\n  const sizeScale = scaleSqrt().domain([0, max(graph.nodes, d => d[nodeSize])]).range([minDiameter, maxDiameter]); // widthScale (for nodes)\n\n  const widthScale = scaleLinear().domain([0, max(graph.links, d => d.value)]).range([0, maxDiameter]); // get the total size\n\n  const totalValue = sum(graph.nodes, d => sizeScale(d[nodeSize]) * 2); // compute padding\n\n  const padding = (chartWidth - totalValue) / (graph.nodes.length - 1); // compute x positions. @TODO could be improved\n\n  let xPos = 0;\n  graph.nodes.forEach((d, i) => {\n    d.x = xPos + sizeScale(d[nodeSize]);\n    d.y = sameSide ? chartHeight - maxDiameter : chartHeight / 2;\n    xPos += padding + sizeScale(d[nodeSize]) * 2;\n  }); // add background\n\n  select(svgNode).append('rect').attr('width', width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'viz'); // draw links\n\n  const arcs = svg.append('g').attr('id', 'arcs');\n  arcs.selectAll('path').data(graph.links).enter().append('path').attr('d', d => {\n    const r = Math.abs(d.source.x - d.target.x) / 2;\n    const sweep = sameSide ? d.source.x < d.target.x ? 1 : 0 : 1;\n    return `M${d.source.x},${d.source.y}A${r},${r} 0,0,${sweep} ${d.target.x},${d.target.y}`;\n  }).attr('fill', 'none').attr('stroke', 'gray').attr('stroke-width', d => widthScale(d.value)).attr('opacity', linkOpacity); // draw nodes\n\n  const nodes = svg.append('g').attr('id', 'nodes').selectAll('g').data(graph.nodes).enter().append('g'); // add circles\n\n  nodes.append('circle').attr('cx', d => d.x).attr('cy', d => d.y).attr('r', d => sizeScale(d[nodeSize])); // add labels\n\n  nodes.append('text') // .attr('x', (d) => d.x)\n  // .attr('y', (d) => d.y + sizeScale(d[nodeSize]))\n  .text(d => d.id).attr('transform', d => `translate(${d.x},${d.y + sizeScale(d[nodeSize]) + 5}) rotate(-90)`).attr('alignment-baseline', 'middle').attr('font-family', 'Helvetica, Arial, sans-serif').attr('font-size', 12).attr('text-anchor', 'end');\n}\n/*\n helper function to create a graph js object\n */\n\nfunction graphFromEdgesTable(_edgesTable) {\n  // links are a deep copy of the dataset, to avoid modification of origina data variable\n  let links = _edgesTable.map(d => Object.assign({}, d));\n\n  const nodes = Array.from(new Set(links.flatMap(l => [l.source, l.target])), id => ({\n    id,\n    outLinks: [],\n    inLinks: [],\n    totalValue: 0,\n    inValue: 0,\n    outValue: 0,\n    degree: 0,\n    inDegree: 0,\n    outDegree: 0,\n    default: 1\n  }));\n  const nodeById = new Map(nodes.map(d => [d.id, d])); //links are now re-populated ank linked to nodes objects\n\n  links = links.map(({\n    source,\n    target,\n    value\n  }) => ({\n    source: nodeById.get(source),\n    target: nodeById.get(target),\n    value\n  })); // links added to nodes objects\n\n  for (const link of links) {\n    const {\n      source,\n      target,\n      value\n    } = link; //update source\n\n    source.outLinks.push(link);\n    source.totalValue += link.value;\n    source.outValue += link.value;\n    source.degree++;\n    source.outDegree++; //update target\n\n    target.inLinks.push(link);\n    target.degree++;\n    target.inDegree++;\n    target.totalValue += link.value;\n    target.inValue += link.value;\n  }\n\n  return {\n    nodes,\n    links\n  };\n}\n\nconst visualOptions$1 = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  minDiameter: {\n    type: 'number',\n    label: 'Min diameter',\n    default: 2,\n    group: 'chart'\n  },\n  maxDiameter: {\n    type: 'number',\n    label: 'Max diameter',\n    default: 30,\n    group: 'chart'\n  },\n  linkOpacity: {\n    type: 'number',\n    label: 'Links opacity (0-1)',\n    default: 0.5,\n    step: 0.1,\n    min: 0,\n    max: 1,\n    group: 'chart'\n  },\n  sameSide: {\n    type: 'boolean',\n    label: 'Arcs only on the top',\n    default: false,\n    group: 'chart'\n  },\n  nodeSize: {\n    type: 'text',\n    label: 'Nodes diameter',\n    group: 'chart',\n    options: [{\n      label: 'Same size',\n      value: 'default'\n    }, {\n      label: 'Weighted degree',\n      value: 'totalValue'\n    }, {\n      label: 'Weighted inDegree',\n      value: 'inValue'\n    }, {\n      label: 'Weighted outDegree',\n      value: 'outValue'\n    }, {\n      label: 'Links count',\n      value: 'degree'\n    }, {\n      label: 'OutDegree',\n      value: 'outDegree'\n    }, {\n      label: 'InDegree',\n      value: 'inDegree'\n    }],\n    default: 'totalValue'\n  },\n  orderNodesBy: {\n    type: 'text',\n    label: 'Sort nodes by',\n    group: 'chart',\n    options: ['Name', 'Links count (degree)', 'Size', 'Minimize overlaps'],\n    default: 'Minimize overlaps'\n  }\n};\n\nvar arcdiagram = {\n  metadata: metadata$1,\n  dimensions: dimensions$1,\n  mapData: mapData$1,\n  render: render$1,\n  visualOptions: visualOptions$1\n};\n\nvar img$4 = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3crect class='cls-1' x='21' y='29' width='7' height='19'/%3e %3crect class='cls-1' x='41' y='34' width='7' height='14'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='9.185 9.685 7.5 8 5.815 9.685 5.815 11.115 7.003 9.927 7.003 48 7.997 48 7.997 9.927 9.185 11.115 9.185 9.685'/%3e %3crect class='cls-2' x='31' y='22.9517' width='7' height='25.0483'/%3e %3crect class='cls-2' x='11' y='36' width='7' height='12'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$5 = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-2 %7b fill: %23bee5a0%3b %7d .cls-3 %7b fill: %235e4fa2%3b %7d .cls-4 %7b fill: %23fdbe70%3b %7d .cls-5 %7b fill: %239e0142%3b %7d .cls-6 %7b fill: none%3b stroke: black%3b %7d .cls-7%2c .cls-8 %7b isolation: isolate%3b font-family: Helvetica%3b %7d .cls-7 %7b font-size: 12px%3b %7d .cls-8 %7b font-size: 10px%3b %7d %3c/style%3e %3c/defs%3e %3crect id='backgorund' class='cls-1' width='320' height='160'/%3e %3cg id='viz'%3e %3cg%3e %3cg%3e %3crect id='undefined_-_a' data-name='undefined - a' class='cls-2' x='28.9863' y='18.3333' width='46.1826' height='70'/%3e %3crect id='undefined_-_b' data-name='undefined - b' class='cls-3' x='77.1553' y='78.3333' width='46.1826' height='10'/%3e %3crect id='undefined_-_c' data-name='undefined - c' class='cls-4' x='125.3242' y='88.3333' width='46.1826' height='10'/%3e %3crect id='undefined_-_d' data-name='undefined - d' class='cls-5' x='173.4932' y='88.3333' width='46.1826' height='56.6667'/%3e %3crect id='undefined_-_e' data-name='undefined - e' class='cls-4' x='221.6621' y='88.3333' width='46.1826' height='40'/%3e %3crect id='undefined_-_f' data-name='undefined - f' class='cls-3' x='269.8311' y='58.3333' width='46.1826' height='30'/%3e %3c/g%3e %3cg id='xAxis'%3e %3cpath class='cls-6' d='M27.5%2c88.8333h291'/%3e %3cg%3e %3cline class='cls-6' x1='52.0776' y1='88.3333' x2='52.0776' y2='94.3333'/%3e %3ctext class='cls-7' transform='translate(49.2969 104.4333)'%3ea%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='100.2466' y1='88.3333' x2='100.2466' y2='94.3333'/%3e %3ctext class='cls-7' transform='translate(97.4658 104.4333)'%3eb%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='148.4155' y1='88.3333' x2='148.4155' y2='94.3333'/%3e %3ctext class='cls-7' transform='translate(145.9155 104.4333)'%3ec%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='196.5845' y1='88.3333' x2='196.5845' y2='94.3333'/%3e %3ctext class='cls-7' transform='translate(193.8037 104.4333)'%3ed%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='244.7534' y1='88.3333' x2='244.7534' y2='94.3333'/%3e %3ctext class='cls-7' transform='translate(241.9727 104.4333)'%3ee%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='292.9224' y1='88.3333' x2='292.9224' y2='94.3333'/%3e %3ctext class='cls-7' transform='translate(291.5332 104.4333)'%3ef%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='yAxis'%3e %3cpath class='cls-6' d='M27.5%2c155.5V5.5'/%3e %3cg%3e %3cline class='cls-6' x1='27' y1='155.5' x2='21' y2='155.5'/%3e %3ctext class='cls-8' transform='translate(1.0371 158.7)'%3e%e2%88%9220%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='27' y1='138.8333' x2='21' y2='138.8333'/%3e %3ctext class='cls-8' transform='translate(1.0371 142.0333)'%3e%e2%88%9215%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='27' y1='122.1667' x2='21' y2='122.1667'/%3e %3ctext class='cls-8' transform='translate(1.0371 125.3667)'%3e%e2%88%9210%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='27' y1='105.5' x2='21' y2='105.5'/%3e %3ctext class='cls-8' transform='translate(6.5986 108.7)'%3e%e2%88%925%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='27' y1='88.8333' x2='21' y2='88.8333'/%3e %3ctext class='cls-8' transform='translate(12.4385 92.0333)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='27' y1='72.1667' x2='21' y2='72.1667'/%3e %3ctext class='cls-8' transform='translate(12.4385 75.3667)'%3e5%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='27' y1='55.5' x2='21' y2='55.5'/%3e %3ctext class='cls-8' transform='translate(6.877 58.7)'%3e10%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='27' y1='38.8333' x2='21' y2='38.8333'/%3e %3ctext class='cls-8' transform='translate(6.877 42.0333)'%3e15%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='27' y1='22.1667' x2='21' y2='22.1667'/%3e %3ctext class='cls-8' transform='translate(6.877 25.3666)'%3e20%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='27' y1='5.5' x2='21' y2='5.5'/%3e %3ctext class='cls-8' transform='translate(6.877 8.7)'%3e25%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$2 = {\n  name: 'Bar chart',\n  thumbnail: img$5,\n  icon: img$4,\n  id: 'rawgraphs.barchart',\n  categories: ['correlations'],\n  description: 'It displays a categorical dimension and related amounts. Each bar represents a category, width is proportional to the quantitative dimension.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/barchart',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-barchart/'\n};\n\nconst dimensions$2 = [{\n  id: 'bars',\n  name: 'Bars',\n  validTypes: ['number', 'string', 'date'],\n  required: true,\n  operation: 'get'\n}, {\n  id: 'size',\n  name: 'Size',\n  operation: 'get',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'color',\n  name: 'Color',\n  operation: 'get',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}];\n\nconst mapData$2 = function (data, mapping, dataTypes, dimensions) {\n  // define aggregators\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions);\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  };\n  'series' in mapping ? null : mapping.series = {\n    value: undefined\n  };\n  'size' in mapping ? null : mapping.size = {\n    value: undefined\n  };\n  let results = [];\n  rollups(data, v => {\n    const item = {\n      series: v[0][mapping.series.value],\n      // get the first one since it's grouped\n      bars: v[0][mapping.bars.value],\n      // get the first one since it's grouped\n      size: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : v.length,\n      // aggregate. If not mapped, give 1 as size\n      color: mapping.color.value ? colorAggregator(v.map(d => d[mapping.color.value])) : 'default' // aggregate, by default single color.\n\n    };\n    results.push(item);\n    return item;\n  }, d => d[mapping.series.value], // series grouping\n  d => d[mapping.bars.value].toString() // bars grouping. toString() to enable grouping on dates\n  );\n  return results;\n};\n\nfunction render$2(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // chart options\n    padding,\n    barsOrientation,\n    sortBarsBy,\n    // series options\n    columnsNumber,\n    useSameScale,\n    sortSeriesBy,\n    showSeriesLabels,\n    repeatAxesLabels,\n    showGrid,\n    // color options\n    colorScale,\n    // legend\n    showLegend,\n    legendWidth\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const horizontalBars = {\n    horizontal: true,\n    vertical: false\n  }[barsOrientation];\n\n  if (mapping.bars.dataType.type === 'date') {\n    // set date format  from input data\n    const timeFormat$1 = timeFormat(dateFormats$1[mapping.bars.dataType.dateFormat]); // use it to format date\n\n    data.forEach(d => d.bars = timeFormat$1(d.bars));\n    console.log(data);\n  } // create nest structure\n\n\n  const nestedData = groups(data, d => d.series).map(d => ({\n    data: d,\n    totalSize: sum(d[1], d => d.size)\n  }));\n  console.log(nestedData); // series sorting functions\n\n  const seriesSortings = {\n    totalDescending: function (a, b) {\n      return descending(a.totalSize, b.totalSize);\n    },\n    totalAscending: function (a, b) {\n      return ascending(a.totalSize, b.totalSize);\n    },\n    name: function (a, b) {\n      return ascending(a.data[0], b.data[0]);\n    }\n  }; // sort series\n\n  nestedData.sort(seriesSortings[sortSeriesBy]); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(mapping.series.value ? columnsNumber : 1);\n  const griddingData = gridding$1(nestedData);\n  const svg = select(svgNode).append('g').attr('id', 'viz');\n  const series = svg.selectAll('g').data(griddingData).join('g').attr('id', d => d.data[0]).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')'); // value domain\n\n  let originalDomain = extent(data, d => d.size);\n  let sizeDomain = originalDomain[0] > 0 ? [0, originalDomain[1]] : originalDomain; // bars sorting functions\n\n  const barsSortings = {\n    totalDescending: function (a, b) {\n      return descending(a[1], b[1]);\n    },\n    totalAscending: function (a, b) {\n      return ascending(a[1], b[1]);\n    },\n    name: function (a, b) {\n      return ascending(a[0], b[0]);\n    },\n    original: function (a, b) {\n      return true;\n    }\n  }; // bars domain\n\n  const barsDomain = rollups(data, v => sum(v, d => d.size), d => d.bars).sort(barsSortings[sortBarsBy]).map(d => d[0]); // add grid\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  }\n\n  series.each(function (d, seriesIndex) {\n    // make a local selection for each serie\n    const selection = select(this).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); // compute each serie width and height\n\n    const seriesWidth = d.width - margin.right - margin.left;\n    const seriesHeight = d.height - margin.top - margin.bottom; // check if padding is too high and leave no space for bars\n\n    if (padding * barsDomain.length > (horizontalBars ? seriesHeight : seriesWidth)) {\n      throw new Error('Padding is too high, decrase it in the panel \"chart\" > \"Padding\"');\n    } // scales\n\n\n    const barScale = scaleBand().range([0, horizontalBars ? seriesHeight : seriesWidth]).domain(barsDomain) //convert padding from px to percentage\n    .padding(padding / (horizontalBars ? seriesHeight : seriesWidth / barsDomain.length));\n    const seriesDomain = extent(d.data[1], d => d.size);\n    const sizeScale = scaleLinear().domain(useSameScale ? sizeDomain : seriesDomain).nice().range(horizontalBars ? [0, seriesWidth] : [seriesHeight, 0]);\n    selection.append('g').attr('class', 'bars').selectAll('rect').data(d => d.data[1]).join('rect').attr('id', d => d.series + ' - ' + d.bars).attr('x', d => {\n      return horizontalBars ? sizeScale(Math.min(0, d.size)) : barScale(d.bars);\n    }).attr('y', d => {\n      return horizontalBars ? barScale(d.bars) : sizeScale(Math.max(0, d.size));\n    }).attr('height', d => {\n      return horizontalBars ? barScale.bandwidth() : Math.abs(sizeScale(d.size) - sizeScale(0));\n    }).attr('width', d => {\n      return horizontalBars ? Math.abs(sizeScale(d.size) - sizeScale(0)) : barScale.bandwidth();\n    }).attr('fill', d => colorScale(d.color));\n\n    if (horizontalBars) {\n      selection.append('g').attr('id', 'xAxis').attr('transform', 'translate(0,' + seriesHeight + ')').call(axisBottom(sizeScale)).call(g => g.append('text').attr('font-family', 'Arial, sans-serif').attr('font-size', 10).attr('x', seriesWidth).attr('dy', -5).attr('fill', 'black').attr('font-weight', 'bold').attr('text-anchor', 'end').attr('display', seriesIndex === 0 || repeatAxesLabels ? null : 'none').text(d => {\n        return mapping['size'].value ? `${mapping['size'].value} [${mapping.size.config.aggregation}]` : '';\n      }));\n      selection.append('g').attr('id', 'yAxis').attr('transform', 'translate(' + sizeScale(0) + ',0)').call(axisLeft(barScale).tickSizeOuter(0)).call(g => g.append('text').attr('font-family', 'Arial, sans-serif').attr('font-size', 10).attr('x', 4).attr('fill', 'black').attr('font-weight', 'bold').attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').attr('display', seriesIndex === 0 || repeatAxesLabels ? null : 'none').text(mapping['bars'].value));\n    } else {\n      selection.append('g').attr('id', 'xAxis').attr('transform', 'translate(0,' + sizeScale(0) + ')').call(axisBottom(barScale).tickSizeOuter(0)).call(g => g.append('text').attr('x', seriesWidth).attr('y', -4).attr('text-anchor', 'end').attr('display', seriesIndex === 0 || repeatAxesLabels ? null : 'none').text(mapping['bars'].value).styles(styles.axisLabel));\n      selection.append('g').attr('id', 'yAxis').call(axisLeft(sizeScale)).call(g => g.append('text').attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').attr('display', seriesIndex === 0 || repeatAxesLabels ? null : 'none').text(d => {\n        return mapping['size'].value ? `${mapping['size'].value} [${mapping.size.config.aggregation}]` : '';\n      }).styles(styles.axisLabel));\n    }\n\n    if (showSeriesLabels) {\n      select(this).append('text').text(d => d.data[0]).attr('y', 4).attr('x', 4).styles(styles.seriesLabel);\n    }\n  }); // add legend\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n} // auto format time scale if used as axis:\n\nconst visualOptions$2 = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  padding: {\n    type: 'number',\n    label: 'Padding',\n    default: 1,\n    group: 'chart'\n  },\n  barsOrientation: {\n    type: 'text',\n    label: 'Bars orientation',\n    group: 'chart',\n    options: [{\n      label: 'Vertically',\n      value: 'vertical'\n    }, {\n      label: 'Horizontally',\n      value: 'horizontal'\n    }],\n    default: 'vertical'\n  },\n  sortBarsBy: {\n    type: 'text',\n    label: 'Sort bars by',\n    group: 'chart',\n    options: [{\n      label: 'Size (descending)',\n      value: 'totalDescending'\n    }, {\n      label: 'Size (ascending)',\n      value: 'totalAscending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'original'\n    }],\n    default: 'name'\n  },\n  useSameScale: {\n    type: 'boolean',\n    label: 'Use same scale',\n    default: true,\n    group: 'series'\n  },\n  columnsNumber: {\n    type: 'number',\n    label: 'Number of columns',\n    default: 0,\n    group: 'series'\n  },\n  sortSeriesBy: {\n    type: 'text',\n    label: 'Sort series by',\n    group: 'series',\n    options: ['Total value (descending)', 'Total value (ascending)', 'Name', 'Original'],\n    default: 'Total value (descending)'\n  },\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show series titles',\n    default: true,\n    group: 'series'\n  },\n  repeatAxesLabels: {\n    type: 'boolean',\n    label: 'Repeat axis labels for each series',\n    default: false,\n    group: 'series'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show series grid',\n    default: false,\n    group: 'series'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  }\n};\n\nvar barchart = {\n  metadata: metadata$2,\n  dimensions: dimensions$2,\n  mapData: mapData$2,\n  render: render$2,\n  visualOptions: visualOptions$2,\n  styles: styles$1\n};\n\nvar img$6 = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2306c26c%3b %7d .cls-2 %7b fill: %2395e5c0%3b %7d %3c/style%3e %3c/defs%3e %3cpolygon class='cls-1' points='9.185 9.685 7.5 8 5.815 9.685 5.815 11.115 7.003 9.927 7.003 48 7.997 48 7.997 9.927 9.185 11.115 9.185 9.685'/%3e %3crect class='cls-2' x='21' y='29' width='3' height='19'/%3e %3crect class='cls-2' x='31' y='22.9521' width='3' height='25.0479'/%3e %3crect class='cls-2' x='41' y='34' width='3' height='14'/%3e %3crect class='cls-2' x='11' y='36' width='3' height='12'/%3e %3crect class='cls-1' x='15' y='31' width='3' height='17'/%3e %3crect class='cls-1' x='24.9219' y='35.9219' width='3.1563' height='12.1563'/%3e %3crect class='cls-1' x='34.9219' y='20.9219' width='3.1563' height='27.1563'/%3e %3crect class='cls-1' x='44.9219' y='30.9219' width='3.1563' height='17.1563'/%3e%3c/svg%3e\";\n\nvar img$7 = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-2 %7b fill: %234696b3%3b %7d .cls-3 %7b fill: %23f88e53%3b %7d .cls-4 %7b fill: %23d5ee9f%3b %7d .cls-5 %7b fill: none%3b stroke: black%3b %7d .cls-6 %7b isolation: isolate%3b font-size: 10px%3b font-family: Helvetica%3b %7d .cls-7 %7b letter-spacing: -0.0737em%3b %7d %3c/style%3e %3c/defs%3e %3crect id='backgorund' class='cls-1' width='320' height='160'/%3e %3cg id='viz'%3e %3cg%3e %3cg%3e %3crect id='undefined_-_Czech' data-name='undefined - Czech' class='cls-2' x='25.9251' y='53.6185' width='13.6608' height='89.3815'/%3e %3crect id='undefined_-_English' data-name='undefined - English' class='cls-3' x='40.5641' y='56.2723' width='13.6608' height='86.7277'/%3e %3crect id='undefined_-_Italian' data-name='undefined - Italian' class='cls-4' x='55.2031' y='18.2692' width='13.6608' height='124.7308'/%3e %3crect id='undefined_-_Czech-2' data-name='undefined - Czech' class='cls-2' x='74.7672' y='62.7477' width='13.6608' height='80.2523'/%3e %3crect id='undefined_-_English-2' data-name='undefined - English' class='cls-3' x='89.4063' y='8.1846' width='13.6608' height='134.8154'/%3e %3crect id='undefined_-_Italian-2' data-name='undefined - Italian' class='cls-4' x='104.0453' y='17.8446' width='13.6608' height='125.1554'/%3e %3crect id='undefined_-_Czech-3' data-name='undefined - Czech' class='cls-2' x='123.6094' y='106.0585' width='13.6608' height='36.9415'/%3e %3crect id='undefined_-_English-3' data-name='undefined - English' class='cls-3' x='138.2485' y='97.8846' width='13.6608' height='45.1154'/%3e %3crect id='undefined_-_Italian-3' data-name='undefined - Italian' class='cls-4' x='152.8875' y='103.2985' width='13.6608' height='39.7015'/%3e %3crect id='undefined_-_Czech-4' data-name='undefined - Czech' class='cls-2' x='172.4516' y='134.2954' width='13.6608' height='8.7046'/%3e %3crect id='undefined_-_English-4' data-name='undefined - English' class='cls-3' x='187.0907' y='127.1831' width='13.6608' height='15.8169'/%3e %3crect id='undefined_-_Italian-4' data-name='undefined - Italian' class='cls-4' x='201.7297' y='133.1277' width='13.6608' height='9.8723'/%3e %3crect id='undefined_-_Czech-5' data-name='undefined - Czech' class='cls-2' x='221.2938' y='135.1446' width='13.6608' height='7.8554'/%3e %3crect id='undefined_-_English-5' data-name='undefined - English' class='cls-3' x='235.9329' y='113.4892' width='13.6608' height='29.5108'/%3e %3crect id='undefined_-_Italian-5' data-name='undefined - Italian' class='cls-4' x='250.5719' y='95.2308' width='13.6608' height='47.7692'/%3e %3crect id='undefined_-_Czech-6' data-name='undefined - Czech' class='cls-2' x='270.136' y='142.1508' width='13.6608' height='0.8492'/%3e %3crect id='undefined_-_English-6' data-name='undefined - English' class='cls-3' x='284.7751' y='119.3277' width='13.6608' height='23.6723'/%3e %3crect id='undefined_-_Italian-6' data-name='undefined - Italian' class='cls-4' x='299.4141' y='130.7923' width='13.6608' height='12.2077'/%3e %3c/g%3e %3cg id='xAxis'%3e %3cpath class='cls-5' d='M21.5%2c143.5h297'/%3e %3cg%3e %3cline class='cls-5' x1='47.3945' y1='143' x2='47.3945' y2='149'/%3e %3ctext class='cls-6' transform='translate(44.6138 159.1)'%3ea%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='96.2367' y1='143' x2='96.2367' y2='149'/%3e %3ctext class='cls-6' transform='translate(93.4559 159.1)'%3ee%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='145.0789' y1='143' x2='145.0789' y2='149'/%3e %3ctext class='cls-6' transform='translate(142.2982 159.1)'%3ed%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='193.9211' y1='143' x2='193.9211' y2='149'/%3e %3ctext class='cls-6' transform='translate(191.1403 159.1)'%3eb%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='242.7633' y1='143' x2='242.7633' y2='149'/%3e %3ctext class='cls-6' transform='translate(240.2633 159.1)'%3ec%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='291.6055' y1='143' x2='291.6055' y2='149'/%3e %3ctext class='cls-6' transform='translate(290.2163 159.1)'%3ef%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='yAxis'%3e %3cpath class='cls-5' d='M21.5%2c143.5V5.5'/%3e %3cg%3e %3cline class='cls-5' x1='21' y1='143.5' x2='15' y2='143.5'/%3e %3ctext class='cls-6' transform='translate(6.4385 146.7)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='21' y1='132.8846' x2='15' y2='132.8846'/%3e %3ctext class='cls-6' transform='translate(6.4385 136.0846)'%3e1%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='21' y1='111.6538' x2='15' y2='111.6538'/%3e %3ctext class='cls-6' transform='translate(6.4385 114.8539)'%3e3%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='21' y1='90.4231' x2='15' y2='90.4231'/%3e %3ctext class='cls-6' transform='translate(6.4385 93.6231)'%3e5%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='21' y1='69.1923' x2='15' y2='69.1923'/%3e %3ctext class='cls-6' transform='translate(6.4385 72.3923)'%3e7%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='21' y1='47.9615' x2='15' y2='47.9615'/%3e %3ctext class='cls-6' transform='translate(6.4385 51.1615)'%3e9%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='21' y1='26.7308' x2='15' y2='26.7308'/%3e %3ctext class='cls-6' transform='translate(1.6143 29.9308)'%3e%3ctspan class='cls-7'%3e1%3c/tspan%3e%3ctspan x='4.8242' y='0'%3e1%3c/tspan%3e%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-5' x1='21' y1='5.5' x2='15' y2='5.5'/%3e %3ctext class='cls-6' transform='translate(0.877 8.7)'%3e13%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$3 = {\n  name: 'Multi-set bar chart',\n  thumbnail: img$7,\n  icon: img$6,\n  id: 'rawgraphs.barchartmultiset',\n  categories: ['correlations', 'proportions'],\n  description: 'It displays multiple quantitative dimensions related to categories. bars are visually grouped in sets according to the categorical dimension, each bar represents a quantitative dimension, mapped on its height.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/barchartmultiset',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-multiset-barchart/'\n};\n\nconst dimensions$3 = [{\n  id: 'groups',\n  name: 'Sets',\n  validTypes: ['number', 'string', 'date'],\n  required: true,\n  operation: 'get'\n}, {\n  id: 'bars',\n  name: 'Size',\n  validTypes: ['number'],\n  required: true,\n  multiple: true,\n  operation: 'get',\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum'\n  }\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}];\n\nconst mapData$3 = function (data, mapping, dataTypes, dimensions) {\n  // as we are working on a multiple dimension (bars), `getDimensionAggregator` will return an array of aggregator functions\n  // the order of aggregators is the same as the value of the mapping\n  const barsAggregators = getDimensionAggregator('bars', mapping, dataTypes, dimensions);\n  let results = [];\n  rollups(data, v => {\n    // @TODO use the spread operator to creat groups on mapping values\n    // for every dimension in the bars field, create an item\n    mapping.bars.value.forEach((barName, i) => {\n      //getting values for aggregation\n      const valuesForSize = v.map(x => x[barName]); //getting i-th aggregator\n\n      const aggregator = barsAggregators[i]; // create the item\n\n      const item = {\n        series: v[0][mapping.series.value],\n        // get the first one since it's grouped\n        groups: v[0][mapping.groups.value],\n        // get the first one since it's grouped\n        bars: barName,\n        size: aggregator(valuesForSize)\n      };\n      results.push(item);\n    });\n  }, d => d[mapping.series.value], // series grouping\n  d => d[mapping.groups.value].toString() // stacks grouping. toString() to enable grouping on dates\n  );\n  return results;\n};\n\nfunction render$3(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // chart options\n    barsPadding,\n    setsPadding,\n    SortXAxisBy,\n    // series options\n    columnsNumber,\n    useSameScale,\n    sortSeriesBy,\n    showSeriesLabels,\n    repeatAxesLabels,\n    showGrid,\n    // color options\n    colorScale,\n    // legend\n    showLegend,\n    legendWidth\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  }; // create nest structure\n\n  const nestedData = rollups(data, v => v, d => d.series).map(d => ({\n    data: d,\n    totalSize: sum(d[1], d => d.size)\n  })); // sort series\n\n  nestedData.sort((a, b) => {\n    return {\n      valueDescending: descending(a.totalSize, b.totalSize),\n      valueAscending: ascending(a.totalSize, b.totalSize),\n      name: ascending(a.data[0], b.data[0])\n    }[sortSeriesBy];\n  }); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(columnsNumber);\n  const griddingData = gridding$1(nestedData);\n  const svg = select(svgNode).append('g').attr('id', 'viz');\n  const series = svg.selectAll('g').data(griddingData).join('g').attr('id', d => d[0]).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')'); // domains\n\n  let originalDomain = extent(data, d => d.size);\n  let sizeDomain = originalDomain[0] > 0 ? [0, originalDomain[1]] : originalDomain; // sets (x axis) sorting functions\n\n  const stacksSortings = {\n    'Total value (descending)': function (a, b) {\n      return descending(a[1], b[1]);\n    },\n    'Total value (ascending)': function (a, b) {\n      return ascending(a[1], b[1]);\n    },\n    Name: function (a, b) {\n      return ascending(a[0], b[0]);\n    },\n    Original: function (a, b) {\n      return true;\n    }\n  }; // sets (x axis) domain\n\n  const setsDomain = rollups(data, v => sum(v, d => d.size), d => d.groups).sort(stacksSortings[SortXAxisBy]).map(d => d[0]);\n  const barsDomain = [...new Set(data.map(d => d.bars))]; // add grid\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  }\n\n  series.each(function (d, serieIndex) {\n    // make a local selection for each serie\n    const selection = select(this).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); // compute each serie width and height\n\n    const serieWidth = d.width - margin.right - margin.left;\n    const serieHeight = d.height - margin.top - margin.bottom; // scales\n\n    const setScale = scaleBand().range([0, serieWidth]).domain(setsDomain).padding(setsPadding / (serieWidth / setsDomain.length) //convert padding from px to percentage\n    );\n    const barScale = scaleBand().range([0, setScale.bandwidth()]).domain(barsDomain).padding(barsPadding / (setScale.bandwidth() / barsDomain.length) //convert padding from px to percentage\n    );\n    const localDomain = extent(d.data[1], e => e.size);\n    const sizeScale = scaleLinear().domain(useSameScale ? sizeDomain : localDomain).nice().range([serieHeight, 0]); // check if padding is too high and leave no space for bars\n\n    if (setsPadding * setsDomain.length + barsPadding * barsDomain.length * setsDomain.length >= serieWidth) {\n      throw new Error('Paddings are too high, decrase them in the \"chart\" options panel');\n    }\n\n    serieWidth / setScale.domain() / barScale.domain();\n    selection.append('g').attr('class', 'bars').selectAll('rect').data(d => d.data[1]).join('rect').attr('id', d => d.series + ' - ' + d.bars).attr('x', d => setScale(d.groups) + barScale(d.bars)).attr('y', d => sizeScale(Math.max(0, d.size))).attr('height', d => Math.abs(sizeScale(d.size) - sizeScale(0))).attr('width', barScale.bandwidth()).attr('fill', d => colorScale(d.bars));\n    selection.append('g').attr('id', 'xAxis').attr('transform', 'translate(0,' + sizeScale(0) + ')').call(axisBottom(setScale).tickSizeOuter(0));\n    selection.append('g').attr('id', 'yAxis').call(axisLeft(sizeScale).tickSizeOuter(0));\n\n    if (showSeriesLabels) {\n      select(this).append('text').attr('x', 4).attr('y', 4).text(d => d.data[0]).styles(styles.seriesLabel);\n    } // add the x axis titles\n\n\n    selection.append('text').attr('y', sizeScale(0) - 4).attr('x', serieWidth).attr('text-anchor', 'end').attr('display', serieIndex == 0 || repeatAxesLabels ? null : 'none').styles(styles.axisLabel).text('Sets'); // add the y axis titles\n\n    selection.append('text').attr('y', 0).attr('x', 4).attr('dominant-baseline', 'hanging').attr('text-anchor', 'start').attr('display', serieIndex == 0 || repeatAxesLabels ? null : 'none').styles(styles.axisLabel).text('Value');\n  }); // add legend\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n    chartLegend.addColor('Colors', colorScale);\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$3 = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  setsPadding: {\n    type: 'number',\n    label: 'Padding between sets',\n    default: 4,\n    group: 'chart'\n  },\n  barsPadding: {\n    type: 'number',\n    label: 'Padding between bars',\n    default: 1,\n    group: 'chart'\n  },\n  SortXAxisBy: {\n    type: 'text',\n    label: 'Sort X axis by',\n    group: 'chart',\n    options: ['Total value (descending)', 'Total value (ascending)', 'Name', 'Original'],\n    default: 'Name'\n  },\n  useSameScale: {\n    type: 'boolean',\n    label: 'Use same scale',\n    default: true,\n    group: 'series'\n  },\n  columnsNumber: {\n    type: 'number',\n    label: 'Number of columns',\n    default: 0,\n    group: 'series'\n  },\n  sortSeriesBy: {\n    type: 'text',\n    label: 'Sort series by',\n    group: 'series',\n    options: [{\n      label: 'Total value (descending)',\n      value: 'valueDescending'\n    }, {\n      label: 'Total value (ascending)',\n      value: 'valueAscending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'none'\n    }],\n    default: 'valueDescending'\n  },\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show series titles',\n    default: true,\n    group: 'series'\n  },\n  repeatAxesLabels: {\n    type: 'boolean',\n    label: 'Repeat axis labels for each series',\n    default: false,\n    group: 'series'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show series grid',\n    default: true,\n    group: 'series'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'bars',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  }\n};\n\nvar barchartmultiset = {\n  metadata: metadata$3,\n  dimensions: dimensions$3,\n  mapData: mapData$3,\n  render: render$3,\n  visualOptions: visualOptions$3,\n  styles: styles$1\n};\n\nvar img$8 = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2306c26c%3b %7d .cls-2 %7b fill: %2395e5c0%3b %7d %3c/style%3e %3c/defs%3e %3cg%3e %3crect class='cls-1' x='7.0029' y='9.1357' width='0.9941' height='38.8643'/%3e %3cpolygon class='cls-1' points='5.815 11.115 7.5 9.43 9.185 11.115 9.185 9.685 7.5 8 5.815 9.685 5.815 11.115'/%3e %3c/g%3e %3crect class='cls-1' x='21' y='36' width='7' height='12'/%3e %3crect class='cls-1' x='31' y='38' width='7' height='10'/%3e %3crect class='cls-1' x='41' y='36' width='7' height='12'/%3e %3crect class='cls-1' x='11' y='40' width='7' height='8'/%3e %3crect class='cls-2' x='11' y='34' width='7' height='5'/%3e %3crect class='cls-2' x='21' y='27' width='7' height='8'/%3e %3crect class='cls-2' x='31' y='22' width='7' height='15'/%3e %3crect class='cls-2' x='41' y='32' width='7' height='3'/%3e%3c/svg%3e\";\n\nvar img$9 = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 160'%3e%3cdefs%3e%3cstyle%3e.cls-1%7bfill:white%3b%7d.cls-2%7bfill:%2369bda9%3b%7d.cls-3%7bfill:%235e4fa2%3b%7d.cls-4%7bfill:%239e0142%3b%7d.cls-5%7bfill:%23fedd8d%3b%7d.cls-6%7bfill:%23f0704a%3b%7d.cls-7%7bfill:%23e0f3a1%3b%7d.cls-8%7bfill:none%3bstroke:black%3b%7d.cls-9%7bisolation:isolate%3bfont-size:10px%3bfont-family:Helvetica%3b%7d%3c/style%3e%3c/defs%3e%3crect id='backgorund' class='cls-1' width='320' height='160'/%3e%3cg id='viz'%3e%3cg id='Tape'%3e%3crect class='cls-2' x='29' y='119.6' width='31.11' height='20.4'/%3e%3crect class='cls-2' x='61.11' y='116.51' width='31.11' height='23.49'/%3e%3crect class='cls-2' x='93.22' y='104.76' width='31.11' height='35.24'/%3e%3crect class='cls-2' x='125.33' y='94.87' width='31.11' height='45.13'/%3e%3crect class='cls-2' x='157.44' y='113.42' width='31.11' height='26.58'/%3e%3crect class='cls-2' x='189.55' y='134.44' width='31.11' height='5.56'/%3e%3c/g%3e%3cg id='Vinyl'%3e%3crect class='cls-3' x='29' y='69.53' width='31.11' height='50.07'/%3e%3crect class='cls-3' x='61.11' y='69.53' width='31.11' height='46.98'/%3e%3crect class='cls-3' x='93.22' y='81.89' width='31.11' height='22.87'/%3e%3crect class='cls-3' x='125.33' y='92.4' width='31.11' height='2.47'/%3e%3crect class='cls-3' x='157.44' y='112.8' width='31.11' height='0.62'/%3e%3crect class='cls-3' x='253.78' y='139.38' width='31.11' height='0.62'/%3e%3crect class='cls-3' x='285.89' y='137.53' width='31.11' height='2.47'/%3e%3c/g%3e%3cg id='Disc'%3e%3crect class='cls-4' x='93.22' y='76.33' width='31.11' height='5.56'/%3e%3crect class='cls-4' x='125.33' y='50.36' width='31.11' height='42.04'/%3e%3crect class='cls-4' x='157.44' y='14.51' width='31.11' height='98.29'/%3e%3crect class='cls-4' x='189.55' y='12.04' width='31.11' height='122.4'/%3e%3crect class='cls-4' x='221.67' y='54.69' width='31.11' height='85.31'/%3e%3crect class='cls-4' x='253.78' y='114.65' width='31.11' height='24.73'/%3e%3crect class='cls-4' x='285.89' y='127.64' width='31.11' height='9.89'/%3e%3c/g%3e%3cg id='Other'%3e%3crect class='cls-5' x='125.33' y='48.51' width='31.11' height='1.85'/%3e%3crect class='cls-5' x='157.44' y='12.04' width='31.11' height='2.47'/%3e%3crect class='cls-5' x='189.55' y='9.56' width='31.11' height='2.47'/%3e%3crect class='cls-5' x='221.67' y='49.75' width='31.11' height='4.95'/%3e%3crect class='cls-5' x='253.78' y='112.18' width='31.11' height='2.47'/%3e%3crect class='cls-5' x='285.89' y='125.78' width='31.11' height='1.85'/%3e%3c/g%3e%3cg id='Download'%3e%3crect class='cls-6' x='221.67' y='41.71' width='31.11' height='8.04'/%3e%3crect class='cls-6' x='253.78' y='93.02' width='31.11' height='19.16'/%3e%3crect class='cls-6' x='285.89' y='110.33' width='31.11' height='15.45'/%3e%3c/g%3e%3cg id='Streaming'%3e%3crect class='cls-7' x='221.67' y='40.47' width='31.11' height='1.24'/%3e%3crect class='cls-7' x='253.78' y='89.93' width='31.11' height='3.09'/%3e%3crect class='cls-7' x='285.89' y='94.87' width='31.11' height='15.45'/%3e%3c/g%3e%3cg id='xAxis'%3e%3cpath class='cls-8' d='M28.5%2c140.5h290'/%3e%3cline class='cls-8' x1='44.55' y1='140' x2='44.55' y2='146'/%3e%3ctext class='cls-9' transform='translate(41.77 156.1)'%3ea%3c/text%3e%3cline class='cls-8' x1='76.67' y1='140' x2='76.67' y2='146'/%3e%3ctext class='cls-9' transform='translate(73.88 156.1)'%3eb%3c/text%3e%3cline class='cls-8' x1='108.78' y1='140' x2='108.78' y2='146'/%3e%3ctext class='cls-9' transform='translate(106.28 156.1)'%3ec%3c/text%3e%3cline class='cls-8' x1='140.89' y1='140' x2='140.89' y2='146'/%3e%3ctext class='cls-9' transform='translate(138.11 156.1)'%3ed%3c/text%3e%3cline class='cls-8' x1='173' y1='140' x2='173' y2='146'/%3e%3ctext class='cls-9' transform='translate(170.22 156.1)'%3ee%3c/text%3e%3cline class='cls-8' x1='205.11' y1='140' x2='205.11' y2='146'/%3e%3ctext class='cls-9' transform='translate(203.72 156.1)'%3ef%3c/text%3e%3cline class='cls-8' x1='237.22' y1='140' x2='237.22' y2='146'/%3e%3ctext class='cls-9' transform='translate(234.44 156.1)'%3eg%3c/text%3e%3cline class='cls-8' x1='269.33' y1='140' x2='269.33' y2='146'/%3e%3ctext class='cls-9' transform='translate(266.55 156.1)'%3eh%3c/text%3e%3cline class='cls-8' x1='301.45' y1='140' x2='301.45' y2='146'/%3e%3ctext class='cls-9' transform='translate(300.34 156.1)'%3ei%3c/text%3e%3c/g%3e%3cg id='yAxis'%3e%3cpath class='cls-8' d='M28.5%2c140.5V4.5'/%3e%3cline class='cls-8' x1='28' y1='140.5' x2='22' y2='140.5'/%3e%3ctext class='cls-9' transform='translate(13.44 143.7)'%3e0%3c/text%3e%3cline class='cls-8' x1='28' y1='128.14' x2='22' y2='128.14'/%3e%3ctext class='cls-9' transform='translate(7.88 131.34)'%3e20%3c/text%3e%3cline class='cls-8' x1='28' y1='115.77' x2='22' y2='115.77'/%3e%3ctext class='cls-9' transform='translate(7.88 118.97)'%3e40%3c/text%3e%3cline class='cls-8' x1='28' y1='103.41' x2='22' y2='103.41'/%3e%3ctext class='cls-9' transform='translate(7.88 106.61)'%3e60%3c/text%3e%3cline class='cls-8' x1='28' y1='91.05' x2='22' y2='91.05'/%3e%3ctext class='cls-9' transform='translate(7.88 94.25)'%3e80%3c/text%3e%3cline class='cls-8' x1='28' y1='78.68' x2='22' y2='78.68'/%3e%3ctext class='cls-9' transform='translate(2.32 81.88)'%3e100%3c/text%3e%3cline class='cls-8' x1='28' y1='66.32' x2='22' y2='66.32'/%3e%3ctext class='cls-9' transform='translate(2.32 69.52)'%3e120%3c/text%3e%3cline class='cls-8' x1='28' y1='53.95' x2='22' y2='53.95'/%3e%3ctext class='cls-9' transform='translate(2.32 57.15)'%3e140%3c/text%3e%3cline class='cls-8' x1='28' y1='41.59' x2='22' y2='41.59'/%3e%3ctext class='cls-9' transform='translate(2.32 44.79)'%3e160%3c/text%3e%3cline class='cls-8' x1='28' y1='29.23' x2='22' y2='29.23'/%3e%3ctext class='cls-9' transform='translate(2.32 32.43)'%3e180%3c/text%3e%3cline class='cls-8' x1='28' y1='16.86' x2='22' y2='16.86'/%3e%3ctext class='cls-9' transform='translate(2.32 20.06)'%3e200%3c/text%3e%3cline class='cls-8' x1='28' y1='4.5' x2='22' y2='4.5'/%3e%3ctext class='cls-9' transform='translate(2.32 7.7)'%3e220%3c/text%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n\nconst metadata$4 = {\n  name: 'Stacked bar chart',\n  id: 'rawgraphs.barchartstacked',\n  thumbnail: img$9,\n  icon: img$8,\n  categories: ['correlations', 'proportions'],\n  description: 'It displays multiple quantitative dimensions related to categories. bars are visually stacked according to the categorical dimension, each bar represents a quantitative dimension, mapped on its height.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/barchartstacked',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-stacked-barchart/'\n};\n\nconst dimensions$4 = [{\n  id: 'stacks',\n  name: 'X Axis',\n  validTypes: ['number', 'string', 'date'],\n  required: true,\n  operation: 'get'\n}, {\n  id: 'bars',\n  name: 'Size',\n  validTypes: ['number'],\n  required: true,\n  multiple: true,\n  operation: 'get',\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum'\n  }\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}];\n\nconst mapData$4 = function (data, mapping, dataTypes, dimensions) {\n  // as we are working on a multiple dimension (bars), `getDimensionAggregator` will return an array of aggregator functions\n  // the order of aggregators is the same as the value of the mapping\n  const barsAggregators = getDimensionAggregator('bars', mapping, dataTypes, dimensions);\n  let results = [];\n  rollups(data, v => {\n    // @TODO use the spread operator to creat groups on mapping values\n    // for every dimension in the bars field, create an item\n    mapping.bars.value.forEach((barName, i) => {\n      //getting values for aggregation\n      const valuesForSize = v.map(x => x[barName]); //getting i-th aggregator\n\n      const aggregator = barsAggregators[i]; // create the item\n\n      const item = {\n        series: v[0][mapping.series.value],\n        // get the first one since it's grouped\n        stacks: v[0][mapping.stacks.value],\n        // get the first one since it's grouped\n        bars: barName,\n        size: aggregator(valuesForSize)\n      };\n      results.push(item);\n    });\n  }, d => d[mapping.series.value], // series grouping\n  d => d[mapping.stacks.value].toString() // stacks grouping. toString() to enable grouping on dates\n  );\n  return results;\n};\n\nfunction render$4(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // chart options\n    stacksOrder,\n    stacksPadding,\n    SortXAxisBy,\n    // series options\n    columnsNumber,\n    useSameScale,\n    sortSeriesBy,\n    showSeriesLabels,\n    repeatAxesLabels,\n    showGrid = true,\n    // color options\n    colorScale,\n    // legend\n    showLegend,\n    legendWidth\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  }; //check if there are negative values, in case throw error\n\n  data.forEach(d => {\n    if (d.size < 0) {\n      throw new Error('Values cannot be negative');\n    }\n  }); // create nest structure\n\n  const nestedData = rollups(data, v => v, d => d.series).map(d => ({\n    data: d,\n    totalSize: sum(d[1], d => d.size)\n  })); // sort series\n\n  nestedData.sort((a, b) => {\n    return {\n      valueDescending: descending(a.totalSize, b.totalSize),\n      valueAscending: ascending(a.totalSize, b.totalSize),\n      name: ascending(a.data[0], b.data[0])\n    }[sortSeriesBy];\n  }); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(columnsNumber);\n  const griddingData = gridding$1(nestedData);\n  const svg = select(svgNode).append('g').attr('id', 'viz');\n  const series = svg.selectAll('g').data(griddingData).join('g').attr('id', d => d[0]).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')'); // domains\n  // sum all values for each serie / stack\n\n  const scaleRollup = rollups(data, v => sum(v, d => d.size), d => d.stacks + '_' + d.series).map(d => d[1]);\n  let sizeDomain = [0, max(scaleRollup)]; // stacks (x axis) sorting functions\n\n  const stacksSortings = {\n    'Total value (descending)': function (a, b) {\n      return descending(a[1], b[1]);\n    },\n    'Total value (ascending)': function (a, b) {\n      return ascending(a[1], b[1]);\n    },\n    Name: function (a, b) {\n      return ascending(a[0], b[0]);\n    },\n    Original: function (a, b) {\n      return true;\n    }\n  }; // stacks (x axis) domain\n\n  const stacksDomain = rollups(data, v => sum(v, d => d.size), d => d.stacks).sort(stacksSortings[SortXAxisBy]).map(d => d[0]);\n  const barsDomain = [...new Set(data.map(d => d.bars))]; // add grid\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  }\n\n  series.each(function (d, serieIndex) {\n    // make a local selection for each serie\n    const selection = select(this).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); // compute each serie width and height\n\n    const serieWidth = d.width - margin.right - margin.left;\n    const serieHeight = d.height - margin.top - margin.bottom; //prepare data for stack\n\n    let localStack = Array.from(rollup(d.data[1], ([e]) => e, e => e.stacks, e => e.bars)); // creaet an object with ordering methods\n\n    const orderings = {\n      Earliest: 'stackOrderAppearance',\n      Ascending: 'stackOrderAscending',\n      Descending: 'stackOrderDescending',\n      'Inside out': 'stackOrderInsideOut',\n      None: 'stackOrderNone',\n      Reverse: 'stackOrderReverse'\n    }; // create the stack\n    // define the funciton to retrieve the value\n    // inspired by https://observablehq.com/@stevndegwa/stack-chart\n\n    let stack$1 = stack().keys(barsDomain).value((data, key) => data[1].has(key) ? data[1].get(key).size : 0).order(d3[orderings[stacksOrder]]);\n    let stackedData = stack$1(localStack); // check if padding is too high and leave no space for bars\n\n    if (stacksPadding * stacksDomain.length > serieWidth) {\n      throw new Error('Padding is too high, decrase it in the panel \"chart\" > \"Padding\"');\n    } // scales\n\n\n    const stacksScale = scaleBand().range([0, serieWidth]).domain(stacksDomain).padding(stacksPadding / (serieWidth / stacksDomain.length) //convert padding from px to percentage\n    );\n    let localDomain = [0, max(rollups(d.data[1], v => sum(v, d => d.size), d => d.stacks).map(d => d[1]))];\n    const sizeScale = scaleLinear().domain(useSameScale ? sizeDomain : localDomain).nice().range([serieHeight, 0]);\n    selection.selectAll('g').data(stackedData).join('g').attr('id', d => d.key).attr('fill', d => colorScale(d.key)).selectAll('rect').data(d => d).join('rect').attr('x', d => stacksScale(d.data[0])).attr('y', d => sizeScale(d[1])).attr('width', stacksScale.bandwidth()).attr('height', d => serieHeight - sizeScale(d[1] - d[0]));\n    selection.append('g').attr('id', 'xAxis').attr('transform', 'translate(0,' + sizeScale(0) + ')').call(axisBottom(stacksScale).tickSizeOuter(0));\n    selection.append('g').attr('id', 'yAxis').call(axisLeft(sizeScale).tickSizeOuter(0));\n\n    if (showSeriesLabels) {\n      select(this).append('text').attr('x', 4).attr('y', 4).text(d => d.data[0]).styles(styles.seriesLabel);\n    } // add the x axis titles\n\n\n    selection.append('text').attr('y', serieHeight - 4).attr('x', serieWidth).attr('text-anchor', 'end').attr('display', serieIndex == 0 || repeatAxesLabels ? null : 'none').text(mapping.stacks.value).styles(styles.axisLabel);\n  }); // add legend\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n    chartLegend.addColor('Colors', colorScale);\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$4 = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  stacksPadding: {\n    type: 'number',\n    label: 'Padding',\n    default: 1,\n    group: 'chart'\n  },\n  stacksOrder: {\n    type: 'text',\n    label: 'Sort stacks by',\n    group: 'chart',\n    options: ['Earliest', 'Ascending', 'Descending', 'None', 'Reverse'],\n    default: 'None'\n  },\n  SortXAxisBy: {\n    type: 'text',\n    label: 'Sort X axis by',\n    group: 'chart',\n    options: ['Total value (descending)', 'Total value (ascending)', 'Name', 'Original'],\n    default: 'Name'\n  },\n  useSameScale: {\n    type: 'boolean',\n    label: 'Use same scale',\n    default: true,\n    group: 'series'\n  },\n  columnsNumber: {\n    type: 'number',\n    label: 'Number of columns',\n    default: 0,\n    group: 'series'\n  },\n  sortSeriesBy: {\n    type: 'text',\n    label: 'Sort series by',\n    group: 'series',\n    options: [{\n      label: 'Total value (descending)',\n      value: 'valueDescending'\n    }, {\n      label: 'Total value (ascending)',\n      value: 'valueAscending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'none'\n    }],\n    default: 'valueDescending'\n  },\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show series titles',\n    default: true,\n    group: 'series'\n  },\n  repeatAxesLabels: {\n    type: 'boolean',\n    label: 'Repeat axis labels for each series',\n    default: false,\n    group: 'series'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show series grid',\n    default: true,\n    group: 'series'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'bars',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  }\n};\n\nvar barchartstacked = {\n  metadata: metadata$4,\n  dimensions: dimensions$4,\n  mapData: mapData$4,\n  render: render$4,\n  visualOptions: visualOptions$4,\n  styles: styles$1\n};\n\nvar img$a = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2306c26c%3b %7d .cls-2 %7b fill: %2395e5c0%3b %7d %3c/style%3e %3c/defs%3e %3cg transform='translate(20.5 -2)'%3e %3crect class='cls-1' x='7.0029' y='9.1357' width='0.9941' height='38.8643'/%3e %3cpolygon class='cls-1' points='5.815 11.115 7.5 9.43 9.185 11.115 9.185 9.685 7.5 8 5.815 9.685 5.815 11.115'/%3e %3c/g%3e %3cg transform='rotate(90 8.52605 47) translate(1 -1)'%3e %3crect class='cls-1' x='7.0029' y='9.1357' width='0.9941' height='38.8643'/%3e %3cpolygon class='cls-1' points='5.815 11.115 7.5 9.43 9.185 11.115 9.185 9.685 7.5 8 5.815 9.685 5.815 11.115'/%3e %3cpolygon class='cls-1' transform='rotate(180 7.5 8) translate(0 -41)' points='5.815 11.115 7.5 9.43 9.185 11.115 9.185 9.685 7.5 8 5.815 9.685 5.815 11.115'/%3e %3c/g%3e %3crect class='cls-1' x='30' y='12' width='12' height='7'/%3e %3crect class='cls-1' x='30' y='20' width='10' height='7'/%3e %3crect class='cls-1' x='30' y='28' width='12' height='7'/%3e %3crect class='cls-1' x='30' y='36' width='8' height='7'/%3e %3crect class='cls-2' x='21' y='12' width='5' height='7'/%3e %3crect class='cls-2' x='18' y='20' width='8' height='7'/%3e %3crect class='cls-2' x='11' y='28' width='15' height='7'/%3e %3crect class='cls-2' x='23' y='36' width='3' height='7'/%3e%3c/svg%3e\";\n\nvar img$b = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='805' height='600'%3e%3crect width='805' height='600' fill='white'/%3e%3ctext x='402.5' y='50' style='text-anchor: middle%3b' font-size='20'/%3e%3cg transform='translate(%26%23xA%3b 50%2c%26%23xA%3b 70)'%3e%3cg fill='none' font-size='10' font-family='sans-serif' text-anchor='left' transform='translate(352.5%2c 0)'%3e%3cg class='tick' opacity='1' transform='translate(0%2c11.903771903771906)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e100 100%2b%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c34.71339471339471)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e95-99%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c57.52301752301752)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e90-94%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c80.33264033264034)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e85-89%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c103.14226314226315)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e80-84%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c125.95188595188596)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e75-79%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c148.76150876150876)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e70-74%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c171.5711315711316)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e65-69%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c194.38075438075438)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e60-64%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c217.19037719037718)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e55-59%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c240)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e50-54%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c262.8096228096228)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e45-49%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c285.6192456192456)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e40-44%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c308.42886842886844)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e35-39%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c331.2384912384913)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e30-34%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c354.04811404811403)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e25-29%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c376.8577368577369)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e20-24%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c399.6673596673596)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e15-19%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c422.47698247698247)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e10-14%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c445.2866052866053)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e5-9%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c468.09622809622806)'%3e%3ctext fill='currentColor' x='0' dy='0.32em' dx='0' text-anchor='middle'%3e0-4%3c/text%3e%3c/g%3e%3ctext font-family='sans-serif' font-size='10' class='labels' fill='currentColor' transform='translate(-9.666666984558105%2c 0)'%3eAge%3c/text%3e%3c/g%3e%3cg fill='none' font-size='10' font-family='sans-serif' text-anchor='middle' transform='translate(-402.5%2c 480)'%3e%3cpath class='domain' stroke='currentColor' d='M705%2c6V0H402.5V6'/%3e%3cg class='tick' opacity='1' transform='translate(705%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(667.1875%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e50%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(629.375%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e100%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(591.5625%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e150%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(553.75%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e200%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(515.9375%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e250%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(478.125%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e300%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(440.3125%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e350%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(402.5%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e400%2c000%3c/text%3e%3c/g%3e%3ctext font-family='sans-serif' font-size='10' class='labels' fill='currentColor' dx='389.1710510253906' transform='translate(10.558333396911621%2c -5)'%3eMen%3c/text%3e%3c/g%3e%3cg fill='none' font-size='10' font-family='sans-serif' text-anchor='middle' transform='translate(402.5%2c 480)'%3e%3cpath class='domain' stroke='currentColor' d='M0%2c6V0H302.5V6'/%3e%3cg class='tick' opacity='1' transform='translate(0%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(37.8125%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e50%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(75.625%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e100%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(113.4375%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e150%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(151.25%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e200%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(189.0625%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e250%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(226.875%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e300%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(264.6875%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e350%2c000%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(302.5%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em' text-anchor='start' transform='rotate(45)'%3e400%2c000%3c/text%3e%3c/g%3e%3ctext font-family='sans-serif' font-size='10' class='labels' fill='currentColor' dx='327.50801277160645' transform='translate(-18.816667556762695%2c -5)'%3eWomen%3c/text%3e%3c/g%3e%3cg id='bars1'%3e%3crect x='132.51239375' y='457.19037719037715' height='21.811701811701813' width='169.98760625' fill='rgb(234%2c 60%2c 46)'/%3e%3crect x='137.0098125' y='434.3807543807544' height='21.811701811701813' width='165.4901875' fill='rgb(237%2c 65%2c 49)'/%3e%3crect x='138.68415' y='411.57113157113156' height='21.811701811701813' width='163.81585' fill='rgb(238%2c 67%2c 50)'/%3e%3crect x='132.116875' y='388.7615087615087' height='21.811701811701813' width='170.383125' fill='rgb(234%2c 59%2c 46)'/%3e%3crect x='100.86257499999999' y='365.95188595188597' height='21.811701811701813' width='201.637425' fill='rgb(204%2c 29%2c 31)'/%3e%3crect x='69.90548125000001' y='343.1422631422631' height='21.811701811701813' width='232.59451875' fill='rgb(167%2c 15%2c 22)'/%3e%3crect x='69.366275' y='320.3326403326404' height='21.811701811701813' width='233.133725' fill='rgb(166%2c 15%2c 22)'/%3e%3crect x='70.74038125000001' y='297.52301752301753' height='21.811701811701813' width='231.75961875' fill='rgb(168%2c 16%2c 22)'/%3e%3crect x='88.37461875' y='274.7133947133947' height='21.811701811701813' width='214.12538125' fill='rgb(190%2c 22%2c 27)'/%3e%3crect x='68.30676875' y='251.9037719037719' height='21.811701811701813' width='234.19323125' fill='rgb(165%2c 15%2c 22)'/%3e%3crect x='32.10659375' y='229.0941490941491' height='21.811701811701813' width='270.39340625' fill='rgb(103%2c 0%2c 13)'/%3e%3crect x='44.56581249999999' y='206.28452628452627' height='21.811701811701813' width='257.9341875' fill='rgb(126%2c 5%2c 16)'/%3e%3crect x='95.16196249999999' y='183.47490347490347' height='21.811701811701813' width='207.3380375' fill='rgb(198%2c 26%2c 29)'/%3e%3crect x='141.80973124999997' y='160.66528066528068' height='21.811701811701813' width='160.69026875000003' fill='rgb(240%2c 71%2c 53)'/%3e%3crect x='166.64725' y='137.85565785565785' height='21.811701811701813' width='135.85275' fill='rgb(249%2c 104%2c 75)'/%3e%3crect x='175.8266125' y='115.04603504603504' height='21.811701811701813' width='126.67338749999999' fill='rgb(250%2c 116%2c 85)'/%3e%3crect x='226.53846875' y='92.23641223641224' height='21.811701811701813' width='75.96153125000001' fill='rgb(252%2c 177%2c 150)'/%3e%3crect x='263.43590625' y='69.42678942678943' height='21.811701811701813' width='39.06409375' fill='rgb(254%2c 217%2c 201)'/%3e%3crect x='287.93689375' y='46.61716661716662' height='21.811701811701813' width='14.563106249999999' fill='rgb(255%2c 236%2c 227)'/%3e%3crect x='300.00815625' y='23.80754380754381' height='21.811701811701813' width='2.49184375' fill='rgb(255%2c 244%2c 238)'/%3e%3crect x='302.37975625' y='0.9979209979209998' height='21.811701811701813' width='0.12024375000000001' fill='rgb(255%2c 245%2c 240)'/%3e%3c/g%3e%3cg id='bars2'%3e%3crect x='402.5' y='457.19037719037715' height='21.811701811701813' width='160.73110625' fill='rgb(75%2c 152%2c 201)'/%3e%3crect x='402.5' y='434.3807543807544' height='21.811701811701813' width='155.566675' fill='rgb(82%2c 156%2c 204)'/%3e%3crect x='402.5' y='411.57113157113156' height='21.811701811701813' width='155.73758750000002' fill='rgb(81%2c 156%2c 204)'/%3e%3crect x='402.5' y='388.7615087615087' height='21.811701811701813' width='160.22971249999998' fill='rgb(76%2c 152%2c 202)'/%3e%3crect x='402.5' y='365.95188595188597' height='21.811701811701813' width='190.7686' fill='rgb(44%2c 123%2c 186)'/%3e%3crect x='402.5' y='343.1422631422631' height='21.811701811701813' width='221.3074875' fill='rgb(19%2c 94%2c 165)'/%3e%3crect x='402.5' y='320.3326403326404' height='21.811701811701813' width='225.50165' fill='rgb(17%2c 90%2c 161)'/%3e%3crect x='402.5' y='297.52301752301753' height='21.811701811701813' width='228.33683125000002' fill='rgb(15%2c 87%2c 159)'/%3e%3crect x='402.5' y='274.7133947133947' height='21.811701811701813' width='212.97588125' fill='rgb(25%2c 102%2c 172)'/%3e%3crect x='402.5' y='251.9037719037719' height='21.811701811701813' width='238.4047875' fill='rgb(11%2c 77%2c 148)'/%3e%3crect x='402.5' y='229.0941490941491' height='21.811701811701813' width='268.25624375' fill='rgb(8%2c 48%2c 107)'/%3e%3crect x='402.5' y='206.28452628452627' height='21.811701811701813' width='258.93319375' fill='rgb(8%2c 57%2c 121)'/%3e%3crect x='402.5' y='183.47490347490347' height='21.811701811701813' width='217.83403125' fill='rgb(21%2c 97%2c 168)'/%3e%3crect x='402.5' y='160.66528066528068' height='21.811701811701813' width='178.94463125000001' fill='rgb(56%2c 135%2c 192)'/%3e%3crect x='402.5' y='137.85565785565785' height='21.811701811701813' width='159.922675' fill='rgb(76%2c 152%2c 202)'/%3e%3crect x='402.5' y='115.04603504603504' height='21.811701811701813' width='161.82842499999998' fill='rgb(74%2c 151%2c 201)'/%3e%3crect x='402.5' y='92.23641223641224' height='21.811701811701813' width='107.7263' fill='rgb(147%2c 195%2c 223)'/%3e%3crect x='402.5' y='69.42678942678943' height='21.811701811701813' width='69.47593125' fill='rgb(194%2c 218%2c 237)'/%3e%3crect x='402.5' y='46.61716661716662' height='21.811701811701813' width='35.2155375' fill='rgb(221%2c 235%2c 247)'/%3e%3crect x='402.5' y='23.80754380754381' height='21.811701811701813' width='9.743525' fill='rgb(240%2c 247%2c 253)'/%3e%3crect x='402.5' y='0.9979209979209998' height='21.811701811701813' width='0.7305375000000001' fill='rgb(247%2c 251%2c 255)'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n\nconst metadata$5 = {\n  name: 'Paired Bar Chart',\n  id: 'rawgraphs.barchartpaired',\n  thumbnail: img$b,\n  icon: img$a,\n  categories: ['Correlations', 'Comparison'],\n  description: 'A bar chart with which compares two categories of one entity depending on a second variable.',\n  code: 'https://github.com/rawgraphs',\n  tutorial: 'https://rawgraphs.io/learning/'\n};\n\nconst dimensions$5 = [{\n  id: 'x1',\n  name: 'Left Side',\n  validTypes: ['number'],\n  required: true\n}, {\n  id: 'x2',\n  name: 'Right Side',\n  validTypes: ['number'],\n  required: true\n}, {\n  id: 'y',\n  name: 'Y axis',\n  validTypes: ['number', 'string', 'date'],\n  required: true\n}];\n\nconst mapData$5 = {\n  x1: 'get',\n  x2: 'get',\n  y: 'get'\n};\n\nfunction render$5(node, data, visualOptions, mapping, styles) {\n  // destructurate visual visualOptions\n  const {\n    //artboard\n    title,\n    background,\n    width,\n    height,\n    marginTop,\n    marginBottom,\n    marginLeft,\n    marginRight,\n    //axis\n    axisLeftLabel,\n    axisLeftLabelVisible,\n    axisRightLabel,\n    axisRightLabelVisible,\n    axisVerticalLabel,\n    axisVerticalLabelVisible,\n    labelLeftAlignment,\n    labelLeftRotation,\n    labelRightAlignment,\n    labelRightRotation,\n    //chart\n    spaceCommonAxis,\n    sortBarsBy,\n    padding,\n    colorScale1,\n    colorScale2\n  } = visualOptions;\n  const {\n    minTitleHeight,\n    titleSize,\n    boundWidth,\n    boundWidthOneChart,\n    boundHeight,\n    boundLeft,\n    boundTop,\n    x1Accessor,\n    x2Accessor,\n    yAccessor,\n    barsSortings,\n    barsDomain\n  } = calcProps();\n  const svg = select(node);\n  const bounds = createBounds();\n  const {\n    x1Scale,\n    x2Scale,\n    x1ScaleReverse,\n    yScale\n  } = createScales();\n  const {\n    x1Axis,\n    x2Axis,\n    yAxis\n  } = createAxes();\n  createAxisLabels();\n  createBars();\n\n  function calcProps() {\n    const minTitleHeight = 300;\n    const titleSize = height / 30;\n    let boundWidth = width - marginLeft - marginRight;\n    let boundWidthOneChart = boundWidth - spaceCommonAxis;\n    let boundHeight = height - marginTop - marginBottom;\n    let boundLeft = marginLeft;\n    let boundTop = boundHeight >= minTitleHeight ? marginTop + titleSize : marginTop;\n\n    if (boundHeight >= minTitleHeight) {\n      boundHeight -= titleSize;\n    }\n\n    const x1Accessor = d => d.x1;\n\n    const x2Accessor = d => d.x2;\n\n    const yAccessor = d => d.y;\n\n    const barsSortings = {\n      totalDescending: (a, b) => descending(a[1], b[1]),\n      totalAscending: (a, b) => ascending(a[1], b[1]),\n      name: (a, b) => ascending(a[0], b[0]),\n      original: (a, b) => true\n    };\n    const barsDomain = rollups(data, v => sum(v, d => d.size), d => d.y).sort(barsSortings[sortBarsBy]).map(d => d[0]);\n    return {\n      minTitleHeight,\n      titleSize,\n      boundWidth,\n      boundWidthOneChart,\n      boundHeight,\n      boundLeft,\n      boundTop,\n      x1Accessor,\n      x2Accessor,\n      yAccessor,\n      barsSortings,\n      barsDomain\n    };\n  }\n\n  function createBounds() {\n    svg.append('rect').attr('width', width).attr('height', height).attr('fill', background);\n\n    if (titleSize) {\n      svg.append('text').text(title).attr('x', width / 2).attr('y', marginTop).style(\"text-anchor\", \"middle\").attr(\"font-size\", titleSize);\n    }\n\n    return svg.append(\"g\").attr(\"transform\", `translate(\n      ${boundLeft},\n      ${boundTop})`);\n  }\n\n  function createScales() {\n    const x1Scale = scaleLinear().domain(extent(data, x1Accessor)).range([0, boundWidthOneChart / 2]).nice();\n    const x1ScaleReverse = scaleLinear().domain(extent(data, x1Accessor)).range([boundWidth, (boundWidth + spaceCommonAxis) / 2]).nice();\n    const x2Scale = scaleLinear().domain(extent(data, x2Accessor)).range([0, boundWidthOneChart / 2]).nice();\n    const yScale = scaleBand().domain(barsDomain).range([0, boundHeight]).padding(padding / (boundHeight / barsDomain.length));\n    return {\n      x1Scale,\n      x2Scale,\n      x1ScaleReverse,\n      yScale\n    };\n  }\n\n  function createAxes() {\n    const yAxisGenerator = axisLeft().scale(yScale);\n    const yAxis = bounds.append(\"g\").call(yAxisGenerator).attr(\"text-anchor\", \"left\"); //yAxis.attr(\"transform\", `translate(${(boundWidthOneChart)}, 0)`)//+ yAxis._groups[0][0].getBBox().width\n\n    yAxis.attr(\"transform\", `translate(${boundWidth / 2}, 0)`);\n    yAxis.select(\"path\").remove(); //attr(\"stroke\", \"none\")\n\n    yAxis.selectAll(\"line\").remove(); //.attr(\"stroke\", \"none\")\n\n    yAxis.selectAll(\"text\").attr(\"dx\", \"0\").attr(\"x\", \"0\").attr(\"text-anchor\", \"middle\");\n    const x1AxisGenerator = axisBottom().scale(x1ScaleReverse);\n    const x1Axis = bounds.append(\"g\").call(x1AxisGenerator).attr(\"transform\", `translate(${-(boundWidth + spaceCommonAxis) / 2}, ${boundHeight})`);\n    x1Axis.selectAll(\"text\").attr(\"text-anchor\", labelLeftAlignment).attr(\"transform\", `rotate(${labelLeftRotation})`);\n    const x2AxisGenerator = axisBottom().scale(x2Scale);\n    const x2Axis = bounds.append(\"g\").call(x2AxisGenerator).attr(\"transform\", `translate(${(boundWidth + spaceCommonAxis) / 2}, ${boundHeight})`);\n    x2Axis.selectAll(\"text\").attr(\"text-anchor\", labelRightAlignment).attr(\"transform\", `rotate(${labelRightRotation})`);\n    return {\n      x1Axis,\n      x2Axis,\n      yAxis\n    };\n  }\n\n  function createAxisLabels() {\n    let labelX1 = null;\n    let labelX2 = null;\n    let labelY = null;\n\n    if (axisLeftLabelVisible) {\n      const {\n        x: x1\n      } = x1Axis._groups[0][0].getBBox();\n\n      labelX1 = x1Axis.append('text').attr('font-family', 'sans-serif').attr('font-size', 10).attr('class', 'labels').text(axisLeftLabel ? axisLeftLabel : mapping.x1.value).attr(\"fill\", \"currentColor\").attr(\"dx\", x1);\n      labelX1.attr(\"transform\", `translate(${labelX1._groups[0][0].getBBox().width / 2}, ${-5})`);\n    }\n\n    if (axisRightLabelVisible) {\n      const {\n        x: x2,\n        width: widthX2\n      } = x2Axis._groups[0][0].getBBox();\n\n      labelX2 = x2Axis.append('text').attr('font-family', 'sans-serif').attr('font-size', 10).attr('class', 'labels').text(axisRightLabel ? axisRightLabel : mapping.x2.value).attr(\"fill\", \"currentColor\").attr(\"dx\", x2 + widthX2);\n      labelX2.attr(\"transform\", `translate(${-labelX2._groups[0][0].getBBox().width / 2}, -5)`);\n    }\n\n    if (axisVerticalLabelVisible) {\n      labelY = yAxis.append('text').attr('font-family', 'sans-serif').attr('font-size', 10).attr('class', 'labels').text(axisVerticalLabel ? axisVerticalLabel : mapping.y.value).attr(\"fill\", \"currentColor\");\n      labelY.attr(\"transform\", `translate(${-labelY._groups[0][0].getBBox().width / 2}, 0)`);\n    }\n\n    return {\n      labelX1,\n      labelX2,\n      labelY\n    };\n  }\n\n  function createBars() {\n    const bars1 = bounds.append('g').attr('id', 'bars1').selectAll('rect').data(data).join('rect').attr('x', d => boundWidthOneChart / 2 - x1Scale(x1Accessor(d))).attr('y', d => yScale(yAccessor(d))).attr('height', yScale.bandwidth()).attr('width', d => x1Scale(x1Accessor(d))) //.attr('fill', \"#3333ff\")\n    .attr('fill', d => colorScale1(d.x1));\n    const bars2 = bounds.append('g').attr('id', 'bars2').selectAll('rect').data(data).join('rect').attr('x', (boundWidth + spaceCommonAxis) / 2).attr('y', d => yScale(yAccessor(d))).attr('height', yScale.bandwidth()).attr('width', d => x2Scale(x2Accessor(d))) //.attr('fill', \"#ff5555\")\n    .attr('fill', d => colorScale2(d.x2));\n    return {\n      bars1,\n      bars2\n    };\n  }\n}\n\nconst visualOptions$5 = {\n  //axis\n  labelLeftRotation: {\n    type: \"number\",\n    label: \"Left tick label rotation\",\n    default: 0,\n    group: \"axis\"\n  },\n  labelLeftAlignment: {\n    type: \"text\",\n    label: 'Align left tick labels to:',\n    group: 'axis',\n    options: [{\n      label: 'Left',\n      value: 'start'\n    }, {\n      label: 'Middle',\n      value: 'middle'\n    }, {\n      label: 'Right',\n      value: 'end'\n    }],\n    default: 'middle'\n  },\n  labelRightRotation: {\n    type: \"number\",\n    label: \"Right tick label rotation\",\n    default: 0,\n    group: \"axis\"\n  },\n  labelRightAlignment: {\n    type: \"text\",\n    label: 'Align right tick labels to:',\n    group: 'axis',\n    options: [{\n      label: 'Left',\n      value: 'start'\n    }, {\n      label: 'Middle',\n      value: 'middle'\n    }, {\n      label: 'Right',\n      value: 'end'\n    }],\n    default: 'middle'\n  },\n  axisLeftLabel: {\n    type: \"text\",\n    label: \"Left label override\",\n    default: \"\",\n    group: \"axis\"\n  },\n  axisLeftLabelVisible: {\n    type: \"boolean\",\n    label: \"Left label visible\",\n    default: true,\n    group: \"axis\"\n  },\n  axisRightLabel: {\n    type: \"text\",\n    label: \"Right label override\",\n    default: \"\",\n    group: \"axis\"\n  },\n  axisRightLabelVisible: {\n    type: \"boolean\",\n    label: \"Right label visible\",\n    default: true,\n    group: \"axis\"\n  },\n  axisVerticalLabel: {\n    type: \"text\",\n    label: \"Vertical label override\",\n    default: \"\",\n    group: \"axis\"\n  },\n  axisVerticalLabelVisible: {\n    type: \"boolean\",\n    label: \"Vertical label visible\",\n    default: true,\n    group: \"axis\"\n  },\n  //artboard\n  title: {\n    type: \"text\",\n    label: \"Chart Title\",\n    default: \"\",\n    group: \"artboard\"\n  },\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  //chart\n  spaceCommonAxis: {\n    type: 'number',\n    label: 'Space for common axis',\n    default: 100,\n    group: 'chart'\n  },\n  padding: {\n    type: 'number',\n    label: 'Padding Bars',\n    default: 1,\n    group: 'chart'\n  },\n  sortBarsBy: {\n    type: 'text',\n    label: 'Sort bars by',\n    group: 'chart',\n    options: [{\n      label: 'Size (descending)',\n      value: 'totalDescending'\n    }, {\n      label: 'Size (ascending)',\n      value: 'totalAscending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'original'\n    }],\n    default: 'original'\n  },\n  colorScale1: {\n    type: 'colorScale',\n    label: 'Color left axis',\n    dimension: 'x1',\n    default: {\n      scaleType: 'sequential',\n      interpolator: 'interpolateReds'\n    },\n    group: 'color'\n  },\n  colorScale2: {\n    type: 'colorScale',\n    label: 'Color right axis',\n    dimension: 'x2',\n    default: {\n      scaleType: 'sequential',\n      interpolator: 'interpolateBlues'\n    },\n    group: 'color'\n  }\n};\n\nvar barchartpaired = {\n  metadata: metadata$5,\n  dimensions: dimensions$5,\n  mapData: mapData$5,\n  render: render$5,\n  visualOptions: visualOptions$5,\n  styles: styles$1\n};\n\nvar img$c = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3ccircle class='cls-1' cx='37.5' cy='18' r='2'/%3e %3ccircle class='cls-1' cx='27.5' cy='37.5' r='2'/%3e %3ccircle class='cls-1' cx='13' cy='40' r='1.5'/%3e %3ccircle class='cls-1' cx='22.5' cy='42.5' r='1.4142'/%3e %3ccircle class='cls-1' cx='41.5' cy='13.5' r='2'/%3e %3ccircle class='cls-1' cx='44.5' cy='18' r='1.4142'/%3e %3ccircle class='cls-1' cx='46.4999' cy='14.5' r='1'/%3e %3ccircle class='cls-1' cx='31.9999' cy='38.5' r='1'/%3e %3ccircle class='cls-1' cx='22.4999' cy='46.5' r='1'/%3e %3ccircle class='cls-1' cx='26.4999' cy='42' r='1'/%3e %3ccircle class='cls-1' cx='46.4999' cy='45.9483' r='1'/%3e %3ccircle class='cls-1' cx='17' cy='44.5' r='3'/%3e %3c/g%3e %3cg id='primary'%3e %3ccircle class='cls-2' cx='31' cy='15.5' r='3'/%3e %3ccircle class='cls-2' cx='33.5' cy='10' r='1'/%3e %3ccircle class='cls-2' cx='41.5' cy='45.5' r='2'/%3e %3ccircle class='cls-2' cx='33.5' cy='21.5' r='1.4142'/%3e %3ccircle class='cls-2' cx='17.5' cy='30' r='1.5'/%3e %3ccircle class='cls-2' cx='37.4999' cy='23' r='1'/%3e %3ccircle class='cls-2' cx='19.5' cy='36.5' r='4'/%3e %3ccircle class='cls-2' cx='41.5' cy='21' r='1.4142'/%3e %3ccircle class='cls-2' cx='36.5' cy='13' r='1'/%3e %3ccircle class='cls-2' cx='38.5' cy='9.5' r='1'/%3e %3ccircle class='cls-2' cx='26' cy='18.5' r='1'/%3e %3ccircle class='cls-2' cx='28.9999' cy='21' r='1'/%3e %3ccircle class='cls-2' cx='13.9999' cy='32' r='1'/%3e %3ccircle class='cls-2' cx='27.9999' cy='30.5' r='1'/%3e %3ccircle class='cls-2' cx='30.4999' cy='34' r='1'/%3e %3ccircle class='cls-2' cx='34.4999' cy='35.5' r='1'/%3e %3ccircle class='cls-2' cx='12.4999' cy='35' r='1'/%3e %3ccircle class='cls-2' cx='9.4999' cy='37.5' r='1'/%3e %3ccircle class='cls-2' cx='25.4999' cy='33' r='1'/%3e %3ccircle class='cls-2' cx='36.4999' cy='45.9483' r='1'/%3e %3ccircle class='cls-2' cx='25' cy='15' r='1'/%3e %3ccircle class='cls-2' cx='22' cy='17.5' r='1'/%3e %3ccircle class='cls-2' cx='23' cy='28' r='3'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$d = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-2%2c .cls-3 %7b fill: none%3b %7d .cls-2 %7b stroke: black%3b %7d .cls-3 %7b stroke: %23ccc%3b %7d .cls-4 %7b isolation: isolate%3b font-size: 10px%3b font-family: Helvetica%3b %7d .cls-5 %7b fill: %23d5ee9f%3b %7d .cls-6 %7b fill: %234696b3%3b %7d .cls-7 %7b fill: %239e0142%3b %7d .cls-8 %7b fill: %23fed281%3b %7d .cls-9 %7b fill: %2389cfa5%3b %7d .cls-10 %7b fill: %23db494a%3b %7d .cls-11 %7b fill: %235e4fa2%3b %7d .cls-12 %7b fill: %23f88e53%3b %7d .cls-13 %7b fill: %23fbf8b0%3b %7d %3c/style%3e %3c/defs%3e %3crect id='backgorund' class='cls-1' width='320' height='160'/%3e %3cg id='visualization'%3e %3cg id='axis'%3e %3cg id='y_axis' data-name='y axis'%3e %3cpath class='cls-2' d='M10.5%2c10.5v131'/%3e %3cline class='cls-3' x1='10' y1='75.5' x2='293' y2='75.5'/%3e %3c/g%3e %3cg id='y_axis-2' data-name='y axis'%3e %3cpath class='cls-2' d='M10.5%2c141.5h283'/%3e %3cg%3e %3cline class='cls-2' x1='10.5' y1='141' x2='10.5' y2='147'/%3e %3ctext class='cls-4' transform='translate(-0.623 157.1)'%3e1930%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='41.9406' y1='141' x2='41.9406' y2='147'/%3e %3ctext class='cls-4' transform='translate(30.8176 157.1)'%3e1940%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='73.3898' y1='141' x2='73.3898' y2='147'/%3e %3ctext class='cls-4' transform='translate(62.2668 157.1)'%3e1950%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='104.8305' y1='141' x2='104.8305' y2='147'/%3e %3ctext class='cls-4' transform='translate(93.7074 157.1)'%3e1960%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='136.2797' y1='141' x2='136.2797' y2='147'/%3e %3ctext class='cls-4' transform='translate(125.1566 157.1)'%3e1970%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='167.7203' y1='141' x2='167.7203' y2='147'/%3e %3ctext class='cls-4' transform='translate(156.5973 157.1)'%3e1980%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='199.1695' y1='141' x2='199.1695' y2='147'/%3e %3ctext class='cls-4' transform='translate(188.0465 157.1)'%3e1990%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='230.6102' y1='141' x2='230.6102' y2='147'/%3e %3ctext class='cls-4' transform='translate(219.4871 157.1)'%3e2000%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='262.0594' y1='141' x2='262.0594' y2='147'/%3e %3ctext class='cls-4' transform='translate(250.9363 157.1)'%3e2010%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='293.5' y1='141' x2='293.5' y2='147'/%3e %3ctext class='cls-4' transform='translate(282.377 157.1)'%3e2020%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg id='viz'%3e %3ccircle class='cls-5' cx='42.2916' cy='76.0171' r='20'/%3e %3ccircle class='cls-6' cx='255.9086' cy='66.0735' r='17.3635'/%3e %3ccircle class='cls-5' cx='218.6223' cy='73.6218' r='16.6801'/%3e %3ccircle class='cls-7' cx='159.5505' cy='72.4357' r='14.5643'/%3e %3ccircle class='cls-6' cx='304.9922' cy='76.8797' r='14.2014'/%3e %3ccircle class='cls-8' cx='117.7509' cy='68.2744' r='10.7828'/%3e %3ccircle class='cls-9' cx='186.8852' cy='80.6577' r='9.9814'/%3e %3ccircle class='cls-10' cx='85.281' cy='70.8409' r='9.1628'/%3e %3ccircle class='cls-5' cx='117.2841' cy='91.7992' r='8.7467'/%3e %3ccircle class='cls-11' cx='243.3986' cy='101.7473' r='8.7467'/%3e %3ccircle class='cls-12' cx='9.7796' cy='74.7469' r='8.5368'/%3e %3ccircle class='cls-7' cx='193.3878' cy='59.3197' r='8.3258'/%3e %3ccircle class='cls-10' cx='138.1248' cy='88.6834' r='8.3258'/%3e %3ccircle class='cls-7' cx='278.1806' cy='47.3301' r='7.4691'/%3e %3ccircle class='cls-6' cx='137.5524' cy='60.2391' r='6.5912'/%3e %3ccircle class='cls-12' cx='101.4878' cy='81.4409' r='6.1439'/%3e %3ccircle class='cls-12' cx='201.6382' cy='94.6733' r='6.3683'/%3e %3ccircle class='cls-7' cx='281.1236' cy='75.8669' r='5.6905'/%3e %3ccircle class='cls-12' cx='150.1707' cy='50.3159' r='5.4616'/%3e %3ccircle class='cls-7' cx='259.1883' cy='92.6951' r='5.4616'/%3e %3ccircle class='cls-10' cx='87.9873' cy='89.2682' r='5.4616'/%3e %3ccircle class='cls-5' cx='291.813' cy='56.2823' r='4.7652'/%3e %3ccircle class='cls-10' cx='271.7587' cy='86.5523' r='4.5297'/%3e %3ccircle class='cls-7' cx='172.1142' cy='91.8134' r='4.5297'/%3e %3ccircle class='cls-7' cx='215.9835' cy='98.6933' r='4.5297'/%3e %3ccircle class='cls-12' cx='292.5688' cy='96.2223' r='4.5297'/%3e %3ccircle class='cls-5' cx='280.8091' cy='62.3755' r='3.813'/%3e %3ccircle class='cls-10' cx='239.2588' cy='47.5134' r='3.5704'/%3e %3ccircle class='cls-12' cx='70.4205' cy='77.9837' r='3.326'/%3e %3ccircle class='cls-10' cx='268.693' cy='100.8809' r='3.0797'/%3e %3ccircle class='cls-7' cx='134.7873' cy='73.6438' r='3.0797'/%3e %3ccircle class='cls-12' cx='68.1062' cy='67.8386' r='3.0797'/%3e %3ccircle class='cls-7' cx='234.0771' cy='56.243' r='2.5811'/%3e %3ccircle class='cls-7' cx='286.7199' cy='86.7768' r='2.5811'/%3e %3ccircle class='cls-7' cx='100.6623' cy='68.9963' r='2.3288'/%3e %3ccircle class='cls-11' cx='172.2784' cy='55.8678' r='2.3288'/%3e %3ccircle class='cls-5' cx='206.832' cy='54.1606' r='2.0743'/%3e %3ccircle class='cls-10' cx='232.7108' cy='91.4813' r='2.0743'/%3e %3ccircle class='cls-7' cx='225.646' cy='94.9954' r='1.8177'/%3e %3ccircle class='cls-12' cx='276.2464' cy='95.9923' r='1.9206'/%3e %3ccircle class='cls-12' cx='302.8993' cy='96.7888' r='1.8177'/%3e %3ccircle class='cls-12' cx='245.4185' cy='86.4539' r='1.5588'/%3e %3ccircle class='cls-10' cx='239.2818' cy='81.8512' r='1.5588'/%3e %3ccircle class='cls-12' cx='239.1319' cy='88.4425' r='1.0342'/%3e %3ccircle class='cls-7' cx='299.5432' cy='102.7626' r='1.0342'/%3e %3ccircle class='cls-7' cx='280.2787' cy='90.5216' r='0.875'/%3e %3ccircle class='cls-7' cx='162.8217' cy='91.4895' r='0.7684'/%3e %3ccircle class='cls-7' cx='287.7314' cy='67.6255' r='0.875'/%3e %3ccircle class='cls-7' cx='283.3192' cy='95.2758' r='0.7683'/%3e %3ccircle class='cls-13' cx='150.9283' cy='89.4385' r='0.5'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$6 = {\n  name: 'Beeswarm plot',\n  id: 'rawgraphs.beeswarm',\n  thumbnail: img$d,\n  icon: img$c,\n  categories: ['distributions', 'time series', 'proportions'],\n  description: 'It displays the distribution of items over a continuous dimensions. Each (line) is represented with a dot placed on the horizontal axis. The vertical dimension is used to avoid overlaps among circles, showing their distribution. The area of dots can be used to encode a further quantitative dimension and a quantitative or categorical dimension with color.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/beeswarm',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-beeswarm-plot/'\n};\n\nconst dimensions$6 = [{\n  id: 'xValue',\n  name: 'X Axis',\n  operation: 'get',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'size',\n  name: 'Size',\n  operation: 'get',\n  validTypes: ['number', 'date'],\n  required: false\n}, {\n  id: 'color',\n  name: 'Color',\n  operation: 'get',\n  validTypes: ['number', 'string', 'date'],\n  required: false\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true\n}, {\n  id: 'series',\n  name: 'Groups',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}];\n\nconst mapData$6 = function (data, mapping, dataTypes, dimensions) {\n  // add the non-compulsory dimensions.\n  'series' in mapping ? null : mapping.series = {\n    value: undefined\n  };\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  };\n  'size' in mapping ? null : mapping.size = {\n    value: undefined\n  };\n  'label' in mapping ? null : mapping.label = {\n    value: undefined\n  };\n  return data.map(d => ({\n    xValue: d[mapping.xValue.value],\n    series: d[mapping.series.value],\n    color: d[mapping.color.value],\n    size: mapping.size.value ? d[mapping.size.value] : 1,\n    label: mapping.label.value ? mapping.label.value.map(l => d[l]) : null\n  }));\n};\n\nfunction render$6(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    // margins\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // legends\n    showLegend,\n    legendWidth,\n    // chart options\n    minDiameter,\n    maxDiameter,\n    simulationStrength,\n    nodePadding,\n    sortSeriesBy,\n    // colors\n    colorScale,\n    showLabelsOutline,\n    autoHideLabels,\n    //TODO add labels legends\n    labelStyles\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  }; // create nest structure\n\n  const grouped = groups(data, d => d.series); // reduce them for sorting\n\n  const reduced = grouped.reduce((map, d) => {\n    map[d[0]] = sum(d[1], e => e.size);\n    return map;\n  }, {}); // define chart dimension\n\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // sort series\n\n  switch (sortSeriesBy) {\n    case 'Total value (descending)':\n      grouped.sort((a, b) => descending(reduced[a[0]], reduced[b[0]]));\n      break;\n\n    case 'Total value (ascending)':\n      grouped.sort((a, b) => ascending(reduced[a[0]], reduced[b[0]]));\n      break;\n\n    case 'Name':\n      grouped.sort((a, b) => ascending(a[0], b[0]));\n  }\n\n  mapping.xValue.dataType === 'number' ? mapping.xValue.dataType = {\n    type: 'number'\n  } : null; // @TODO it should be better to have always the same kind of object in mapping\n\n  let xScale;\n  const xDomain = extent(data, d => d.xValue);\n\n  switch (mapping.xValue.dataType.type) {\n    case 'number':\n      xScale = scaleLinear().domain(xDomain).nice().range([0, chartWidth]);\n      break;\n\n    case 'date':\n      xScale = scaleTime().domain(xDomain).nice().range([0, chartWidth]);\n      break;\n  } // create scale for sizes\n\n\n  const sizeScale = scaleSqrt().domain(extent(data, d => d.size)).range([minDiameter / 2, maxDiameter / 2]); // create y scale\n\n  const yScale = scaleBand().rangeRound([0, chartHeight]).domain(grouped.map(d => d[0])).align(0.5).padding(0); // prepare data with initial vales, so the simulation won't start from 0,0\n\n  data.forEach(d => {\n    d.x = xScale(d.xValue);\n    d.y = yScale(d.series) + yScale.bandwidth() / 2;\n  }); // initialise simulation\n\n  let simulation = forceSimulation(data).force('x', forceX().x(d => xScale(d.xValue))).force('y', forceY(d => yScale(d.series) + yScale.bandwidth() / 2)).force('collision', forceCollide().radius(d => sizeScale(d.size) + nodePadding)); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // get svg node\n\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'viz');\n\n  const xAxis = g => {\n    return g.attr('transform', `translate(0,${chartHeight})`).call(axisBottom(xScale)).call(g => g.append('text').attr('x', chartWidth).attr('dy', -5).attr('text-anchor', 'end').text(mapping['xValue'].value).styles(styles.axisLabel));\n  };\n\n  const yAxis = g => {\n    return g.call(axisLeft(yScale).tickSize(Math.round(-chartWidth)).tickSizeOuter(0)).call(g => g.selectAll('line').styles(styles.axisLine)).call(g => g.append('text').attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').text(mapping['series'].value).styles(styles.axisLabel));\n  }; // draw the scale and axes\n\n\n  const axisLayer = svg.append('g').attr('id', 'axis');\n  axisLayer.append('g').call(xAxis);\n  axisLayer.append('g').call(yAxis); // // draw y axis\n  // axisLayer\n  //   .append('g')\n  //   .attr('id', 'y axis')\n  //   .call(\n  //     d3.axisLeft(yScale).tickSize(Math.round(-chartWidth)).tickSizeOuter(0)\n  //   )\n  // // draw x axis\n  // axisLayer\n  //   .append('g')\n  //   .attr('id', 'y axis')\n  //   .attr('transform', `translate(0,${chartHeight})`)\n  //   .call(d3.axisBottom(xScale).tickSizeOuter(0))\n  // draw the viz\n\n  const vizLayer = svg.append('g').attr('id', 'visualization').selectAll('g').data(grouped).join('g').attr('id', d => d[0]); // let the simulation run in background\n  // @TODO move this to a web worker\n  //console.log(\"---------------new simulation---------------\")\n\n  for (var i = 0, n = Math.ceil(Math.log(simulation.alphaMin()) / Math.log(1 - simulation.alphaDecay())); i < n; ++i) {\n    //console.log(i+\"/\"+n+\"(\"+ (i/n*100) + \")\")\n    simulation.tick();\n  } //console.log(\"---------------end of simulation---------------\")\n  //add all the circles\n\n\n  vizLayer.append('g').attr('id', 'circles').selectAll('circle').data(d => d[1]).join('circle').attr('id', d => Array.isArray(d.label) ? d.label.toString() : d.label).attr('cx', d => d.x).attr('cy', d => d.y).attr('r', d => sizeScale(d.size)).style('fill', d => colorScale(d.color));\n  const labelsLayer = vizLayer.append('g').attr('id', 'labels');\n  labelsLayer.selectAll('g').data(d => mapping.label.value ? d[1] : []).join('g').attr('id', d => Array.isArray(d.label) ? d.label.toString() : d.label).attr('transform', d => `translate(${d.x},${d.y})`).append('text').attr('x', 0).attr('y', 0).attr('text-anchor', 'middle').attr('dominant-baseline', 'text-before-edge').selectAll('tspan').data(d => Array.isArray(d.label) ? d.label : [d.label]).join('tspan').attr('x', 0).attr('y', 0).attr('dy', (d, i) => i * 12).text((d, i) => {\n    if (d && mapping.label.dataType[i].type === 'date') {\n      return timeFormat(dateFormats$1[mapping.label.dataType[i].dateFormat])(d);\n    } else {\n      return d;\n    }\n  }).styles((d, i) => styles[labelStyles[i]]);\n  labelsLayer.selectAll('text').call(sel => {\n    return sel.attr('transform', function (d) {\n      const height = sel.node().getBBox().height;\n      return `translate(0,${-height / 2})`;\n    });\n  });\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    labelsLayer.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (autoHideLabels) {\n    labelsOcclusion(labelsLayer.selectAll('text'), d => d.size);\n  }\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    chartLegend.addSize(mapping.size.value ? mapping.size.value : 'Number of records', sizeScale, 'circle');\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$6 = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  minDiameter: {\n    type: 'number',\n    label: 'Min diameter',\n    default: 1,\n    group: 'chart'\n  },\n  maxDiameter: {\n    type: 'number',\n    label: 'Max diameter',\n    default: 20,\n    group: 'chart'\n  },\n  nodePadding: {\n    type: 'number',\n    label: 'Padding',\n    default: 1,\n    group: 'chart'\n  },\n  sortSeriesBy: {\n    type: 'text',\n    label: 'Sort groups by',\n    group: 'series',\n    options: ['Total value (descending)', 'Total value (ascending)', 'Name', 'Original'],\n    default: 'Original'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  },\n  autoHideLabels: {\n    type: 'boolean',\n    label: 'Auto hide labels',\n    default: false,\n    group: 'labels'\n  }\n}; // showLegend,\n// legendWidth,\n\nvar beeswarm = {\n  metadata: metadata$6,\n  dimensions: dimensions$6,\n  mapData: mapData$6,\n  render: render$6,\n  visualOptions: visualOptions$6,\n  styles: styles$1\n};\n\nvar img$e = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpolygon class='cls-1' points='41 31 44 31 44 41 42 41 42 42 44 42 45 42 47 42 47 41 45 41 45 31 48 31 48 29 41 29 41 31'/%3e %3cpolygon class='cls-1' points='45 17 45 14 47 14 47 13 42 13 42 14 44 14 44 17 41 17 41 28 48 28 48 17 45 17'/%3e %3cpolygon class='cls-1' points='17 21 19 21 19 20 14 20 14 21 16 21 16 24 13 24 13 29 20 29 20 24 17 24 17 21'/%3e %3cpolygon class='cls-1' points='13 36 16 36 16 40 14 40 14 41 19 41 19 40 17 40 17 36 20 36 20 30 13 30 13 36'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='9.195 9.695 7.5 8 5.805 9.695 5.805 11.135 7 9.939 7 48.5 8 48.5 8 9.939 9.195 11.135 9.195 9.695'/%3e %3cpolygon class='cls-2' points='31 13 33 13 33 12 28 12 28 13 30 13 30 17 27 17 27 29 34 29 34 17 31 17 31 13'/%3e %3cpolygon class='cls-2' points='27 36 30 36 30 42 28 42 28 43 30 43 31 43 33 43 33 42 31 42 31 36 34 36 34 30 27 30 27 36'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$f = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-4%2c .cls-5 %7b fill: none%3b %7d .cls-1 %7b stroke: black%3b %7d .cls-2%2c .cls-5 %7b stroke: %23ccc%3b %7d .cls-2 %7b stroke-dasharray: 3 3%3b %7d .cls-3 %7b fill: %239e0142%3b %7d .cls-4 %7b stroke: white%3b %7d .cls-6 %7b fill: %235e4fa2%3b %7d .cls-7 %7b fill: %2369bda9%3b %7d .cls-8 %7b fill: %23e0f3a1%3b %7d .cls-9 %7b fill: %23fedd8d%3b %7d .cls-10%2c .cls-11 %7b font-size: 12px%3b font-family: Helvetica%3b %7d .cls-11 %7b letter-spacing: -0.05469em%3b %7d %3c/style%3e %3c/defs%3e %3cg%3e %3cpath class='cls-1' d='M21.70371%2c144.46069v-6.13431H318.5039v6.13431'/%3e %3cline class='cls-1' x1='51.38372' y1='137.76872' x2='51.38372' y2='144.46069'/%3e %3cline class='cls-1' x1='110.74376' y1='137.76872' x2='110.74376' y2='144.46069'/%3e %3cline class='cls-1' x1='170.1038' y1='137.76872' x2='170.1038' y2='144.46069'/%3e %3cline class='cls-1' x1='229.46384' y1='137.76872' x2='229.46384' y2='144.46069'/%3e %3cline class='cls-1' x1='288.82388' y1='137.76872' x2='288.82388' y2='144.46069'/%3e %3cpath class='cls-1' d='M14.8137%2c138.32638h6.89V6.00177h-6.89'/%3e %3cline class='cls-1' x1='21.17371' y1='135.77482' x2='14.8137' y2='135.77482'/%3e %3cline class='cls-1' x1='21.17371' y1='123.97727' x2='14.8137' y2='123.97727'/%3e %3cline class='cls-1' x1='21.17371' y1='112.17972' x2='14.8137' y2='112.17972'/%3e %3cline class='cls-1' x1='21.17371' y1='100.38217' x2='14.8137' y2='100.38217'/%3e %3cline class='cls-1' x1='21.17371' y1='88.58462' x2='14.8137' y2='88.58462'/%3e %3cline class='cls-1' x1='21.17371' y1='76.78707' x2='14.8137' y2='76.78707'/%3e %3cline class='cls-1' x1='21.17371' y1='64.98952' x2='14.8137' y2='64.98952'/%3e %3cline class='cls-1' x1='21.17371' y1='53.19197' x2='14.8137' y2='53.19197'/%3e %3cline class='cls-1' x1='21.17371' y1='41.39442' x2='14.8137' y2='41.39442'/%3e %3cline class='cls-1' x1='21.17371' y1='29.59687' x2='14.8137' y2='29.59687'/%3e %3cline class='cls-1' x1='21.17371' y1='17.79932' x2='14.8137' y2='17.79932'/%3e %3cline class='cls-2' x1='50.85372' y1='125.3662' x2='50.85372' y2='82.12228'/%3e %3crect class='cls-3' x='40.25372' y='98.92789' width='21.20001' height='22.30825'/%3e %3cline class='cls-4' x1='40.25372' y1='117.686' x2='61.45373' y2='117.686'/%3e %3cline class='cls-5' x1='40.25372' y1='125.3662' x2='61.45373' y2='125.3662'/%3e %3cline class='cls-5' x1='40.25372' y1='82.12228' x2='61.45373' y2='82.12228'/%3e %3cline class='cls-2' x1='110.21376' y1='87.58272' x2='110.21376' y2='3.9293'/%3e %3crect class='cls-6' x='99.61376' y='27.0691' width='21.20001' height='45.6098'/%3e %3cline class='cls-4' x1='99.61376' y1='62.32678' x2='120.81377' y2='62.32678'/%3e %3cline class='cls-5' x1='99.61376' y1='87.58272' x2='120.81377' y2='87.58272'/%3e %3cline class='cls-5' x1='99.61376' y1='3.9293' x2='120.81377' y2='3.9293'/%3e %3cline class='cls-2' x1='169.5738' y1='135.51563' x2='169.5738' y2='64.28058'/%3e %3crect class='cls-7' x='158.9738' y='100.93521' width='21.20001' height='29.07392'/%3e %3cline class='cls-4' x1='158.9738' y1='127.173' x2='180.17381' y2='127.173'/%3e %3cline class='cls-5' x1='158.9738' y1='135.51563' x2='180.17381' y2='135.51563'/%3e %3cline class='cls-5' x1='158.9738' y1='64.28058' x2='180.17381' y2='64.28058'/%3e %3cline class='cls-2' x1='228.93384' y1='135.76859' x2='228.93384' y2='121.58534'/%3e %3crect class='cls-8' x='218.33383' y='123.27443' width='21.20001' height='10.86174'/%3e %3cline class='cls-4' x1='218.33383' y1='130.21818' x2='239.53385' y2='130.21818'/%3e %3cline class='cls-5' x1='218.33383' y1='135.76859' x2='239.53385' y2='135.76859'/%3e %3cline class='cls-5' x1='218.33383' y1='121.58534' x2='239.53385' y2='121.58534'/%3e %3cline class='cls-2' x1='288.29388' y1='131.72987' x2='288.29388' y2='76.4192'/%3e %3crect class='cls-9' x='277.69387' y='102.68031' width='21.20001' height='26.90716'/%3e %3cline class='cls-4' x1='277.69387' y1='121.06845' x2='298.89389' y2='121.06845'/%3e %3cline class='cls-5' x1='277.69387' y1='131.72987' x2='298.89389' y2='131.72987'/%3e %3cline class='cls-5' x1='277.69387' y1='76.4192' x2='298.89389' y2='76.4192'/%3e %3ctext class='cls-10' transform='translate(6.67382 139.31954)'%3e2%3c/text%3e %3ctext class='cls-10' transform='translate(6.67382 127.52169)'%3e4%3c/text%3e %3ctext class='cls-10' transform='translate(6.67382 115.72384)'%3e6%3c/text%3e %3ctext class='cls-10' transform='translate(6.67382 103.92696)'%3e8%3c/text%3e %3ctext class='cls-10' transform='translate(0 92.12911)'%3e10%3c/text%3e %3ctext class='cls-10' transform='translate(0 80.33223)'%3e12%3c/text%3e %3ctext class='cls-10' transform='translate(0 68.53438)'%3e14%3c/text%3e %3ctext class='cls-10' transform='translate(0 56.73653)'%3e16%3c/text%3e %3ctext class='cls-10' transform='translate(0 44.93966)'%3e18%3c/text%3e %3ctext class='cls-10' transform='translate(0 33.1418)'%3e20%3c/text%3e %3ctext class='cls-10' transform='translate(0 21.34395)'%3e22%3c/text%3e %3ctext class='cls-10' transform='translate(0 9.54708)'%3e24%3c/text%3e %3ctext class='cls-11' transform='translate(47.70996 155.70137)'%3eA%3c/text%3e %3ctext class='cls-10' transform='translate(106.74219 155.7004)'%3eB%3c/text%3e %3ctext class='cls-10' transform='translate(165.77051 155.7004)'%3eC%3c/text%3e %3ctext class='cls-10' transform='translate(225.13086 155.7004)'%3eD%3c/text%3e %3ctext class='cls-10' transform='translate(284.82227 155.7004)'%3eE%3c/text%3e %3c/g%3e %3ccircle class='cls-5' cx='50.85371' cy='43.32604' r='5'/%3e %3ccircle class='cls-5' cx='228.9338' cy='96.57779' r='5'/%3e %3ccircle class='cls-5' cx='228.9338' cy='94.40557' r='5'/%3e%3c/svg%3e\";\n\nconst metadata$7 = {\n  name: 'Box plot',\n  id: 'rawgraphs.boxplot',\n  thumbnail: img$f,\n  icon: img$e,\n  categories: ['distributions'],\n  description: 'It summarize a quantitative distribution with five standard statistics: the smallest value, lower quartile, median, upper quartile, and largest value.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/boxplot',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-boxplot/'\n};\n\nconst dimensions$7 = [{\n  id: 'value',\n  name: 'Y Axis',\n  validTypes: ['number'],\n  required: true\n}, {\n  id: 'group',\n  name: 'Groups',\n  validTypes: ['number', 'date', 'string'],\n  required: false\n}, {\n  id: 'color',\n  name: 'Color',\n  operation: 'get',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}];\n\nconst mapData$7 = function (data, mapping, dataTypes, dimensions) {\n  // define aggregators\n  // you should provide the dimension name (defined in dimensions.js)\n  // and pass mapping, dataTypes, and dimensions.\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'group' in mapping ? null : mapping.group = {\n    value: undefined\n  };\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  }; // we will use rollup to populate a flat array of objects\n  // that will be passed to the render\n\n  let results = [];\n  rollups(data, v => {\n    v.map(d => {\n      const item = {\n        group: d[mapping.group.value],\n        value: d[mapping.value.value],\n        color: colorAggregator(v.map(e => e[mapping.color.value]))\n      };\n      results.push(item);\n      return item;\n    });\n    return v;\n  }, d => d[mapping.group.value] // groups grouping\n  );\n  return results;\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/box-plot\n*/\n\nfunction render$7(svgNode, data, visualOptions, mapping, originalData, styles) {\n  let {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // charts options\n    barsWidth,\n    iqrMultiplier,\n    // to compute otuliers\n    dotsDiameter,\n    yOrigin,\n    //legend\n    showLegend,\n    legendWidth,\n    // color\n    colorScale,\n    // labels\n    showValues\n  } = visualOptions; // Margin convention\n\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'viz');\n  const yDomain = yOrigin ? [0, max(data, d => d.value)] : extent(data, d => d.value);\n  const yScale = scaleLinear().domain(yDomain).nice().range([chartHeight, 0]);\n  const groupsDomain = [...new Set(data.map(d => d.group))];\n  const xScale = scalePoint().rangeRound([0, chartWidth]).domain(groupsDomain).padding(0.5); // if series is exposed, recreate the nested structure\n\n  const nestedData = rollups(data, v => {\n    const values = v.map(d => d.value).sort(ascending);\n    const min = values[0];\n    const max = values[values.length - 1];\n    const q1 = quantile(values, 0.25);\n    const q2 = quantile(values, 0.5);\n    const q3 = quantile(values, 0.75);\n    const iqr = q3 - q1; // interquartile range\n\n    const r0 = Math.max(min, q1 - iqr * iqrMultiplier);\n    const r1 = Math.min(max, q3 + iqr * iqrMultiplier);\n    return {\n      group: v[0].group,\n      color: v[0].color,\n      values: v,\n      quartiles: [q1, q2, q3],\n      range: [r0, r1],\n      outliers: v.filter(d => d.value < r0 || d.value > r1)\n    };\n  }, d => d.group); // append scales\n\n  svg.append('g').attr('id', 'y axis').call(axisLeft(yScale)).append('text').styles(styles.axisLabel).attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').text(mapping['value'].value);\n  svg.append('g').attr('id', 'x axis').attr('transform', 'translate(0,' + chartHeight + ')').call(axisBottom(xScale)); //append boxplots\n\n  const boxplots = svg.append('g').attr('id', 'boxplots').selectAll('g').data(nestedData).join('g'); // add the line between quartiles\n\n  boxplots.append('line').attr('x1', d => xScale(d[1].group)).attr('x2', d => xScale(d[1].group)).attr('y1', d => yScale(d[1].range[1])).attr('y2', d => yScale(d[1].range[0])).attr('stroke', d => colorScale(d[1].color)).attr('stroke-dasharray', 4); // add lines at top and bottom\n\n  boxplots.append('line').attr('x1', d => xScale(d[1].group) - barsWidth / 2).attr('x2', d => xScale(d[1].group) + barsWidth / 2).attr('y1', d => yScale(d[1].range[1])).attr('y2', d => yScale(d[1].range[1])).attr('stroke', d => colorScale(d[1].color));\n  boxplots.append('line').attr('x1', d => xScale(d[1].group) - barsWidth / 2).attr('x2', d => xScale(d[1].group) + barsWidth / 2).attr('y1', d => yScale(d[1].range[0])).attr('y2', d => yScale(d[1].range[0])).attr('stroke', d => colorScale(d[1].color)); // add the boxes\n\n  boxplots.append('rect').attr('x', d => xScale(d[1].group) - barsWidth / 2).attr('y', d => yScale(d[1].quartiles[2])).attr('width', barsWidth).attr('height', d => yScale(d[1].quartiles[0]) - yScale(d[1].quartiles[2])).attr('fill', d => colorScale(d[1].color)); //add the half line\n\n  boxplots.append('line').attr('x1', d => xScale(d[1].group) - barsWidth / 2).attr('y1', d => yScale(d[1].quartiles[1])).attr('x2', d => xScale(d[1].group) + barsWidth / 2).attr('y2', d => yScale(d[1].quartiles[1])).attr('stroke', background);\n  boxplots.selectAll('circle').data(d => d[1].outliers).join('circle').attr('r', dotsDiameter / 2).attr('cx', d => xScale(d.group)).attr('cy', d => yScale(d.value)).attr('fill', background).attr('stroke', d => colorScale(d.color));\n\n  if (showValues) {\n    const valuesLabels = svg.append('g').attr('id', 'boxplots').selectAll('g').data(nestedData).join('g');\n    valuesLabels.append('text').styles(styles.labelSecondary).attr('x', d => xScale(d[1].group) + barsWidth / 2 + 4).attr('y', d => yScale(d[1].range[1])).attr('dominant-baseline', 'middle').text(d => d[1].range[1]);\n    valuesLabels.append('text').styles(styles.labelSecondary).attr('x', d => xScale(d[1].group) + barsWidth / 2 + 4).attr('y', d => yScale(d[1].range[0])).attr('dominant-baseline', 'middle').text(d => d[1].range[0]);\n    valuesLabels.append('text').styles(styles.labelSecondary).attr('x', d => xScale(d[1].group) + barsWidth / 2 + 4).attr('y', d => yScale(d[1].quartiles[1])).attr('dominant-baseline', 'middle').text(d => d[1].quartiles[1]);\n    valuesLabels.append('text').styles(styles.labelSecondary).attr('x', d => xScale(d[1].group) - barsWidth / 2 - 4).attr('y', d => yScale(d[1].quartiles[0])).attr('dominant-baseline', 'middle').attr('text-anchor', 'end').text(d => d[1].quartiles[0]);\n    valuesLabels.append('text').styles(styles.labelSecondary).attr('x', d => xScale(d[1].group) - 4).attr('y', d => yScale(d[1].quartiles[2])).attr('dominant-baseline', 'middle').attr('text-anchor', 'end').text(d => d[1].quartiles[2]);\n  }\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$7 = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 30,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  barsWidth: {\n    type: 'number',\n    label: 'Bars width',\n    default: 20,\n    group: 'chart'\n  },\n  iqrMultiplier: {\n    type: 'number',\n    label: 'Interquartile range multiplier',\n    default: 1.5,\n    group: 'chart'\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    default: 2,\n    group: 'chart'\n  },\n  yOrigin: {\n    type: 'boolean',\n    label: 'Set Y origin to 0',\n    default: false,\n    group: 'chart'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'schemeCategory10'\n    },\n    group: 'colors'\n  },\n  showValues: {\n    type: 'boolean',\n    label: 'Show boxpot values',\n    default: true,\n    group: 'labels'\n  }\n};\n\nvar boxplot = {\n  metadata: metadata$7,\n  dimensions: dimensions$7,\n  mapData: mapData$7,\n  render: render$7,\n  visualOptions: visualOptions$7,\n  styles: styles$1\n};\n\nvar img$g = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3ccircle class='cls-1' cx='22.5' cy='39.5' r='3.5'/%3e %3ccircle class='cls-1' cx='17' cy='20' r='6'/%3e %3ccircle class='cls-1' cx='41.5' cy='37.5' r='2.5'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 8 48 8 9.939 9.195 11.135 9.195 9.695 7.5 8 5.805 9.695 5.805 11.135 7 9.939 7 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3ccircle class='cls-2' cx='31.5' cy='28.5' r='6.5'/%3e %3ccircle class='cls-2' cx='37.5' cy='15.5' r='3.5'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$h = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-2 %7b fill: none%3b stroke: black%3b %7d .cls-3 %7b isolation: isolate%3b font-size: 10px%3b font-family: Helvetica%3b %7d .cls-4 %7b fill: %239e0142%3b %7d .cls-5 %7b fill: %234696b3%3b %7d .cls-6 %7b fill: %235e4fa2%3b %7d .cls-7 %7b fill: %23d5ee9f%3b %7d .cls-8 %7b fill: %2389cfa5%3b %7d .cls-9 %7b fill: %23fed281%3b %7d .cls-10 %7b fill: %23db494a%3b %7d .cls-11 %7b fill: %23f88e53%3b %7d .cls-12 %7b fill: %23fbf8b0%3b %7d %3c/style%3e %3c/defs%3e %3crect id='background' class='cls-1' width='320' height='160'/%3e %3cg id='visualization'%3e %3cg id='axis'%3e %3cg%3e %3cpath class='cls-2' d='M26.5%2c150v-5.5h284V150'/%3e %3cg%3e %3cline class='cls-2' x1='26.5' y1='144' x2='26.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(19.5493 160.1)'%3e6.2%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='45.5' y1='144' x2='45.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(38.5493 160.1)'%3e6.4%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='64.5' y1='144' x2='64.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(57.5493 160.1)'%3e6.6%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='83.5' y1='144' x2='83.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(76.5493 160.1)'%3e6.8%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='102.5' y1='144' x2='102.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(95.5493 160.1)'%3e7.0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='121.5' y1='144' x2='121.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(114.5493 160.1)'%3e7.2%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='140.5' y1='144' x2='140.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(133.5493 160.1)'%3e7.4%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.5' y1='144' x2='159.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(152.5493 160.1)'%3e7.6%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='177.5' y1='144' x2='177.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(170.5488 160.1)'%3e7.8%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='196.5' y1='144' x2='196.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(189.5488 160.1)'%3e8.0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='215.5' y1='144' x2='215.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(208.5488 160.1)'%3e8.2%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='234.5' y1='144' x2='234.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(227.5488 160.1)'%3e8.4%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='253.5' y1='144' x2='253.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(246.5488 160.1)'%3e8.6%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='272.5' y1='144' x2='272.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(265.5488 160.1)'%3e8.8%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='291.5' y1='144' x2='291.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(284.5488 160.1)'%3e9.0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='310.5' y1='144' x2='310.5' y2='150'/%3e %3ctext class='cls-3' transform='translate(303.5488 160.1)'%3e9.2%3c/text%3e %3c/g%3e %3c/g%3e %3cg%3e %3cpath class='cls-2' d='M20%2c144.5h6.5V10.5H20'/%3e %3cg%3e %3cline class='cls-2' x1='26' y1='129.5' x2='20' y2='129.5'/%3e %3ctext class='cls-3' transform='translate(5.877 132.7)'%3e50%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='26' y1='112.5' x2='20' y2='112.5'/%3e %3ctext class='cls-3' transform='translate(0.3154 115.7)'%3e100%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='26' y1='94.5' x2='20' y2='94.5'/%3e %3ctext class='cls-3' transform='translate(0.3154 97.7)'%3e150%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='26' y1='77.5' x2='20' y2='77.5'/%3e %3ctext class='cls-3' transform='translate(0.3154 80.7)'%3e200%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='26' y1='60.5' x2='20' y2='60.5'/%3e %3ctext class='cls-3' transform='translate(0.3154 63.7)'%3e250%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='26' y1='43.5' x2='20' y2='43.5'/%3e %3ctext class='cls-3' transform='translate(0.3154 46.7)'%3e300%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='26' y1='26.5' x2='20' y2='26.5'/%3e %3ctext class='cls-3' transform='translate(0.3154 29.7)'%3e350%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg id='viz'%3e %3ccircle class='cls-4' cx='177' cy='48' r='10'/%3e %3ccircle class='cls-4' cx='253' cy='132' r='5'/%3e %3ccircle class='cls-4' cx='234' cy='20' r='10'/%3e %3ccircle class='cls-5' cx='187' cy='52' r='9'/%3e %3ccircle class='cls-4' cx='206' cy='101' r='6'/%3e %3ccircle class='cls-6' cx='244' cy='23' r='9'/%3e %3ccircle class='cls-7' cx='102' cy='89' r='8'/%3e %3ccircle class='cls-4' cx='54' cy='76' r='6'/%3e %3ccircle class='cls-4' cx='196' cy='59' r='7'/%3e %3ccircle class='cls-6' cx='263' cy='121' r='4'/%3e %3ccircle class='cls-8' cx='102' cy='92' r='5'/%3e %3ccircle class='cls-4' cx='111' cy='75' r='7'/%3e %3ccircle class='cls-4' cx='102' cy='108' r='2'/%3e %3ccircle class='cls-7' cx='130' cy='36' r='6'/%3e %3ccircle class='cls-4' cx='130' cy='10' r='7'/%3e %3ccircle class='cls-4' cx='168' cy='131' r='2'/%3e %3ccircle class='cls-4' cx='272' cy='94' r='6'/%3e %3ccircle class='cls-6' cx='130' cy='76' r='7'/%3e %3ccircle class='cls-4' cx='102' cy='56' r='7'/%3e %3ccircle class='cls-4' cx='225' cy='114' r='4'/%3e %3ccircle class='cls-4' cx='121' cy='69' r='7'/%3e %3ccircle class='cls-7' cx='26' cy='83' r='7'/%3e %3ccircle class='cls-7' cx='206' cy='134' r='4'/%3e %3ccircle class='cls-7' cx='177' cy='44' r='9'/%3e %3ccircle class='cls-9' cx='196' cy='122' r='3'/%3e %3ccircle class='cls-8' cx='177' cy='135' r='5'/%3e %3ccircle class='cls-10' cx='177' cy='64' r='2'/%3e %3ccircle class='cls-7' cx='196' cy='112' r='3'/%3e %3ccircle class='cls-11' cx='159' cy='143' r='4'/%3e %3ccircle class='cls-10' cx='196' cy='132' r='4'/%3e %3ccircle class='cls-5' cx='196' cy='128' r='4'/%3e %3ccircle class='cls-11' cx='121' cy='137' r='3'/%3e %3ccircle class='cls-11' cx='244' cy='115' r='6'/%3e %3ccircle class='cls-11' cx='159' cy='139' r='4'/%3e %3ccircle class='cls-10' cx='206' cy='81' r='2'/%3e %3ccircle class='cls-10' cx='282' cy='97' r='6'/%3e %3ccircle class='cls-11' cx='92' cy='55' r='8'/%3e %3ccircle class='cls-10' cx='159' cy='75' r='6'/%3e %3ccircle class='cls-11' cx='130' cy='140' r='3'/%3e %3ccircle class='cls-10' cx='206' cy='76' r='7'/%3e %3ccircle class='cls-11' cx='130' cy='144' r='3'/%3e %3ccircle class='cls-7' cx='272' cy='105' r='5'/%3e %3ccircle class='cls-10' cx='263' cy='96' r='6'/%3e %3ccircle class='cls-11' cx='140' cy='87' r='7'/%3e %3ccircle class='cls-11' cx='92' cy='94' r='7'/%3e %3ccircle class='cls-11' cx='206' cy='97' r='6'/%3e %3ccircle class='cls-10' cx='140' cy='90' r='6'/%3e %3ccircle class='cls-11' cx='121' cy='70' r='6'/%3e %3ccircle class='cls-12' cx='310' cy='135' r='3'/%3e %3ccircle class='cls-6' cx='121' cy='138' r='4'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$8 = {\n  name: 'Bubble chart',\n  id: 'rawgraphs.bubblechart',\n  thumbnail: img$h,\n  icon: img$g,\n  categories: ['correlations', 'proportions'],\n  description: 'The basic layout is a scatter plot, which allows to see correlations among two continuous dimensions. A further quantitative dimension with size and a quantitative or categorical dimension with color.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/bubblechart',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-scatterplot/'\n};\n\nconst dimensions$8 = [{\n  id: 'x',\n  name: 'X Axis',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'y',\n  name: 'Y Axis',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false\n}, {\n  id: 'connectedBy',\n  name: 'Connection by',\n  validTypes: ['number', 'date'],\n  required: false\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: false\n}];\n\nconst mapData$8 = {\n  x: 'get',\n  y: 'get',\n  size: 'get',\n  color: 'get',\n  label: 'get',\n  connectedBy: 'get',\n  series: 'get'\n};\n\nfunction render$8(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    xOrigin,\n    yOrigin,\n    maxDiameter,\n    showStroke,\n    showPoints,\n    dotsDiameter,\n    showLegend,\n    legendWidth,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    colorScale,\n    showLabelsOutline,\n    autoHideLabels,\n    labelStyles,\n    columnsNumber,\n    showGrid,\n    showSeriesLabels,\n    sortSeriesBy,\n    useSameYScale,\n    useSameXScale\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  }; // if series is exposed, recreate the nested structure\n\n  const nestedData = groups(data, d => d.series); // comupte max values for series\n  // will add it as property to each series.\n\n  nestedData.forEach(function (serie) {\n    serie.totalValue = data.filter(item => item.series == serie[0]).reduce((result, item) => result + mapping.size.value ? item.size : 1, 0);\n  }); // series sorting functions\n\n  const seriesSortings = {\n    totalDescending: function (a, b) {\n      return descending(a.totalValue, b.totalValue);\n    },\n    totalAscending: function (a, b) {\n      return ascending(a.totalValue, b.totalValue);\n    },\n    name: function (a, b) {\n      return ascending(a[0], b[0]);\n    }\n  }; // sort series\n\n  nestedData.sort(seriesSortings[sortSeriesBy]); // select the SVG element\n\n  const svg = select(svgNode); // add background\n\n  svg.append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // add the visualization layer\n\n  const seriesLayer = svg.append('g').attr('id', 'series'); // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(columnsNumber);\n  const griddingData = gridding$1(nestedData); // draw the grid if asked\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  } // create the clip path\n\n\n  svg.append('clipPath').attr('id', 'serieClipPath').append('rect').attr('x', -margin.left).attr('y', -margin.top).attr('width', griddingData[0].width).attr('height', griddingData[0].height); // create the grid\n\n  const series = seriesLayer.selectAll('g').data(griddingData).join('g').attr('id', d => d[0]).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')'); // compute the size scale, common to all the charts\n\n  const maxRadius = maxDiameter / 2;\n  const sizeScale = scaleSqrt().domain([0, max(data, d => d.size)]).rangeRound([0, maxRadius]);\n  /*\n    YOU CAN PUT HERE CODE THAT APPLIES TO ALL THE SERIES\n  */\n  // do stuff for each serie\n\n  series.each(function (serie, seriesIndex) {\n    // make a local selection for each serie\n    const selection = select(this).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); // add the clip path\n\n    selection.attr('clip-path', 'url(#serieClipPath)'); // add series titles\n\n    if (showSeriesLabels) {\n      select(this).append('text').attr('y', 4).attr('x', 4).text(d => d[0]).styles(styles.seriesLabel);\n    } // compute each serie width and height\n\n\n    const seriesWidth = serie.width - margin.right - margin.left;\n    const seriesHeight = serie.height - margin.top - margin.bottom; // get series data\n\n    const serieData = serie[1]; // calculate domains\n    // y domain\n\n    const yDomain = useSameYScale ? // compute extent of the whole dataset\n    extent(data, e => e.y) : // compute extent of the single serie\n    extent(serieData, d => d.y);\n\n    if (yOrigin) {\n      yDomain[0] = 0;\n    } // x domain\n\n\n    const xDomain = useSameXScale ? // compute extent of the whole dataset\n    extent(data, e => e.x) : // compute extent of the single serie\n    extent(serieData, d => d.x);\n\n    if (xOrigin) {\n      xDomain[0] = 0;\n    } // create scales\n    // x scale\n\n\n    const xScale = mapping.x.dataType.type === 'date' ? scaleTime() : scaleLinear();\n    xScale.domain(xDomain).rangeRound([0, seriesWidth]).nice(); // y scale\n\n    const yScale = mapping.y.dataType.type === 'date' ? scaleTime() : scaleLinear();\n    yScale.domain(yDomain).rangeRound([seriesHeight, 0]).nice(); // create axis functions\n    // x axis\n\n    const xAxis = g => {\n      return g.attr('transform', `translate(0,${seriesHeight})`).call(axisBottom(xScale)).call(g => g.append('text').attr('x', seriesWidth).attr('dy', -5).attr('text-anchor', 'end').text(mapping['x'].value).styles(styles.axisLabel));\n    }; // y axis\n\n\n    const yAxis = g => {\n      return g.call(axisLeft(yScale)).call(g => g.append('text').attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').text(mapping['y'].value).styles(styles.axisLabel));\n    }; // append axes to the svg\n\n\n    const axisLayer = selection.append('g').attr('id', 'axis');\n    axisLayer.append('g').call(xAxis);\n    axisLayer.append('g').call(yAxis); //create a group for visualization\n\n    const vizLayer = selection.append('g').attr('id', 'viz'); // add connection line\n\n    if (mapping.connectedBy.value) {\n      const line$1 = line().x(d => xScale(d.x)).y(d => yScale(d.y));\n      vizLayer.append('path').attr('d', () => line$1(serieData.sort((a, b) => {\n        return ascending(a.connectedBy, b.connectedBy);\n      }))).attr('stroke', 'grey').attr('stroke-width', 0.5).attr('fill', 'none');\n    } // create circles\n\n\n    const bubbles = vizLayer.selectAll('g').data(serieData.sort((a, b) => {\n      console.log(a, b);\n      const sortValueA = mapping.size.value ? sizeScale(a.size) : maxRadius;\n      const sortValueB = mapping.size.value ? sizeScale(b.size) : maxRadius;\n      return sortValueB - sortValueA;\n    })).join('g');\n    bubbles.append('circle').attr('cx', d => xScale(d.x)).attr('cy', d => yScale(d.y)).attr('fill', d => {\n      return colorScale(d.color);\n    }).attr('r', d => {\n      return mapping.size.value ? sizeScale(d.size) : maxRadius;\n    }).attr('stroke', showStroke ? 'white' : 'none'); // add dots on the center\n\n    if (showPoints) {\n      bubbles.append('circle').attr('cx', d => xScale(d.x)).attr('cy', d => yScale(d.y)).attr('fill', 'black').attr('r', dotsDiameter / 2);\n    } //create a group for labels\n\n\n    const labelsLayer = vizLayer.append('g').attr('id', 'labels'); // add labels\n\n    labelsLayer.selectAll('g').data(mapping.label.value ? serieData : []).join('g').attr('transform', d => `translate(${xScale(d.x)},${yScale(d.y)})`).append('text').attr('x', 0).attr('y', 0).attr('text-anchor', 'middle').attr('dominant-baseline', 'text-before-edge').selectAll('tspan').data(d => Array.isArray(d.label) ? d.label : [d.label]).join('tspan').attr('x', 0).attr('y', 0).attr('dy', (d, i) => i * 12) //@TODO fix magic number\n    .text((d, i) => {\n      if (d && mapping.label.dataType[i].type === 'date') {\n        return timeFormat(dateFormats$1[mapping.label.dataType[i].dateFormat])(d);\n      } else {\n        return d;\n      }\n    }).styles((d, i) => styles[labelStyles[i]]); // center labels position\n\n    labelsLayer.selectAll('text').call(sel => {\n      return sel.attr('transform', function (d) {\n        const height = sel.node().getBBox().height;\n        return `translate(0,${-height / 2})`;\n      });\n    }); // add outline\n\n    if (showLabelsOutline) {\n      // NOTE: Adobe Illustrator does not support paint-order attr\n      labelsLayer.selectAll('text').styles(styles.labelOutline);\n    } // auto hide labels\n\n\n    if (autoHideLabels) {\n      labelsOcclusion(labelsLayer.selectAll('text'), d => d.size);\n    }\n    /*\n      END OF THE CHART CODE\n    */\n\n  }); // add legend\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    if (mapping.size.value) {\n      const legendSizeScale = sizeScale.copy();\n      legendSizeScale.domain(extent(data, d => d.size)).rangeRound([sizeScale(min(data, d => d.size)), maxRadius]);\n      chartLegend.addSize(mapping.size.value, legendSizeScale, 'circle');\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$8 = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  xOrigin: {\n    type: 'boolean',\n    label: 'Set X origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  yOrigin: {\n    type: 'boolean',\n    label: 'Set Y origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  maxDiameter: {\n    type: 'number',\n    label: 'Max diameter',\n    default: 15,\n    step: 1,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  showStroke: {\n    type: 'boolean',\n    label: 'Show stroke',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  showPoints: {\n    type: 'boolean',\n    label: 'Show dots on data values',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    default: 2,\n    group: 'chart',\n    disabled: {\n      showPoints: false\n    },\n    requiredDimensions: ['x', 'y']\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  },\n  autoHideLabels: {\n    type: 'boolean',\n    label: 'Auto hide labels',\n    default: false,\n    group: 'labels'\n  },\n  //series\n  columnsNumber: {\n    type: 'number',\n    label: 'Number of columns',\n    default: 0,\n    group: 'series'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show series grid',\n    default: true,\n    group: 'series'\n  },\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show series titles',\n    default: true,\n    group: 'series'\n  },\n  sortSeriesBy: {\n    type: 'text',\n    label: 'Sort series by',\n    group: 'series',\n    options: [{\n      label: 'Total size (descending)',\n      value: 'totalDescending'\n    }, {\n      label: 'Total size (ascending)',\n      value: 'totalAscending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'original'\n    }],\n    default: 'totalDescending'\n  },\n  useSameYScale: {\n    type: 'boolean',\n    label: 'Use same Y scale',\n    default: true,\n    group: 'series'\n  },\n  useSameXScale: {\n    type: 'boolean',\n    label: 'Use same X scale',\n    default: true,\n    group: 'series'\n  }\n};\n\nvar bubblechart = {\n  metadata: metadata$8,\n  dimensions: dimensions$8,\n  mapData: mapData$8,\n  render: render$8,\n  visualOptions: visualOptions$8,\n  styles: styles$1\n};\n\nvar img$i = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M23.5286%2c24.4514c1.2226-.9042%2c2.1708-2.8385%2c3.027-5.0461C25.4194%2c16.268%2c24.0343%2c14%2c22%2c14c-6.6416%2c0-7.3584%2c3-14%2c3v8c6.6416%2c0%2c7.3584-1%2c14-1A2.8974%2c2.8974%2c0%2c0%2c1%2c23.5286%2c24.4514Z'/%3e %3cpath class='cls-1' d='M35%2c38a11.8359%2c11.8359%2c0%2c0%2c0-5.2772%2c1.04C30.9988%2c42.9069%2c32.5164%2c46%2c35%2c46c4.7651%2c0%2c5.9744-5.1755%2c8.7442-8.08a17.9385%2c17.9385%2c0%2c0%2c1-2.57-4.2376C39.9042%2c35.8521%2c38.3113%2c38%2c35%2c38Z'/%3e %3cpath class='cls-1' d='M48%2c36V28a7.1682%2c7.1682%2c0%2c0%2c0-.9037.0736%2c5.4882%2c5.4882%2c0%2c0%2c0-2.8935%2c1.4053C45.2312%2c33.1176%2c46.457%2c36%2c48%2c36Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpath class='cls-2' d='M8%2c33c6.6416%2c0%2c7.3584%2c7%2c14%2c7%2c6.6235%2c0%2c6.3765-3%2c13-3s5-10%2c13-10V15c-6.6235%2c0-6.3765%2c11-13%2c11s-6.3765%2c9-13%2c9c-6.6416%2c0-7.3584-9-14-9Z'/%3e %3cpath class='cls-2' d='M15.7742%2c29.867C17.5874%2c32.0847%2c19.1533%2c34%2c22%2c34a6.2%2c6.2%2c0%2c0%2c0%2c.9881-.0869c2.1463-.3934%2c3.3405-2.0781%2c4.6959-3.9912q.1486-.21.3-.4224c1.29-2.0409%2c2.7418-4.0632%2c5.9826-4.4244A7.6248%2c7.6248%2c0%2c0%2c1%2c35%2c25c2.7355%2c0%2c4.0791-2.3177%2c5.6349-5.0015.0734-.1267.1479-.2547.2224-.3825C39.4494%2c13.4455%2c37.87%2c8%2c35%2c8c-6.6235%2c0-6.3765%2c18-13%2c18-2.9321%2c0-4.7091%2c1.7546-6.3513%2c3.714Z'/%3e %3cpath class='cls-2' d='M43.3555%2c30.1727A17.9405%2c17.9405%2c0%2c0%2c0%2c41.7832%2c32.62C43.2888%2c35.9017%2c44.8841%2c39%2c48%2c39V37C45.9127%2c37%2c44.5082%2c34.1176%2c43.3555%2c30.1727Z'/%3e %3cpath class='cls-2' d='M10.5426%2c34.4705A6.2893%2c6.2893%2c0%2c0%2c1%2c8%2c35v4a10.3825%2c10.3825%2c0%2c0%2c0%2c6.1459-1.931A11.4313%2c11.4313%2c0%2c0%2c0%2c10.5426%2c34.4705Z'/%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 7.5 48 7.5 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$j = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %239e0142%3b %7d .cls-2 %7b fill: %23e0f3a1%3b %7d .cls-3 %7b fill: %23f0704a%3b %7d .cls-4 %7b fill: %23fedd8d%3b %7d .cls-5 %7b fill: %235e4fa2%3b %7d .cls-6 %7b fill: %2369bda9%3b %7d .cls-7 %7b fill: none%3b stroke: black%3b %7d .cls-8 %7b font-size: 10px%3b font-family: Helvetica%3b %7d %3c/style%3e %3c/defs%3e %3cg%3e %3cpath class='cls-1' d='M49.30307%2c104.9359c17.26325%2c0%2c17.26325-3.334%2c34.5265-3.334%2c17.2538%2c0%2c17.2538%2c8.46788%2c34.5076%2c8.46788s17.25379-7.92986%2c34.5076-7.92986%2c17.25379%2c22.76886%2c34.50759%2c22.76886c17.26324%2c0%2c17.26324-21.68757%2c34.5265-21.68757%2c17.25379%2c0%2c17.25379-37.08151%2c34.50758-37.08151S273.64023%2c87.5315%2c290.89405%2c87.5315c13.80493%2c0%2c13.80493%2c11.3125%2c27.60985%2c11.3125V94.96949c-13.80492%2c0-13.80492-17.27063-27.60985-17.27063-17.25382%2c0-17.25382-36.62338-34.50761-36.62338s-17.25379-24.7692-34.50758-24.7692C204.6156%2c16.30628%2c204.6156%2c0%2c187.35236%2c0c-17.2538%2c0-17.2538%2c1.88305-34.50759%2c1.88305S135.591%2c67.46977%2c118.33717%2c67.46977s-17.2538%2c28.303-34.5076%2c28.303C66.56632%2c95.77276%2c66.56632%2c104.9359%2c49.30307%2c104.9359Z'/%3e %3cpath class='cls-2' d='M187.35236%2c137.91575c17.26324%2c0%2c17.26324-26.08116%2c34.5265-26.08116%2c17.25379%2c0%2c17.25379-24.81226%2c34.50758-24.81226s17.25379-10.31567%2c34.50761-10.31567c13.80493%2c0%2c13.80493%2c17.27063%2c27.60985%2c17.27063v-5.38c-13.80492%2c0-13.80492-27.58951-27.60985-27.58951-17.25382%2c0-17.25382%2c6.12414-34.50761%2c6.12414s-17.25379%2c37.0815-34.50758%2c37.0815c-17.26326%2c0-17.26326%2c33.70233-34.5265%2c33.70233'/%3e %3cpath class='cls-3' d='M83.82957%2c103.58632c17.2538%2c0%2c17.2538%2c12.81955%2c34.5076%2c12.81955s17.25379%2c16.88376%2c34.5076%2c16.88376%2c17.25379%2c2.13675%2c34.50759%2c2.13675c17.26324%2c0%2c17.26324-17.53365%2c34.5265-17.53365%2c17.25379%2c0%2c17.25379-22.71816%2c34.50758-22.71816s17.25379-1.43534%2c34.50761-1.43534c13.80493%2c0%2c13.80493%2c12.19748%2c27.60985%2c12.19748v-1.93133C304.699%2c104.00538%2c304.699%2c91.82%2c290.89405%2c91.82c-17.25382%2c0-17.25382.59558-34.50761.59558s-17.25379%2c20.41121-34.50758%2c20.41121c-17.26326%2c0-17.26326%2c19.96343-34.5265%2c19.96343-17.2538%2c0-17.2538-1.82836-34.50759-1.82836S135.591%2c114.283%2c118.33717%2c114.283%2c101.08337%2c103.58632%2c83.82957%2c103.58632Z'/%3e %3cpath class='cls-4' d='M187.35236%2c138.908c17.26324%2c0%2c17.26324-18.62461%2c34.5265-18.62461%2c17.25379%2c0%2c17.25379-28.86%2c34.50758-28.86s17.25379-31.4078%2c34.50761-31.4078c13.80493%2c0%2c13.80493%2c27.58951%2c27.60985%2c27.58951V31.979c-13.80492%2c0-13.80492%2c12.19748-27.60985%2c12.19748-17.25382%2c0-17.25382%2c43.838-34.50761%2c43.838s-17.25379%2c30.8704-34.50758%2c30.8704c-17.26326%2c0-17.26326%2c20.023-34.5265%2c20.023'/%3e %3cpath class='cls-5' d='M221.87886%2c122.49366c-17.26326%2c0-17.26326%2c3.40734-34.5265%2c3.40734-17.2538%2c0-17.2538-22.76886-34.50759-22.76886S135.591%2c20.51768%2c118.33717%2c20.51768s-17.2538%2c13.81175-34.5076%2c13.81175c-17.26325%2c0-17.26325%2c45.53772-34.5265%2c45.53772-17.25379%2c0-17.25379%2c3.13162-34.50759%2c3.13162-6.89774%2c0-6.89774.47888-13.79548.47888v21.0574c6.89774%2c0%2c6.89774-.82368%2c13.79548-.82368%2c17.2538%2c0%2c17.2538.23233%2c34.50759.23233%2c17.26325%2c0%2c17.26325-33.52436%2c34.5265-33.52436%2c17.2538%2c0%2c17.2538-3.94177%2c34.5076-3.94177s17.25379%2c63.49209%2c34.5076%2c63.49209%2c17.25379%2c1.82836%2c34.50759%2c1.82836C204.6156%2c131.798%2c204.6156%2c122.49366%2c221.87886%2c122.49366Z'/%3e %3cpath class='cls-6' d='M1%2c82.48545c6.89774%2c0%2c6.89774-.47887%2c13.79548-.47887%2c17.2538%2c0%2c17.2538-3.13163%2c34.50759-3.13163%2c17.26325%2c0%2c17.26325%2c15.90561%2c34.5265%2c15.90561%2c17.2538%2c0%2c17.2538%2c18.51026%2c34.5076%2c18.51026s17.25379%2c21.74968%2c34.5076%2c21.74968%2c17.25379%2c1.883%2c34.50759%2c1.883c17.26324%2c0%2c17.26324-15.42209%2c34.5265-15.42209%2c17.25379%2c0%2c17.25379-24.66119%2c34.50758-24.66119s17.25379-6.01247%2c34.50761-6.01247c13.80493%2c0%2c13.80493%2c12.18538%2c27.60985%2c12.18538v-3.177c-13.80492%2c0-13.80492-11.3125-27.60985-11.3125-17.25382%2c0-17.25382%2c7.64307-34.50761%2c7.64307s-17.25379%2c25.10877-34.50758%2c25.10877c-17.26326%2c0-17.26326%2c15.143-34.5265%2c15.143-17.2538%2c0-17.2538-2.13675-34.50759-2.13675S135.591%2c111.062%2c118.33717%2c111.062s-17.2538-39.65046-34.5076-39.65046c-17.26325%2c0-17.26325-40.41609-34.5265-40.41609-17.25379%2c0-17.25379.23233-34.50759.23233-6.89774%2c0-6.89774-.82368-13.79548-.82368Z'/%3e %3cg%3e %3cpath class='cls-7' d='M1.4961%2c144.86115v-5.4571H319v5.4571'/%3e %3cg%3e %3cline class='cls-7' x1='15.29079' y1='138.90795' x2='15.29079' y2='144.86115'/%3e %3ctext class='cls-8' transform='translate(4.25488 154.88281)'%3e1975%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='49.79839' y1='138.90795' x2='49.79839' y2='144.86115'/%3e %3ctext class='cls-8' transform='translate(38.7627 154.88281)'%3e1980%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='84.32488' y1='138.90795' x2='84.32488' y2='144.86115'/%3e %3ctext class='cls-8' transform='translate(73.28809 154.88281)'%3e1985%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='118.83248' y1='138.90795' x2='118.83248' y2='144.86115'/%3e %3ctext class='cls-8' transform='translate(107.7959 154.88281)'%3e1990%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='153.34008' y1='138.90795' x2='153.34008' y2='144.86115'/%3e %3ctext class='cls-8' transform='translate(142.30371 154.88281)'%3e1995%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='187.84768' y1='138.90795' x2='187.84768' y2='144.86115'/%3e %3ctext class='cls-8' transform='translate(176.81152 154.88281)'%3e2000%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='222.37417' y1='138.90795' x2='222.37417' y2='144.86115'/%3e %3ctext class='cls-8' transform='translate(211.33691 154.88281)'%3e2005%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='256.88175' y1='138.90795' x2='256.88175' y2='144.86115'/%3e %3ctext class='cls-8' transform='translate(245.84473 154.88281)'%3e2010%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='291.38937' y1='138.90795' x2='291.38937' y2='144.86115'/%3e %3ctext class='cls-8' transform='translate(280.35352 154.88281)'%3e2015%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$9 = {\n  name: 'Bumpchart',\n  id: 'rawgraphs.bumpchart',\n  thumbnail: img$j,\n  icon: img$i,\n  categories: ['time series', 'correlations', 'proportions'],\n  description: 'It allows the comparison of multiple categories over a continuous dimension and the evolution of its sorting. By default, sorting is based on the stream size.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/bumpchart',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-bump-chart/'\n};\n\nconst dimensions$9 = [{\n  id: 'x',\n  name: 'X Axis',\n  operation: 'get',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'size',\n  name: 'Size',\n  operation: 'get',\n  validTypes: ['number'],\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'rank',\n  name: 'Ranking',\n  operation: 'get',\n  validTypes: ['number'],\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'streams',\n  name: 'Streams',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}];\n\nconst mapData$9 = function (data, mapping, dataTypes, dimensions) {\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const rankAggregator = getDimensionAggregator('rank', mapping, dataTypes, dimensions);\n  let results = [];\n  rollups(data, v => rollups(v, vv => {\n    const item = {\n      x: vv[0][mapping.x.value],\n      //get the first one since it's grouped\n      size: sizeAggregator(vv.map(d => d[mapping.size.value])),\n      // aggregate\n      rank: rankAggregator(vv.map(d => d[mapping.rank.value])),\n      // aggregate\n      series: vv[0][mapping.series.value],\n      //get the first one since it's grouped\n      streams: vv[0][mapping.streams.value] //get the first one since it's grouped\n\n    };\n    results.push(item);\n  }, d => d[mapping.x.value].toString() // sub-group functions. toString() to enable grouping on dates\n  ), d => d[mapping.series.value], // series grouping\n  d => d[mapping.streams.value] // group functions\n  );\n  return results;\n};\n\nfunction render$9(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // chart options\n    streamsOrder,\n    streamsPadding,\n    //@TODO: fix padding for different sortings\n    streamsOffset,\n    interpolation,\n    showYAxis,\n    // series options\n    columnsNumber,\n    useSameScale,\n    sortSeriesBy,\n    showSeriesLabels,\n    repeatAxesLabels,\n    showGrid = true,\n    // color options\n    colorScale,\n    // legend\n    showLegend,\n    legendWidth,\n    // labels\n    showLabels,\n    labelsType,\n    showLabelsOutline\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  }; //check if there are negative values, in case throw error\n\n  data.forEach(d => {\n    if (d.size < 0) {\n      throw new Error('Values cannot be negative');\n    }\n  });\n  const streamsDomain = [...new Set(data.map(d => d.streams))]; // create the stack function\n  // define the function to retrieve the value\n  // inspired by https://observablehq.com/@stevndegwa/stack-chart\n\n  let stack$1 = stack().keys(streamsDomain).value((data, key) => data[1].has(key) ? data[1].get(key).size : 0).order(d3[streamsOrder]).offset(d3[streamsOffset]); // create nest structure\n\n  const nestedData = rollups(data, v => {\n    let localStack = Array.from(rollup(v.sort((a, b) => ascending(a.x, b.x)), // check that x axis is properly sorted\n    ([e]) => e, e => e.x, e => e.streams));\n    let stackedData = stack$1(localStack); // re-sort streams\n\n    stackedData[0].map((row, rowIndex) => {\n      // get the value for each vertical stack\n      let vStack = stackedData.map(d => d[rowIndex]); // get min value (depending from stack function)\n\n      let minValue = min(vStack, d => d[0]); // keep original order\n\n      vStack.forEach((d, i) => {\n        d.originalIndex = i;\n      });\n\n      if (mapping.rank.value) {\n        let rankedKeys = stackedData.map(d => d.key);\n        vStack.forEach((d, i) => {\n          if (d.data[1].has(rankedKeys[i])) {\n            d.rank = d.data[1].get(rankedKeys[i]).rank;\n          } else {\n            d.rank = Infinity;\n          }\n        }); // sort by ranking value\n\n        vStack.sort((a, b) => descending(a.rank, b.rank));\n      } else {\n        //sort by size\n        vStack.sort((a, b) => ascending(a[1] - a[0], b[1] - b[0]));\n      } // re-calculate positions\n\n\n      vStack.forEach((d, i) => {\n        const delta = d[1] - d[0];\n        d[0] = minValue;\n        d[1] = minValue + delta;\n        d.rankIndex = i;\n        minValue += delta;\n      });\n    });\n    return stackedData;\n  }, d => d.series).map(d => ({\n    data: d,\n    totalSize: sum(d[1].flat(), e => e[1] - e[0]),\n    // compute the total size (in pixels) for each stream\n    name: d[0]\n  })); // series sorting functions\n\n  const seriesSortings = {\n    totalDescending: function (a, b) {\n      return descending(a.totalSize, b.totalSize);\n    },\n    totalAscending: function (a, b) {\n      return ascending(a.totalSize, b.totalSize);\n    },\n    name: function (a, b) {\n      return ascending(a.name, b.name);\n    },\n    original: function (a, b) {\n      return 1;\n    }\n  }; // sort series\n\n  nestedData.sort(seriesSortings[sortSeriesBy]); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(columnsNumber);\n  const griddingData = gridding$1(nestedData);\n  const svg = select(svgNode).append('g').attr('id', 'viz');\n  const series = svg.selectAll('g').data(griddingData).join('g').attr('id', d => d[0]).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')'); // calculate global stacks value\n\n  const stacksValues = nestedData.map(d => d.data[1]).flat(2);\n  const globalDomain = [min(stacksValues, d => d[0]), max(stacksValues, d => d[1])]; // x scale\n\n  const xDomain = extent(data, e => e.x);\n  const xScale = mapping.x.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  xScale.domain(xDomain).range([0, griddingData[0].width - margin.right - margin.left]); // add grid\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  }\n  /*\n      YOU CAN PUT HERE CODE THAT APPLIES TO ALL THE SERIES\n    */\n\n\n  series.each(function (d, serieIndex) {\n    // make a local selection for each serie\n    const selection = select(this).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); // compute each serie width and height\n\n    const serieWidth = d.width - margin.right - margin.left;\n    const serieHeight = d.height - margin.top - margin.bottom;\n    const stackedData = d.data[1]; //add padding to data\n\n    stackedData[0].map((row, rowIndex) => {\n      // get the values for each vertical stack\n      let vStack = stackedData.map(d => d[rowIndex]);\n      let index = 0;\n      vStack.sort((a, b) => ascending(a.rankIndex, b.rankIndex)).forEach(e => {\n        // get next value in the horizontal stack.\n        // if is the last one, it is equal to itself.\n        const nv = rowIndex < stackedData[0].length - 1 ? stackedData[e.originalIndex][rowIndex + 1] : e;\n        e.padding = index * streamsPadding; // if the bar size is more than one or the next value is more than one,\n        // increase the padding\n\n        if (e[0] != e[1] || nv[0] != nv[1]) {\n          index++;\n        }\n      });\n    });\n    let localDomain = [min(stackedData, d => min(d, d => d[0])), max(stackedData, d => max(d, d => d[1]))];\n    const sizeScale = scaleLinear().domain(useSameScale ? globalDomain : localDomain).nice().range([serieHeight, 0]);\n    selection.append('g').selectAll('path').data(stackedData).join('path').attr('fill', ({\n      key\n    }) => {\n      return colorScale(key);\n    }).attr('d', area().curve(d3[interpolation]).x(d => xScale(d.data[0])).y0(d => sizeScale(d[0]) - d.padding).y1(d => sizeScale(d[1]) - d.padding)).append('title').text(({\n      key\n    }) => key);\n    selection.append('g').attr('id', 'xAxis').attr('transform', 'translate(0,' + serieHeight + ')').call(axisBottom(xScale).tickSizeOuter(0));\n\n    if (showYAxis) {\n      selection.append('g').attr('id', 'yAxis') //.attr('transform', 'translate(0,' + serieHeight + ')')\n      .call(axisLeft(sizeScale).tickSizeOuter(0));\n    }\n\n    if (showSeriesLabels) {\n      select(this).append('text').attr('x', 4).attr('y', 4).text(d => d.data[0]).styles(styles.seriesLabel);\n    } // add the axes titles\n\n\n    selection.append('text').styles(styles.axisLabel).attr('y', serieHeight - 4).attr('x', serieWidth).attr('text-anchor', 'end').attr('display', serieIndex == 0 || repeatAxesLabels ? null : 'none').text(mapping.x.value);\n    selection.append('text').styles(styles.axisLabel).attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').attr('display', serieIndex == 0 || repeatAxesLabels ? null : 'none').text(mapping['size'].value);\n\n    if (showLabels) {\n      // if is on path, add paths to defs and then add texts\n      if (labelsType == 'On path') {\n        let defs = select(svgNode).append('defs');\n        defs.selectAll('path').data(stackedData.filter(d => sum(d, e => e[1] - e[0]) > 0)).join('path').attr('id', (d, i) => 'path-' + serieIndex + '-' + i).attr('d', line().curve(d3[interpolation]).x(d => xScale(d.data[0])).y(d => sizeScale((d[0] + d[1]) / 2)));\n        selection.append('g').attr('id', 'labels').selectAll('text').data(stackedData.filter(d => sum(d, e => e[1] - e[0]) > 0)).join('text').attr('dy', '0.5ex').attr('class', 'label').append('textPath').attr('xlink:xlink:href', (d, i) => '#path-' + serieIndex + '-' + i).attr('startOffset', d => {\n          // find max value\n          const maxIndex$1 = maxIndex(d, e => e[1] - e[0]); // get x position\n\n          d.offset = Math.round(maxIndex$1 / d.length * 100); //clamp offset between 5% and 95%, return it\n\n          return Math.min(95, Math.max(5, d.offset)) + '%';\n        }).attr('alignment-baseline', 'middle').attr('text-anchor', d => d.offset > 90 ? 'end' : d.offset < 10 ? 'start' : 'middle').text(d => d.key).styles(styles.labelPrimary);\n\n        if (showLabelsOutline) {\n          labels.styles(styles.labelOutline);\n        }\n      } // if it is on point, find the maximum point\n\n\n      if (labelsType == 'On point') {\n        let labels = selection.append('g').attr('id', 'labels').selectAll('text').data(stackedData.filter(d => sum(d, e => e[1] - e[0]) > 0)).join('text').attr('x', d => {\n          // find max value index\n          const maxIndex$1 = maxIndex(d, e => e[1] - e[0]);\n          d.maxElement = d[maxIndex$1]; // get x position\n\n          return xScale(d.maxElement.data[0]);\n        }).attr('y', d => sizeScale((d.maxElement[0] + d.maxElement[1]) / 2)).attr('text-anchor', d => xScale(d.maxElement.data[0]) > serieWidth - 10 ? 'end' : xScale(d.maxElement.data[0]) < 10 ? 'start' : 'middle').attr('alignment-baseline', 'middle').text(d => d.key).styles(styles.labelPrimary);\n\n        if (showLabelsOutline) {\n          labels.styles(styles.labelOutline);\n        }\n      }\n    }\n  }); // add legend\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n    chartLegend.addColor('Colors', colorScale);\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$9 = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  interpolation: {\n    type: 'text',\n    label: 'Curves type',\n    default: 'curveBumpX',\n    options: [{\n      label: 'Basis',\n      value: 'curveBasis'\n    }, {\n      label: 'Bump',\n      value: 'curveBumpX'\n    }, {\n      label: 'Cardinal',\n      value: 'curveCardinal'\n    }, {\n      label: 'CatmullRom',\n      value: 'curveCatmullRom'\n    }, {\n      label: 'Linear',\n      value: 'curveLinear'\n    }, {\n      label: 'Monotone X',\n      value: 'curveMonotoneX'\n    }, {\n      label: 'Natural',\n      value: 'curveNatural'\n    }, {\n      label: 'Step',\n      value: 'curveStep'\n    }, {\n      label: 'Step After',\n      value: 'curveStepAfter'\n    }, {\n      label: 'Step Before',\n      value: 'curveStepBefore'\n    }],\n    group: 'chart'\n  },\n  streamsOffset: {\n    type: 'text',\n    label: 'Streams vertical alignment',\n    group: 'chart',\n    options: [{\n      label: 'Expand',\n      value: 'stackOffsetExpand'\n    }, {\n      label: 'Silhouette',\n      value: 'stackOffsetSilhouette'\n    }, {\n      label: 'None',\n      value: 'stackOffsetNone'\n    }],\n    default: 'stackOffsetNone'\n  },\n  streamsPadding: {\n    type: 'number',\n    label: 'Padding',\n    default: 1,\n    group: 'chart'\n  },\n  showYAxis: {\n    type: 'boolean',\n    label: 'Show Y axis',\n    default: false,\n    group: 'chart',\n    disabled: {\n      streamsOffset: 'stackOffsetSilhouette'\n    }\n  },\n  useSameScale: {\n    type: 'boolean',\n    label: 'Use same scale',\n    default: true,\n    group: 'series'\n  },\n  columnsNumber: {\n    type: 'number',\n    label: 'Number of columns',\n    default: 0,\n    group: 'series'\n  },\n  sortSeriesBy: {\n    type: 'text',\n    label: 'Sort series by',\n    group: 'series',\n    options: [{\n      label: 'Total value (descending)',\n      value: 'totalAscending'\n    }, {\n      label: 'Total value (ascending)',\n      value: 'totalDescending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'original'\n    }],\n    default: 'totalDescending'\n  },\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show series titles',\n    default: true,\n    group: 'series'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show series grid',\n    default: false,\n    group: 'series'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'streams',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  showLabels: {\n    type: 'boolean',\n    label: 'Show streams labels',\n    default: true,\n    group: 'Labels'\n  },\n  labelsType: {\n    type: 'text',\n    label: 'Labels position',\n    group: 'Labels',\n    options: ['On path', 'On point'],\n    default: 'On point',\n    disabled: {\n      showLabels: false\n    }\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'Labels',\n    disabled: {\n      showLabels: false\n    }\n  }\n};\n\nvar bumpchart = {\n  metadata: metadata$9,\n  dimensions: dimensions$9,\n  mapData: mapData$9,\n  render: render$9,\n  visualOptions: visualOptions$9,\n  styles: styles$1\n};\n\nvar img$k = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M20.5%2c34.5A8.5%2c8.5%2c0%2c1%2c1%2c29%2c26%2c8.51%2c8.51%2c0%2c0%2c1%2c20.5%2c34.5Zm0-16A7.5%2c7.5%2c0%2c1%2c0%2c28%2c26%2c7.5083%2c7.5083%2c0%2c0%2c0%2c20.5%2c18.5Z'/%3e %3cpath class='cls-1' d='M34.5%2c30A4.5%2c4.5%2c0%2c1%2c1%2c39%2c25.5%2c4.505%2c4.505%2c0%2c0%2c1%2c34.5%2c30Zm0-8A3.5%2c3.5%2c0%2c1%2c0%2c38%2c25.5%2c3.5042%2c3.5042%2c0%2c0%2c0%2c34.5%2c22Z'/%3e %3cpath class='cls-1' d='M31.5%2c46A7.5%2c7.5%2c0%2c1%2c1%2c39%2c38.5%2c7.5083%2c7.5083%2c0%2c0%2c1%2c31.5%2c46Zm0-14A6.5%2c6.5%2c0%2c1%2c0%2c38%2c38.5%2c6.5075%2c6.5075%2c0%2c0%2c0%2c31.5%2c32Z'/%3e %3cpath class='cls-1' d='M31.5%2c21A4.5%2c4.5%2c0%2c1%2c1%2c36%2c16.5%2c4.505%2c4.505%2c0%2c0%2c1%2c31.5%2c21Zm0-8A3.5%2c3.5%2c0%2c1%2c0%2c35%2c16.5%2c3.5042%2c3.5042%2c0%2c0%2c0%2c31.5%2c13Z'/%3e %3cpath class='cls-1' d='M22.5%2c17A3.5%2c3.5%2c0%2c1%2c1%2c26%2c13.5%2c3.5042%2c3.5042%2c0%2c0%2c1%2c22.5%2c17Zm0-6A2.5%2c2.5%2c0%2c1%2c0%2c25%2c13.5%2c2.5026%2c2.5026%2c0%2c0%2c0%2c22.5%2c11Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpath class='cls-2' d='M28.0933%2c47.9844a20.5%2c20.5%2c0%2c1%2c1%2c20.5-20.5A20.5233%2c20.5233%2c0%2c0%2c1%2c28.0933%2c47.9844Zm0-40a19.5%2c19.5%2c0%2c1%2c0%2c19.5%2c19.5A19.5222%2c19.5222%2c0%2c0%2c0%2c28.0933%2c7.9844Z'/%3e %3ccircle class='cls-2' cx='17.5' cy='25.5' r='3.5'/%3e %3ccircle class='cls-2' cx='24.5' cy='25.5' r='2.5'/%3e %3ccircle class='cls-2' cx='32.5' cy='25.5' r='0.5'/%3e %3ccircle class='cls-2' cx='35.5' cy='25.5' r='1.5'/%3e %3ccircle class='cls-2' cx='28' cy='38' r='2'/%3e %3ccircle class='cls-2' cx='34' cy='38' r='3'/%3e %3ccircle class='cls-2' cx='31.5' cy='16.5' r='2.5'/%3e %3ccircle class='cls-2' cx='22.5' cy='13.5' r='1.5'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$l = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-4 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b stroke: %23ccc%3b %7d .cls-5 %7b fill: %23e1524a%3b %7d .cls-6 %7b fill: %23fba35e%3b %7d .cls-7 %7b fill: %239e0142%3b %7d .cls-8 %7b fill: %234ba0b1%3b %7d .cls-9 %7b fill: %23a0d9a3%3b %7d .cls-10 %7b fill: %235e4fa2%3b %7d .cls-11 %7b fill: %23ebf7a6%3b %7d .cls-12 %7b fill: %23fee89a%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect class='cls-1' width='320' height='160'/%3e %3c/clipPath%3e %3c/defs%3e %3crect id='backgorund' class='cls-2' width='320' height='160'/%3e %3cg class='cls-3'%3e %3cg id='viz'%3e %3cg id='nodes'%3e %3ccircle class='cls-4' cx='160' cy='80' r='98'/%3e %3cg id='B'%3e %3ccircle class='cls-4' cx='119.8768' cy='53.5941' r='48.3404'/%3e %3c/g%3e %3cg id='A'%3e %3ccircle class='cls-4' cx='209.8263' cy='53.5941' r='39.9823'/%3e %3c/g%3e %3cg id='C'%3e %3ccircle class='cls-4' cx='173.1827' cy='130.8209' r='43.8703'/%3e %3c/g%3e %3cg id='E'%3e %3ccircle class='cls-4' cx='99.9155' cy='51.8186' r='26.6734'/%3e %3c/g%3e %3cg id='F'%3e %3ccircle class='cls-4' cx='147.3744' cy='51.8186' r='19.1587'/%3e %3c/g%3e %3cg id='D'%3e %3ccircle class='cls-4' cx='129.9488' cy='83.3822' r='15.2688'/%3e %3c/g%3e %3cg id='L'%3e %3ccircle class='cls-4' cx='197.544' cy='37.8428' r='18.3815'/%3e %3c/g%3e %3cg id='I'%3e %3ccircle class='cls-4' cx='228.3828' cy='37.8428' r='10.8305'/%3e %3c/g%3e %3cg id='M'%3e %3ccircle class='cls-4' cx='221.6296' cy='68.731' r='19.1605'/%3e %3c/g%3e %3cg id='H'%3e %3ccircle class='cls-4' cx='151.5217' cy='130.8209' r='20.5825'/%3e %3c/g%3e %3cg id='G'%3e %3ccircle class='cls-4' cx='194.5786' cy='130.8209' r='20.8476'/%3e %3c/g%3e %3ccircle id='path0' class='cls-5' cx='89.8984' cy='51.8186' r='15.0295'/%3e %3cg id='O'%3e %3ccircle id='path1' class='cls-5' cx='115.7584' cy='51.8186' r='9.2037'/%3e %3c/g%3e %3ccircle id='path2' class='cls-6' cx='139.0462' cy='51.8186' r='9.2037'/%3e %3cg id='P'%3e %3ccircle id='path3' class='cls-6' cx='157.3915' cy='51.8186' r='7.5148'/%3e %3c/g%3e %3ccircle id='path4' class='cls-7' cx='123.8217' cy='83.3822' r='7.5148'/%3e %3cg id='N'%3e %3ccircle id='path5' class='cls-7' cx='138.277' cy='83.3822' r='5.3137'/%3e %3c/g%3e %3ccircle id='path6' class='cls-8' cx='191.4168' cy='37.8428' r='10.6275'/%3e %3cg id='F-2' data-name='F'%3e %3ccircle id='path7' class='cls-8' cx='208.9849' cy='37.8428' r='5.3137'/%3e %3c/g%3e %3ccircle id='path8' class='cls-9' cx='228.3828' cy='37.8428' r='9.2037'/%3e %3ccircle id='path9' class='cls-10' cx='213.3016' cy='68.5482' r='9.2037'/%3e %3cg id='U'%3e %3ccircle id='path10' class='cls-10' cx='231.6468' cy='68.5482' r='7.5148'/%3e %3c/g%3e %3cg id='V'%3e %3ccircle id='path11' class='cls-10' cx='223.8827' cy='80.7414' r='5.3137'/%3e %3c/g%3e %3ccircle id='path12' class='cls-11' cx='143.1935' cy='130.8209' r='10.6275'/%3e %3cg id='S'%3e %3ccircle id='path13' class='cls-11' cx='162.9626' cy='130.8209' r='7.5148'/%3e %3c/g%3e %3cg id='R'%3e %3ccircle id='path14' class='cls-11' cx='155.5991' cy='143.2602' r='5.3137'/%3e %3c/g%3e %3cg id='Q'%3e %3ccircle id='path15' class='cls-12' cx='184.5615' cy='130.8209' r='9.2037'/%3e %3c/g%3e %3ccircle id='path16' class='cls-12' cx='204.5957' cy='130.8209' r='9.2037'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$a = {\n  name: 'Circle Packing',\n  id: 'rawgraphs.circlepacking',\n  thumbnail: img$l,\n  icon: img$k,\n  categories: ['hierarchies', 'proportions'],\n  description: 'It displays values of leaf nodes of a hierarchical structure by using circles areas. The hierarchical structure is depicted using nested circles. A further quantitative dimension with size and a quantitative or categorical dimension with color.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/circlepacking',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-circle-packing'\n};\n\nconst dimensions$a = [{\n  id: 'hierarchy',\n  name: 'Hierarchy',\n  validTypes: ['number', 'date', 'string'],\n  required: true,\n  multiple: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true,\n  aggregation: true,\n  aggregationDefault: 'csvDistinct'\n}];\n\nconst mapData$a = function (data, mapping, dataTypes, dimensions) {\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions);\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const labelAggregators = getDimensionAggregator('label', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  };\n  'size' in mapping ? null : mapping.size = {\n    value: undefined\n  };\n  'label' in mapping ? null : mapping.label = {\n    value: undefined\n  };\n  const results = [];\n  rollups(data, v => {\n    const item = {\n      hierarchy: new Map(mapping.hierarchy.value.map(d => [d, v[0][d]])),\n      //get the first one since it's grouped\n      size: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : v.length,\n      color: mapping.color.value ? colorAggregator(v.map(d => d[mapping.color.value])) : 'cells color',\n      label: mapping.label.value ? mapping.label.value.map((label, i) => {\n        return labelAggregators[i](v.map(d => d[label]));\n      }) : undefined // create array of strings\n\n    };\n    results.push(item);\n    return item;\n  }, ...mapping.hierarchy.value.map(level => d => d[level]) // create a grouping for each level of the hierarchy\n  );\n  return results;\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/circle-packing\n*/\n\nfunction render$a(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard\n    width,\n    height,\n    background,\n    // margin\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // legend\n    showLegend,\n    legendWidth,\n    // chart options\n    padding,\n    sortCirclesBy,\n    // color\n    colorScale,\n    // labels\n    showLabelsOutline,\n    showHierarchyLabels,\n    hierarchyLabelsStyle,\n    autoHideLabels,\n    labelStyles\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // create the hierarchical structure\n\n  const nest = rollup(data, v => v[0], ...mapping.hierarchy.value.map(level => d => d.hierarchy.get(level)));\n  const hierarchy$1 = hierarchy(nest).sum(d => d[1] instanceof Map ? 0 : d[1].size) // since maps have a .size porperty in native javascript, sum only values for leaves, and not for Maps\n  .sort((a, b) => {\n    if (sortCirclesBy !== 'original') {\n      return d3[sortCirclesBy](a.value, b.value);\n    }\n  });\n\n  const pack$1 = data => pack().size([chartWidth, chartHeight]).padding(showHierarchyLabels ? padding + 4 : padding)(hierarchy$1);\n\n  const root = pack$1();\n  const circle = arc().innerRadius(0).outerRadius(d => d).startAngle(-Math.PI).endAngle(Math.PI); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'viz');\n  const node = svg.append('g').attr('id', 'nodes').selectAll('g').data(root.descendants()).join('g').attr('transform', d => `translate(${d.x + 1},${d.y + 1})`).attr('id', d => d.data[0]);\n  node.append('path').attr('id', d => 'p_' + (d.x + d.y + d.r + d.depth + d.height)).attr('d', d => circle(d.r)).attr('fill', d => d.children ? 'none' : colorScale(d.data[1].color)).attr('stroke', d => d.children ? '#ccc' : 'none');\n  node.filter(d => !d.children);\n\n  if (showHierarchyLabels) {\n    const parents = node.filter(d => d.children);\n\n    if (hierarchyLabelsStyle === 'onPath') {\n      parents.append('text').attr('fill', 'black').attr('text-anchor', 'middle').attr('font-family', \"'Arial', sans-serif\").attr('font-size', 8).attr('dominant-baseline', 'middle').append('textPath').attr('href', d => '#p_' + (d.x + d.y + d.r + d.depth + d.height)).attr('startOffset', '50%').text(d => d.data[0]);\n    }\n\n    if (hierarchyLabelsStyle === 'onPoint') {\n      parents.append('text').attr('fill', 'black').attr('text-anchor', 'middle').attr('font-family', \"'Arial', sans-serif\").attr('font-size', 8).attr('dominant-baseline', 'middle').attr('x', d => 0).attr('y', d => -d.r).text(d => d.data[0]);\n    }\n  }\n\n  const labelsLayer = svg.append('g').attr('id', 'labels');\n  labelsLayer.selectAll('g').data(mapping.label.value ? root.leaves() : []).join('g').attr('transform', d => `translate(${d.x + 1},${d.y + 1})`).append('text').attr('text-anchor', 'middle').attr('dominant-baseline', 'text-before-edge').selectAll('tspan').data((d, i, a) => {\n    return Array.isArray(d.data[1].label) ? d.data[1].label : [d.data[1].label];\n  }).join('tspan').attr('x', 0).attr('y', 0).attr('dy', (d, i) => i * 12).text((d, i) => {\n    if (d && mapping.label.dataType[i].type === 'date') {\n      return timeFormat(dateFormats[mapping.label.dataType[i].dateFormat])(d);\n    } else {\n      return d;\n    }\n  }).styles((d, i) => styles[labelStyles[i]]);\n  labelsLayer.selectAll('text').call(sel => {\n    return sel.attr('transform', function (d) {\n      const height = sel.node().getBBox().height;\n      return `translate(0,${-height / 2})`;\n    });\n  });\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    labelsLayer.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (autoHideLabels) {\n    //labelsOcclusion(texts, (d) => d.r)\n    labelsOcclusion(labelsLayer.selectAll('text'), d => d.r);\n  }\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value + ` [${mapping.color.config.aggregation}]`, colorScale);\n    } // calculate the scale\n\n\n    let sizeScale = scaleSqrt().domain(extent(hierarchy$1.leaves(), d => d.value)).rangeRound(extent(hierarchy$1.leaves(), d => d.r)); // if the maximum radius is bigger than a quarter of the legend width,\n    // we must rescale it to fit in it. In this way, the maximum diameter in the legend\n    // will be the half of legend width\n\n    if (sizeScale.range()[1] > legendWidth / 4) {\n      sizeScale.domain([sizeScale.invert(legendWidth / 8), sizeScale.invert(legendWidth / 4)]).rangeRound([legendWidth / 8, legendWidth / 4]);\n    }\n\n    chartLegend.addSize(mapping.size.value ? mapping.size.value + ` [${mapping.size.config.aggregation}]` : 'Number of records', sizeScale, 'circle');\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$a = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 20,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  padding: {\n    type: 'number',\n    label: 'Padding',\n    default: 2,\n    group: 'chart'\n  },\n  sortCirclesBy: {\n    type: 'text',\n    label: 'Sort circles by',\n    group: 'chart',\n    options: [{\n      label: 'Size (descending)',\n      value: 'descending'\n    }, {\n      label: 'Size (ascending)',\n      value: 'ascending'\n    }, {\n      label: 'Original',\n      value: 'original'\n    }],\n    default: 'descending'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  },\n  showHierarchyLabels: {\n    type: 'boolean',\n    label: 'Show hierarchy labels',\n    default: false,\n    group: 'labels'\n  },\n  hierarchyLabelsStyle: {\n    type: 'text',\n    label: 'Hierarchy labels position',\n    group: 'labels',\n    options: [{\n      label: 'On path',\n      value: 'onPath'\n    }, {\n      label: 'On point',\n      value: 'onPoint'\n    }],\n    default: 'onPoint',\n    disabled: {\n      showHierarchyLabels: false\n    }\n  },\n  autoHideLabels: {\n    type: 'boolean',\n    label: 'Auto hide labels',\n    default: false,\n    group: 'labels'\n  }\n};\n\nvar circlepacking = {\n  metadata: metadata$a,\n  dimensions: dimensions$a,\n  mapData: mapData$a,\n  render: render$a,\n  visualOptions: visualOptions$a,\n  styles: styles$1\n};\n\nvar img$m = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M41.6516%2c28.2064a14.3768%2c14.3768%2c0%2c0%2c0%2c1.8318-.5658%2c13.8021%2c13.8021%2c0%2c0%2c1%2c3.9648-.9111l-.0918-.9961a14.8546%2c14.8546%2c0%2c0%2c0-4.2148.9673%2c11.1656%2c11.1656%2c0%2c0%2c1-4.5439.7993H28.9244l5.2383-8.0153c1.3173-2.0138%2c2.9708-2.1361%2c4.8861-2.2772A8.6119%2c8.6119%2c0%2c0%2c0%2c43.2666%2c16.13l-.5332-.8467a7.7182%2c7.7182%2c0%2c0%2c1-3.7578.9267%2c10.4839%2c10.4839%2c0%2c0%2c0-3.0164.5256l3.1238-4.78-.8379-.5469-3.0542%2c4.6734a10.2981%2c10.2981%2c0%2c0%2c0-.4975-2.4483%2c9.2067%2c9.2067%2c0%2c0%2c1-.4922-4.21l-.99-.1435a10.1532%2c10.1532%2c0%2c0%2c0%2c.5235%2c4.6352c.497%2c1.6958.89%2c3.0347-.4112%2c5.0244l0%2c0-5.1576%2c7.8916L22.7725%2c9.2065l-.9571.293%2c5.2226%2c17.067L13.2354%2c15.2651l-.6329.7735L26.4212%2c27.3531l-17.68-1.62-.0918.9961%2c17.6881%2c1.62L10.7061%2c37.0161l.4843.875%2c15.6851-8.6959L19.1494%2c45.3813l.9024.4307%2c7.7036-16.139%2c2.7632%2c17.6708.9882-.1543L28.7445%2c29.5241%2c40.9707%2c42.5557l.7285-.6846L29.1545%2c28.5H38.5a5.5617%2c5.5617%2c0%2c0%2c1%2c4.2354%2c1.7256%2c8.5877%2c8.5877%2c0%2c0%2c0%2c4.2519%2c2.2495l.2051-.9785a7.6392%2c7.6392%2c0%2c0%2c1-3.8037-2.0283A9.3688%2c9.3688%2c0%2c0%2c0%2c41.6516%2c28.2064Z'/%3e %3c/g%3e %3cg id='primary'%3e %3ccircle class='cls-2' cx='28' cy='28' r='1.5'/%3e %3ccircle class='cls-2' cx='38.5' cy='28' r='1.5'/%3e %3ccircle class='cls-2' cx='47.305' cy='26.2314' r='1.5'/%3e %3ccircle class='cls-2' cx='47.0898' cy='31.986' r='1.5'/%3e %3ccircle class='cls-2' cx='43.1356' cy='15.6079' r='1.5'/%3e %3ccircle class='cls-2' cx='38.6642' cy='11.6828' r='1.5'/%3e %3ccircle class='cls-2' cx='33.7062' cy='9.352' r='1.5'/%3e %3ccircle class='cls-2' cx='22.2938' cy='9.353' r='1.5'/%3e %3ccircle class='cls-2' cx='12.9193' cy='15.6517' r='1.5'/%3e %3ccircle class='cls-2' cx='8.6949' cy='26.2314' r='1.5'/%3e %3ccircle class='cls-2' cx='10.9487' cy='37.4537' r='1.5'/%3e %3ccircle class='cls-2' cx='19.6004' cy='45.5965' r='1.5'/%3e %3ccircle class='cls-2' cx='31.0127' cy='47.2664' r='1.5'/%3e %3ccircle class='cls-2' cx='41.3348' cy='42.2132' r='1.5'/%3e %3ccircle class='cls-2' cx='33.7624' cy='19.2262' r='1.5'/%3e %3ccircle class='cls-2' cx='29.6124' cy='38.376' r='1.5'/%3e %3ccircle class='cls-2' cx='35.2974' cy='35.5428' r='1.5'/%3e %3ccircle class='cls-2' cx='23.4611' cy='37.5086' r='1.5'/%3e %3ccircle class='cls-2' cx='18.7725' cy='33.0056' r='1.5'/%3e %3ccircle class='cls-2' cx='17.5583' cy='27.0434' r='1.5'/%3e %3ccircle class='cls-2' cx='19.8824' cy='21.3532' r='1.5'/%3e %3ccircle class='cls-2' cx='24.9211' cy='17.9385' r='1.5'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$n = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-4 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b stroke: %23ccc%3b %7d .cls-5 %7b fill: %23ccc%3b %7d .cls-6 %7b fill: %23e1524a%3b %7d .cls-7 %7b fill: %23fba35e%3b %7d .cls-8 %7b fill: %239e0142%3b %7d .cls-9 %7b fill: %234ba0b1%3b %7d .cls-10 %7b fill: %235e4fa2%3b %7d .cls-11 %7b fill: %23a0d9a3%3b %7d .cls-12 %7b fill: %23ebf7a6%3b %7d .cls-13 %7b fill: %23fee89a%3b %7d .cls-14%2c .cls-15%2c .cls-16%2c .cls-17 %7b isolation: isolate%3b font-size: 12px%3b font-family: Helvetica%3b %7d .cls-15 %7b letter-spacing: -0.0547em%3b %7d .cls-16 %7b letter-spacing: -0.0366em%3b %7d .cls-17 %7b letter-spacing: -0.0176em%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect class='cls-1' width='320' height='160'/%3e %3c/clipPath%3e %3c/defs%3e %3crect class='cls-2' width='320' height='160'/%3e %3cg class='cls-3'%3e %3cg id='viz'%3e %3cg id='links'%3e %3cpath class='cls-4' d='M160.6626%2c79.527c-2.0278%2c12.3344%2c11.7336-4.31%2c23.4672-8.6193'/%3e %3cpath class='cls-4' d='M160.6626%2c79.527c-2.0278%2c12.3344-3.76%2c11.9213-7.519%2c23.8425'/%3e %3cpath class='cls-4' d='M160.6626%2c79.527c-2.0278%2c12.3344-9.7362-7.8393-19.4725-15.6787'/%3e %3cpath class='cls-4' d='M184.13%2c70.9077c11.7336-4.31-7.21-25.1733-1.79-36.4375'/%3e %3cpath class='cls-4' d='M184.13%2c70.9077c11.7336-4.31%2c12.8965-.5422%2c25.0177-3.5961'/%3e %3cpath class='cls-4' d='M184.13%2c70.9077c11.7336-4.31%2c10.7982%2c23.8553%2c22.22%2c28.934'/%3e %3cpath class='cls-4' d='M153.1436%2c103.37c-3.76%2c11.9213%2c24.5%2c9.5923%2c30.1607%2c20.7373'/%3e %3cpath class='cls-4' d='M153.1436%2c103.37c-3.76%2c11.9213-6.5889%2c10.9025-11.2915%2c22.4842'/%3e %3cpath class='cls-4' d='M153.1436%2c103.37c-3.76%2c11.9213-25.5707-6.1981-36.6006-.3167'/%3e %3cpath class='cls-4' d='M141.19%2c63.8483c-9.7362-7.8393-17.0108%2c7.0059-29.1719%2c4.1149'/%3e %3cpath class='cls-4' d='M141.19%2c63.8483c-9.7362-7.8393%2c3.2149-18.1139-2.2043-29.3781'/%3e %3cpath class='cls-4' d='M182.3394%2c34.47l10.8384-22.5284'/%3e %3cpath class='cls-4' d='M209.1475%2c67.3116%2c233.39%2c61.2039'/%3e %3cpath class='cls-4' d='M206.35%2c99.8417l22.8435%2c10.1574'/%3e %3cpath class='cls-4' d='M183.3043%2c124.1068l11.3208%2c22.29'/%3e %3cpath class='cls-4' d='M141.8521%2c125.8537c-4.7027%2c11.5817%2c12.54%2c15.858%2c11.2865%2c28.295'/%3e %3cpath class='cls-4' d='M141.8521%2c125.8537c-4.7027%2c11.5817-20.0461%2c2.6265-27.8174%2c12.4172'/%3e %3cpath class='cls-4' d='M112.0182%2c67.9632c-12.1611-2.8909-13.7717%2c14.8015-26.2549%2c15.449'/%3e %3cpath class='cls-4' d='M112.0182%2c67.9632c-12.1611-2.8909-5.6376-19.4154-16.494-25.6113'/%3e %3cpath class='cls-4' d='M138.9858%2c34.47c-5.4191-11.2642-5.4191-11.2642-10.8383-22.5284'/%3e %3c/g%3e %3cg%3e %3ccircle class='cls-5' cx='160.6626' cy='79.527' r='5'/%3e %3ccircle class='cls-5' cx='184.1298' cy='70.9077' r='5'/%3e %3ccircle class='cls-5' cx='153.1436' cy='103.3695' r='5'/%3e %3ccircle class='cls-5' cx='141.1901' cy='63.8483' r='5'/%3e %3ccircle class='cls-6' cx='182.3394' cy='34.4702' r='5'/%3e %3ccircle class='cls-7' cx='209.1475' cy='67.3116' r='5'/%3e %3ccircle class='cls-8' cx='206.3498' cy='99.8417' r='5'/%3e %3ccircle class='cls-9' cx='183.3043' cy='124.1068' r='5'/%3e %3ccircle class='cls-10' cx='141.8521' cy='125.8537' r='5'/%3e %3ccircle class='cls-11' cx='116.543' cy='103.0528' r='20'/%3e %3ccircle class='cls-12' cx='112.0182' cy='67.9632' r='5'/%3e %3ccircle class='cls-13' cx='138.9858' cy='34.4702' r='5'/%3e %3ccircle class='cls-6' cx='193.1778' cy='11.9418' r='20'/%3e %3ccircle class='cls-7' cx='233.39' cy='61.2039' r='13.3333'/%3e %3ccircle class='cls-8' cx='229.1933' cy='109.9991' r='6.6667'/%3e %3ccircle class='cls-9' cx='194.6251' cy='146.3967' r='6.6667'/%3e %3ccircle class='cls-10' cx='153.1386' cy='154.1487' r='13.3333'/%3e %3ccircle class='cls-10' cx='114.0347' cy='138.2709' r='6.6667'/%3e %3ccircle class='cls-12' cx='85.7633' cy='83.4122' r='13.3333'/%3e %3ccircle class='cls-12' cx='95.5242' cy='42.352' r='6.6667'/%3e %3ccircle class='cls-13' cx='128.1474' cy='11.9418' r='20'/%3e %3c/g%3e %3cg%3e %3ctext class='cls-14' transform='translate(172.3809 79.5233) rotate(-20.1677)'%3eB%3c/text%3e %3ctext class='cls-15' transform='matrix(0.3008%2c -0.9537%2c 0.9537%2c 0.3008%2c 158.7581%2c 98.8386)'%3eA%3c/text%3e %3ctext class='cls-14' transform='matrix(0.7789%2c 0.6272%2c -0.6272%2c 0.7789%2c 143.3358%2c 70.7422)'%3eC%3c/text%3e %3ctext class='cls-14' transform='translate(179.9372 48.8317) rotate(-64.3077)'%3eE%3c/text%3e %3ctext class='cls-14' transform='translate(197.2319 74.452) rotate(-14.141)'%3eF%3c/text%3e %3ctext class='cls-14' transform='matrix(0.9137%2c 0.4063%2c -0.4063%2c 0.9137%2c 191.3355%2c 97.4866)'%3eD%3c/text%3e %3ctext class='cls-16' transform='translate(173.9365 114.6304) rotate(63.0747)'%3eL%3c/text%3e %3ctext class='cls-14' transform='translate(147.7733 121.8223) rotate(-67.9008)'%3eM%3c/text%3e %3ctext class='cls-14' transform='matrix(0.8824%2c -0.4705%2c 0.4705%2c 0.8824%2c 93.446%2c 119.8627)'%3eI%3c/text%3e %3ctext class='cls-14' transform='translate(116.9062 73.2923) rotate(13.3724)'%3eH%3c/text%3e %3ctext class='cls-14' transform='translate(137.9879 41.6753) rotate(64.3077)'%3eG%3c/text%3e %3ctext class='cls-17' transform='translate(252.1783 60.6085) rotate(-14.141)'%3eP%3c/text%3e %3ctext class='cls-14' transform='matrix(0.9137%2c 0.4063%2c -0.4063%2c 0.9137%2c 238.2403%2c 118.3428)'%3eN%3c/text%3e %3ctext class='cls-14' transform='translate(196.2792 158.6221) rotate(63.0747)'%3eF%3c/text%3e %3ctext class='cls-14' transform='matrix(0.6217%2c -0.7833%2c 0.7833%2c 0.6217%2c 104.9654%2c 156.2111)'%3eV%3c/text%3e %3ctext class='cls-14' transform='matrix(0.9987%2c -0.0518%2c 0.0518%2c 0.9987%2c 59.6675%2c 88.8149)'%3eS%3c/text%3e %3ctext class='cls-14' transform='matrix(0.8685%2c 0.4957%2c -0.4957%2c 0.8685%2c 75.843%2c 35.7488)'%3eR%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$b = {\n  name: 'Circular dendrogram',\n  id: 'rawgraphs.circulardendrogram',\n  thumbnail: img$n,\n  icon: img$m,\n  categories: ['hierarchies', 'proportions'],\n  description: 'It displays hierarchically structured data with a radial tree structure, where the root node is in the center with the hierarchies moving outward. The area of nodes can be used to encode a further quantitative dimension and a quantitative or categorical dimension with color.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/circularDendrogram',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-circular-dendrogram/'\n};\n\nconst dimensions$b = [{\n  id: 'hierarchy',\n  name: 'Hierarchy',\n  validTypes: ['number', 'date', 'string'],\n  required: true,\n  multiple: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}];\n\nconst mapData$b = function (data, mapping, dataTypes, dimensions) {\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions);\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const labelAggregators = getDimensionAggregator('label', mapping, dataTypes, dimensions);\n  const results = [];\n  rollups(data, v => {\n    const item = {\n      hierarchy: new Map(mapping.hierarchy.value.map(d => [d, v[0][d]])),\n      //get the first one since it's grouped\n      size: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : v.length,\n      color: mapping.color.value ? colorAggregator(v.map(d => d[mapping.color.value])) : 'cells color',\n      label: mapping.label.value ? mapping.label.value.map((label, i) => {\n        return labelAggregators[i](v.map(d => d[label]));\n      }) : undefined // create array of strings\n\n    };\n    results.push(item);\n    return item;\n  }, ...mapping.hierarchy.value.map(level => d => d[level]) // create a grouping for each level of the hierarchy\n  );\n  return results;\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/radial-dendrogram\n*/\n\nfunction render$b(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    // margins\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // legend\n    showLegend,\n    legendWidth,\n    // colors\n    colorScale,\n    maxDiameter,\n    layout,\n    sizeOnlyLeaves,\n    label1Style,\n    label2Style,\n    label3Style,\n    sortBy,\n    // labels\n    showHierarchyLabels,\n    hierarchyStyle,\n    labelStyles,\n    showLabelsOutline\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom;\n  const radius = min([chartWidth, chartHeight]) / 2;\n  const circumference = radius * 2 * Math.PI; // create the hierarchical structure\n\n  const nest = rollup(data, v => v[0], ...mapping.hierarchy.value.map(level => d => d.hierarchy.get(level)));\n  const hierarchy$1 = hierarchy(nest) // since maps have also a .size porperty, sum only values for leaves, and not for Maps\n  .sum(d => d[1] instanceof Map ? 0 : d[1].size) // sort nodes according to options\n  .sort((a, b) => {\n    switch (sortBy) {\n      case 'Size (descending)':\n        return descending(a.value, b.value);\n\n      case 'Size (ascending)':\n        return ascending(a.value, b.value);\n\n      case 'Name':\n        return ascending(a.data[0], b.data[0]);\n\n      default:\n        return 0;\n    }\n  }); // filter nodes with empty values in the hierarchy\n  // @TODO check if this works also with empty values in non-leaf nodes\n\n  hierarchy$1.descendants().filter(d => d.data[0] === '') // select nodes with empty key\n  .forEach(d => {\n    const index = d.parent.children.indexOf(d); // get its index in parent's children array\n\n    d.parent.children.splice(index, 1); // remove it\n\n    if (d.parent.children.length == 0) {\n      // if it was the only children\n      d.parent.data[1] = d.data[1]; // move its values to parent\n\n      delete d.parent.children; // and remove the empty children array\n    }\n  }); // size scale\n\n  const sizeScale = scaleSqrt().domain([0, max(hierarchy$1.leaves(), d => d.value)]).range([0, maxDiameter / 2]); // get the total size\n\n  const totalValue = sum(hierarchy$1.leaves(), d => sizeScale(d.value) * 2); // compute padding\n\n  const padding = (circumference - totalValue) / (hierarchy$1.leaves().length - 1); // dictionary to choose algorythm according to options\n\n  const layouts = {\n    'Cluster Dendogram': cluster(),\n    Tree: tree()\n  }; // compute the layout\n\n  const tree$1 = nest => {\n    return layouts[layout] // compute according to the options\n    .size([2 * Math.PI, radius - 100]).separation((a, b) => sizeScale(a.value) + sizeScale(b.value) + padding)(hierarchy$1);\n  };\n\n  const root = tree$1(); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')').attr('id', 'viz');\n  svg.append('g').attr('id', 'links').selectAll('path').data(root.links()).join('path').attr('d', linkRadial().angle(d => d.x).radius(d => d.y)).attr('fill', 'none').attr('stroke', '#ccc');\n  svg.append('g').selectAll('circle').data(root.descendants()).join('circle').attr('transform', d => `\n\t        rotate(${d.x * 180 / Math.PI - 90})\n\t        translate(${d.y},0)\n\t      `).attr('fill', function (d) {\n    if ('children' in d) {\n      // if not leaf, check if leaves has the same value\n      const childrenColors = [...new Set(d.leaves().map(l => l.data[1].color))];\n      return childrenColors.length == 1 ? colorScale(childrenColors[0]) : '#ccc';\n    } else {\n      // otherwise, if it's a leaf use its own color\n      return colorScale(d.data[1].color);\n    }\n  }).attr('r', d => {\n    if (sizeOnlyLeaves) {\n      return d.children ? 5 : sizeScale(d.value);\n    } else {\n      return sizeScale(d.value);\n    }\n  }); // add labels\n\n  const textGroups = svg.append('g').attr('id', 'labels');\n  textGroups.selectAll('g').data(root.descendants()).join('g').filter(d => showHierarchyLabels ? true : !d.children) // if showHierarchyLabels is false, hide non-leaf nodes\n  .attr('transform', d => `\n\t        rotate(${d.x * 180 / Math.PI - 90})\n\t        translate(${d.y},0)\n\t        rotate(${d.x >= Math.PI ? 180 : 0})\n\t      `).append('text').attr('x', 0).attr('y', 0).attr('text-anchor', 'middle').attr('dominant-baseline', 'text-before-edge').selectAll('tspan').data(d => {\n    // if the node has children\n    // pass just its name in hierarhcy\n    if (d.children) {\n      return [{\n        string: d.data[0],\n        x: d.x < Math.PI === !d.children ? 6 : -6,\n        align: d.x < Math.PI === !d.children ? 'start' : 'end',\n        style: styles['labelSecondary'],\n        hierarchy: true\n      }];\n    } // else pass the mapped labels\n    else {\n        const xpos = sizeScale(d.value) + 5;\n        return d.data[1].label.map((e, i) => ({\n          string: e,\n          x: d.x < Math.PI === !d.children ? xpos : -xpos,\n          align: d.x < Math.PI === !d.children ? 'start' : 'end',\n          style: styles[labelStyles[i]]\n        }));\n      }\n  }).join('tspan').attr('x', d => d.x).attr('y', 0).attr('dy', (d, i) => i * 12).attr('text-anchor', d => d.align) // .styles((d, i) => styles[labelStyles[i]])\n  .styles(d => d.style).text(d => d.string);\n  textGroups.selectAll('text').each(function () {\n    const sel = select(this);\n    sel.attr('transform', function (d) {\n      const height = sel.node().getBBox().height;\n      return `translate(0,${-height / 2})`;\n    });\n  });\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    textGroups.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    chartLegend.addSize(mapping.size.value ? mapping.size.value : 'Number of records', sizeScale, 'circle');\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$b = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  maxDiameter: {\n    type: 'number',\n    label: 'Maximum diameter',\n    default: 20,\n    group: 'chart'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  layout: {\n    type: 'text',\n    label: 'Layout algorythm',\n    group: 'chart',\n    options: ['Cluster Dendogram', 'Tree'],\n    default: 'Tree'\n  },\n  sortBy: {\n    type: 'text',\n    label: 'Sort nodes by',\n    group: 'chart',\n    options: ['Size (descending)', 'Size (ascending)', 'Name', 'Original'],\n    default: 'Size (descending)'\n  },\n  sizeOnlyLeaves: {\n    type: 'boolean',\n    label: 'Size only leaf nodes',\n    default: true,\n    group: 'chart'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'color'\n  },\n  showHierarchyLabels: {\n    type: 'boolean',\n    label: 'Show hierarchy labels',\n    default: true,\n    group: 'labels'\n  },\n  hierarchyStyle: {\n    type: 'text',\n    label: 'Hierarchy labels',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary'\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  }\n};\n\nvar circularDendrogram = {\n  metadata: metadata$b,\n  dimensions: dimensions$b,\n  mapData: mapData$b,\n  render: render$b,\n  visualOptions: visualOptions$b,\n  styles: styles$1\n};\n\nconst metadata$c = {\n  name: 'Color test',\n  // thumbnail,\n  // icon,\n  category: 'Test and Debugging',\n  description: 'A test for color scales',\n  code: 'https://github.com/rawgraphs/raw',\n  tutorial: 'https://rawgraphs.io/learning/'\n};\n\nconst dimensions$c = [{\n  id: 'color',\n  name: 'color',\n  validTypes: ['number', 'date', 'string'],\n  required: true\n}];\n\nconst mapData$c = {\n  color: 'get'\n};\n\n// import { categoryLegend } from 'rawgraphs-core'\n\nfunction render$c(svgNode, data, visualOptions, mapping, originalData) {\n  const {\n    width = 500,\n    height = 500,\n    background = '#ffffff',\n    colorScale\n  } = visualOptions;\n  const samples = colorScale.ticks ? colorScale.ticks() : colorScale.domain();\n  const sampleHeight = height / samples.length;\n  const svg = select(svgNode);\n  const vizLayer = svg.append('g').attr('id', 'viz');\n  vizLayer.selectAll('rect').data(samples).join('rect').attr('width', width).attr('height', sampleHeight).attr('y', (d, i) => i * sampleHeight).attr('stroke', '#222').attr('fill', d => {\n    const col = colorScale(d);\n    return col;\n  });\n}\n\nconst visualOptions$c = {\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'schemeCategory10'\n    },\n    group: 'chart'\n  }\n};\n\nvar colortest = {\n  metadata: metadata$c,\n  dimensions: dimensions$c,\n  mapData: mapData$c,\n  render: render$c,\n  visualOptions: visualOptions$c\n};\n\nvar img$o = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M28.0254%2c19.15a5.3777%2c5.3777%2c0%2c0%2c0-1.1025-.1138%2c4.7429%2c4.7429%2c0%2c0%2c0-4.4849%2c2.9287c-.8335%2c1.8345-1.3682%2c2.5152-4.0947%2c2.9581-5.1436.1757-7.3677%2c4.0483-7.3189%2c7.811.0532%2c4.0791%2c2.811%2c8.2285%2c7.979%2c8.2661a8.2277%2c8.2277%2c0%2c0%2c0%2c8.0943-7.8311c.07-3.1079.562-3.7363%2c2.47-4.8789A5.0592%2c5.0592%2c0%2c0%2c0%2c32%2c24.0029%2c4.8548%2c4.8548%2c0%2c0%2c0%2c28.0254%2c19.15ZM24.9912%2c33.0933C24.3091%2c36.6816%2c21.9575%2c39%2c19%2c39a6.0377%2c6.0377%2c0%2c0%2c1-6-5.9873%2c6.3225%2c6.3225%2c0%2c0%2c1%2c1.9824-4.9409%2c4.8185%2c4.8185%2c0%2c0%2c1%2c4.1016-1.0645c2.6738.4566%2c4.4116%2c1.31%2c5.313%2c2.6074A4.4407%2c4.4407%2c0%2c0%2c1%2c24.9912%2c33.0933ZM27%2c27a3%2c3%2c0%2c1%2c1%2c3-3A3.0033%2c3.0033%2c0%2c0%2c1%2c27%2c27Z'/%3e %3cpath class='cls-1' d='M18.916%2c27.9927a4.7526%2c4.7526%2c0%2c0%2c0-.7978-.0694%2c3.7068%2c3.7068%2c0%2c0%2c0-2.4815.9048A5.3167%2c5.3167%2c0%2c0%2c0%2c14%2c32.9873%2c5.0429%2c5.0429%2c0%2c0%2c0%2c19%2c38c2.979%2c0%2c4.5405-2.6309%2c5.0088-5.0933a3.4386%2c3.4386%2c0%2c0%2c0-.4336-2.7216C22.8354%2c29.1191%2c21.311%2c28.4019%2c18.916%2c27.9927ZM19%2c36a3%2c3%2c0%2c1%2c1%2c3-3A3.0033%2c3.0033%2c0%2c0%2c1%2c19%2c36Z'/%3e %3cpath class='cls-1' d='M39%2c33a5%2c5%2c0%2c1%2c0%2c5%2c5A5.0059%2c5.0059%2c0%2c0%2c0%2c39%2c33Zm0%2c8a3%2c3%2c0%2c1%2c1%2c3-3A3.0033%2c3.0033%2c0%2c0%2c1%2c39%2c41Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 8 48 8 9.939 9.195 11.135 9.195 9.695 7.5 8 5.805 9.695 5.805 11.135 7 9.939 7 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3ccircle class='cls-2' cx='19' cy='33' r='2'/%3e %3ccircle class='cls-2' cx='27' cy='24' r='2'/%3e %3ccircle class='cls-2' cx='39' cy='38' r='2'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$p = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-18 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: %23fee89a%3b %7d .cls-4 %7b fill: %23f8da93%3b %7d .cls-5 %7b fill: %23f2cb8d%3b %7d .cls-6 %7b fill: %23ecbd86%3b %7d .cls-7 %7b fill: %23e6af80%3b %7d .cls-8 %7b fill: %23dfa179%3b %7d .cls-9 %7b fill: %23d99273%3b %7d .cls-10 %7b fill: %23d2846d%3b %7d .cls-11 %7b fill: %23cb7666%3b %7d .cls-12 %7b fill: %23c46760%3b %7d .cls-13 %7b fill: %23bd585a%3b %7d .cls-14 %7b fill: %23b54954%3b %7d .cls-15 %7b fill: %23ae384e%3b %7d .cls-16 %7b fill: %23a62448%3b %7d .cls-17 %7b fill: %239e0142%3b %7d .cls-18 %7b stroke: black%3b %7d .cls-19 %7b isolation: isolate%3b font-size: 9.93099px%3b font-family: ArialMT%2c Arial%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect class='cls-1' x='19.98424' y='2.36511' width='297.93069' height='139.03432'/%3e %3c/clipPath%3e %3c/defs%3e %3cg%3e %3cg class='cls-2'%3e %3cg%3e %3cpath class='cls-3' d='M187.2012%2c132.46151l3.59664-.58367%2c3.97241-1.39208%2c3.35721-1.99666.6152-.3862%2c3.97241-3.53965.04549-.04656%2c3.92692-3.81056.17763-.16184%2c3.79478-2.13132%2c3.97241-1.7273.54621-.11379%2c3.4262-.44353%2c3.97241.04206%2c3.05983.40147.91258.22068%2c3.97241%2c1.39722%2c3.9724%2c1.7889%2c1.85668.56561%2c2.11573.7373%2c3.97241.64%2c3.97241.03083%2c3.97241-.45412%2c3.56349-.954.40892-.11035%2c3.97241-1.15506%2c3.97241-1.30011%2c3.44546-1.40689.52695-.25565%2c3.97241-2.521%2c1.30205-1.19577%2c2.67036-2.40331%2c1.72429-1.5691%2c2.24812-1.74854%2c2.45466-2.22387%2c1.51775-1.07975%2c3.84827-2.89266.12414-.09207%2c3.9724-3.5028.46146-.37754%2c3.511-3.21838.87564-.754%2c3.09677-1.94594%2c2.99916-2.02647.97325-.60828%2c3.5412-3.36413.43121-.40211%2c3.59233-3.5703.38008-.35972%2c3.2571-3.61269.71531-.84025%2c2.93612-3.13216%2c1.03629-1.28988%2c3.59057-2.68252.38184-.29447%2c3.97241-1.88325%2c1.9862-1.79469V41.0961l-1.9862-.12338-3.97241.108-3.97241-.24027-3.97241-.95519-3.97241-1.81967-1.69159-.94195-2.28082-1.57064-2.56216-2.40177-1.41025-1.34635-2.28821-2.62606-1.6842-2-1.79763-1.97241-2.17478-2.3375-1.50208-1.63491-2.47033-2.20812-2.14834-1.76429L286.13567%2c15.656l-3.56084-2.36679-.41157-.35413-3.97241-2.59434-2.0607-1.02394-1.91171-.93255L270.246%2c7.603l-3.97241.00967-3.97241.56367L258.3288%2c9.19094l-.34377.12589-3.62864.92494-3.97241.19916-3.97241-.25334L242.43916%2c9.966l-3.97241-.00385-3.97241-.06043-3.9724.04484-3.97241.08182-3.97241-.22608-1.734-.48551-2.23842-.89822L214.6323%2c6.801l-2.76243-1.45655-1.21-.86286L206.68748%2c1.3863l-.016-.01429-3.95639-3.86294-.12195-.10947-3.85046-3.204-1.75448-.76838-2.21793-.8813-3.97241-.52866-3.97241.2732-3.544%2c1.13676-.42839.141-3.9724%2c2.63662-1.4994%2c1.19483-2.473%2c1.6274-3.82606%2c2.345-.14635.072-3.97241%2c1.53309-3.97241.59211-3.97241.38206-3.97241.70985-1.98621.68326-1.9862%2c1.095L148.0812%2c9.31683l-.97986%2c1.67021-1.25058%2c2.3022-2.72183%2c2.75586-3.97241-.24616-3.97241-1.54764-1.84717-.96206L131.2117%2c12.0317l-3.97241-2.32591-.88906-.389-3.08334-1.704-3.97241-1.43079-3.97241-.784-.92691-.05368-3.0455-.25521-3.04552.25521-.92689.05473L103.40484%2c5.86l-3.97241.79287L95.46%2c7.75161%2c91.48761%2c9.07646l-.712.24037L87.5152%2c10.236l-3.97241%2c1.65508L81.2819%2c13.28924%2c79.57038%2c14.369%2c75.598%2c17.17529l-.22068.08635L71.62556%2c18.967l-3.9724.39658-3.97241-1.54216-.68414-.55975-3.28827-2.14452L55.8864%2c13.28924l-.15047-.07524-3.97241-1.48924-3.97241-1.19622-3.97241-.20588-3.97241.7774-3.97241%2c1.57938-.92689.6098-3.04552%2c3.80689-.08275.16551-.72083%2c3.97241.35358%2c3.97241.45%2c1.2%2c1.3442%2c2.77241%2c2.62821%2c2.40919%2c1.89694%2c1.56322%2c2.07547%2c1.45446%2c3.97241%2c2.50471.03009.01324L47.79111%2c39.051l3.97241%2c1.5047%2c1.28929.54036%2c2.68312%2c1.08466%2c3.97241.50712%2c3.97241-.32366%2c3.97241-.073%2c3.9724.43714L75.598%2c44.01092l.60772%2c1.05759%2c1.28454%2c3.97241.00315%2c3.97241-.57449%2c3.97241-1.20126%2c3.97241-.11966.34643-1.72284%2c3.626L71.73266%2c68.903l-.1071.18515-3.69335%2c3.78725-.279.23948-3.97241%2c2.10929L59.70834%2c76.549l-1.0232.29881-2.94921%2c1.47461-2.22777%2c2.4978L52.33427%2c84.7926l.44394%2c3.97241L54.687%2c92.73742l1.0489%2c1.11133%2c2.93086%2c2.86108%2c1.04155%2c1.22009%2c1.66087%2c2.75232%2c1.89073%2c3.97241.42081%2c1.05649.80616%2c2.91592%2c1.12812%2c3.97241%2c1.40192%2c3.97241.63621%2c1.05758%2c2.91482%2c2.91483%2c1.05758.696%2c3.97241%2c1.51558%2c3.97241.70564%2c3.97241-.28122%2c3.97241-1.38085%2c2.61949-1.25516%2c1.35292-.59084%2c3.97241-2.381%2c1.1374-1.00056%2c2.835-2.69672%2c1.42646-1.27569%2c2.54595-1.87956%2c3.97241-.95592%2c3.97241%2c1.33078%2c2.05186%2c1.5047%2c1.92055%2c1.44339%2c3.15637%2c2.529.816.6156%2c3.97241%2c2.33087%2c3.31034%2c1.02594.66206.27586%2c3.97241.88275%2c3.97241.26279%2c3.97241.142%2c3.97241.184%2c3.97241.56184%2c3.97241%2c1.2842.74805.37894%2c3.22436%2c2.08635%2c3.97241%2c1.8703.04053.01576%2c3.93188%2c1.3961%2c3.97241%2c1.04555%2c3.97241.76083%2c3.97241.54266%2c2.28413.22727%2c1.68828.22214%2c3.9724.17752%2c3.97241-.31539Z'/%3e %3cpath class='cls-4' d='M60.3704%2c29.17887l-.66206-1.85378-.963-2.11863-3.0094-2.283-3.34044-1.68942-.632-.25987-3.97241-1.61954-3.97241.979-.7421.90041-.33453%2c3.97241%2c1.07663%2c1.92%2c1.95468%2c2.05241%2c2.01773%2c1.03347%2c3.97241.89131%2c3.97241%2c1.47192L59.70834%2c30.503Zm134.67125%2c95.33782%2c3.701-2.54641%2c1.55927-1.426%2c2.41314-1.91975%2c2.74709-2.05266%2c1.22532-.72226%2c3.97241-1.70724%2c3.97241-1.24378%2c1.57635-.29913%2c2.39606-.32816%2c3.97241-.23254%2c3.97241.04813%2c3.97241.22794%2c2.3427.28463%2c1.6297.31939%2c3.97241.38162%2c3.97241-.1695%2c2.09656-.53151%2c1.87585-.603%2c3.97241-2.38925%2c1.42407-.9802%2c2.54834-3.97241h0l3.97241-3.0486%2c3.97241%2c1.00871%2c3.97241.36346%2c3.97241-.29645%2c3.97241-1.60461.71843-.39492%2c3.254-1.68992%2c2.95094-2.28249%2c1.02147-.88276%2c3.60087-3.08965.37154-.26347%2c3.9724-3.26988.59163-.43906%2c3.38078-2.13762%2c2.86126-1.83479%2c1.11115-.60188%2c3.97241-2.62342.7868-.74711%2c3.18561-2.80306%2c1.21677-1.16935%2c2.75564-2.69311%2c1.14015-1.2793%2c2.73049-3.9724.10177-.19771%2c2.67084-3.7747%2c1.30157-2.06819%2c2.54019-1.90422%2c1.43222-2.09536%2c2.94333-1.877%2c1.02908-2.76636%2c1.9862-1.206-1.9862-.46294-3.97241-1.72213-2.59811-1.78734-1.3743-.4369-3.97241-2.28537L312.331%2c45.06851l-2.36092-1.30135-3.97241-2.306-.49319-.36505-3.47922-2.89717-1.04765-1.07524-2.92476-3.44161-.44457-.5308-3.52784-3.59269-.38975-.37972-3.58266-3.76748-.19269-.20493-3.77971-3.95689-.01892-.01552-3.95349-2.7954-2.55162-1.177-1.42079-.80433-3.97241-1.85916L270.246%2c13.898l-3.97241.18246-3.97241.61077-3.97241.429-3.97241.31324-3.97241-.47168-3.97241-.72585-3.97241-.47838-3.97241-.07364-3.97241.02568-3.9724.22946-3.97241.42042-3.97241.27332-3.97241-.56445-3.97241-.7369-.1589-.04225-3.81351-1.52135-3.97241-2.42742-.02684-.02364-3.94557-3.29912-.80521-.67329-3.1672-2.7412L196.81112%2c1.372%2c194.77025.09353%2c190.79784-.895l-3.97241.1616L182.853.772l-.91428.6-3.05812%2c1.705L175.194%2c5.34442l-.28578.16148L170.9358%2c7.46879l-3.57183%2c1.848-.40058.22379L162.991%2c10.96447l-3.97241%2c2.17429-.18916.15048-3.65832%2c3.9724-.12493.24223-2.095%2c3.73018-1.87737%2c2.56165-3.97241%2c1.38513-3.97241-1.304-3.97241-1.81571-1.68886-.8271-2.28355-1.45-3.83463-2.52241-.13778-.08994-3.97241-2.7674L124.942%2c13.28924l-1.67511-.92382-3.97241-1.566L115.32207%2c9.905l-3.97241-.25371-3.97241.333-3.97241.59437-3.97241.96533L95.46%2c12.91448l-.94582.37476-3.02659%2c1.16835L87.5152%2c16.11705l-2.04639%2c1.14459-1.926%2c1.65088-2.03134%2c2.32153L79.57038%2c25.1608l-.02942.04566-.9994%2c3.97241.56148%2c3.97241.46734.89519.97975%2c3.07722L81.9757%2c41.0961l1.17165%2c3.97241.39544%2c3.12118.09768.85123-.09768.62722-.50244%2c3.34519-.98721%2c3.97241L80.449%2c60.95815l-.87864%2c2.27452-.73358%2c1.69789L77.00436%2c68.903%2c75.598%2c72.38646l-.29425.48891-2.645%2c3.97241-1.03319%2c2.00348-1.84087%2c1.96893-2.13153%2c2.9131L66.8717%2c84.7926l-.921%2c3.97241.48019%2c3.97241%2c1.22228%2c3.17792.2998.79449%2c1.27013%2c3.97241%2c1.34317%2c3.97241%2c1.0593%2c2.57038.681%2c1.402%2c2.77329%2c3.97241.51813.53681%2c3.97241%2c2.6354%2c3.97241.208%2c3.97241-1.64683%2c3.17793-1.73341.79448-.36669%2c3.97241-2.385%2c1.50238-1.22068%2c2.47-1.68264%2c3.10271-2.28977.8697-.60987%2c3.97241-1.02583%2c3.97241%2c1.06276.59586.57294%2c3.37655%2c3.24668.53339.72573%2c3.439%2c3.2659.87.70651%2c3.10243%2c2.33163%2c3.9724%2c1.63054.04845.01024%2c3.924.96337%2c3.97241.24815%2c3.97241-.14059%2c3.97241-.43765%2c3.97241-.29664%2c3.97241.14244%2c3.97241%2c1.0309%2c3.97241%2c1.25007%2c3.06071%2c1.21236.9117.3889%2c3.97241%2c1.82945%2c3.97241%2c1.73148.05441.02257%2c3.918%2c1.46674%2c3.97241%2c1.15262%2c3.9724.55242%2c3.97241-.12626%2c3.97241-.876%2c3.97241-1.97789Z'/%3e %3cpath class='cls-5' d='M194.19731%2c120.54429l.57294-.302%2c3.97241-2.84977%2c1.01441-.82068%2c2.958-2.14709%2c3.23719-1.82532.73522-.28993%2c3.97241-1.15717%2c3.97241-.89321%2c3.97241-.6865%2c3.97241-.50369%2c3.97241-.31911%2c1.757-.1228%2c2.21539-.15079%2c3.9724-.26083%2c3.97241-.82328%2c3.97241-2.059.75339-.67851%2c3.219-3.73407.15848-.23834%2c2.67149-3.97241%2c1.14244-1.50441%2c2.5566-2.468%2c1.41581-1.227%2c3.97241-1.28345%2c3.97241.87666%2c3.97241%2c1.4008.54883.233%2c3.42358%2c1.63643%2c3.97241-.38377%2c2.44966-1.25266%2c1.52275-.71009%2c3.97241-3.14852.16184-.1138%2c3.81057-2.17058%2c2.65238-1.80183%2c1.32-.72782%2c3.97241-2.1419%2c1.8922-1.10269%2c2.08021-.98476%2c3.97241-2.59832.42964-.38933%2c3.54277-3.17336.81308-.799%2c3.12045-3.9724.03888-.0707%2c2.189-3.90171%2c1.593-3.97241.19039-1.8584.377-2.114-.377-1.10606-.7508-2.86635-3.07065-3.97241-.151-.12545-3.97241-3.3033-.599-.54366-3.37342-2.61974-1.54339-1.35267-2.429-2.48609-1.40164-1.48632-2.57077-2.99763-.83071-.97478-3.1417-3.074-.924-.89838-3.04843-3.211-.91-.76138-3.0624-2.58808-2.52237-1.38433-1.45-.73176-3.97241-1.6053L270.246%2c18.38l-3.97241.40591-3.97241.65434-3.97241.029-3.97241-.22139-3.97241-.916-3.97241-1.05047-.10565-.01975-3.86676-.79361-3.97241-.1596-3.97241.08237-3.9724.40862-2.47662.46222-1.49579.2404-3.97241.532-3.97241-.16538-3.97241-.2464-3.59665-.36064-.37576-.057-3.97241-1.096-3.97241-2.31676-.79838-.50268-3.174-2.9702-.79738-1.00221-3.175-2.51433L191.2668%2c5.34442l-.469-.15927-3.97241-.21532-1.12377.37459-2.84864.94129-3.9724%2c2.02187-1.78617%2c1.00925-2.18624%2c1.28766-3.97241%2c2.1423-.89655.54245-3.07586%2c1.7788-3.7931%2c2.1936-.17931.16447-3.13009%2c3.80794-.84232%2c1.562-1.20522%2c2.41044-2.76719%2c2.75382-2.80275%2c1.21859-1.16966.26855-3.50895-.26855-.46346-.04414L143.12893%2c27.444l-3.97241-1.90516-.6753-.33234-3.29711-1.944-3.59843-2.02837-.374-.27167-3.97241-3.011-1.223-.68973-2.74942-1.515-3.97241-1.58046-3.4023-.877-.57011-.15993-3.97241-.31129-3.55225.47122-.42016.05573-3.97241.82037-3.97241%2c1.19721L95.46%2c16.938l-.69381.32363-3.2786%2c2.0812L88.819%2c21.23405%2c87.5152%2c22.6897l-1.819%2c2.51676-1.1864%2c3.97241.193%2c3.97241%2c1.23171%2c3.97241%2c1.4047%2c3.97241.176.65172.84671%2c3.32069.39675%2c3.97241-1.08687%2c3.97241-.15659.37-1.22482%2c3.60243L84.273%2c60.95815l-.73022%2c1.58137-1.06043%2c2.391L80.66858%2c68.903l-1.0982%2c2.82392-.498%2c1.14848-1.79551%2c3.97241L76.0295%2c80.82019l-.43153%2c1.576L74.56775%2c84.7926%2c73.85282%2c88.765l.13011%2c3.97241%2c1.13962%2c3.97241L75.598%2c98.3349l.67242%2c2.34734%2c1.93062%2c3.97241%2c1.36937%2c1.76375%2c3.97241%2c1.988%2c3.97241-.85477%2c3.97241-1.26481%2c3.41266-1.63214.55975-.23682%2c3.97241-2.46891%2c1.73922-1.26668%2c2.23319-1.75206%2c3.97241-1.5888%2c3.97241.42125%2c2.59363%2c2.91961%2c1.37878%2c1.32723%2c1.66982%2c2.64518%2c2.30259%2c2.95673.77051%2c1.01568%2c3.2019%2c2.75807%2c2.47774%2c1.21434%2c1.49466.76274%2c3.97241%2c1.061%2c3.97241.24022%2c3.97241-.32423%2c3.97241-.85%2c3.97241-.7776.93793-.11217%2c3.03448-.38465%2c3.97241.13126%2c2.05241.25339%2c1.92.26181%2c3.97241%2c1.02338%2c3.97241%2c1.31145%2c2.96947%2c1.37577%2c1.00294.62145%2c3.97241%2c2.64931%2c1.067.70165%2c2.90544%2c1.40623%2c3.9724%2c1.09721%2c3.97241.10385%2c3.97241-.86283Z'/%3e %3cpath class='cls-6' d='M193.73049%2c116.57188l1.03976-.59817%2c3.97241-2.84368.75944-.53056%2c3.213-1.64686%2c3.97241-1.3476%2c3.93756-.97795.03485-.00657%2c3.97241-.72761%2c3.97241-.68056%2c3.97241-.637%2c3.97241-.59944%2c3.97241-.74925%2c2.29982-.572%2c1.67258-.4226%2c3.97241-1.71639%2c2.4164-1.83342%2c1.556-1.29867%2c2.3328-2.67374%2c1.63961-1.75128%2c1.8067-2.22113%2c2.16571-2.653%2c1.47774-1.3194%2c2.49467-1.85065%2c3.97241-1.18559%2c3.97241.29339%2c3.97241.62424L270.246%2c87.744l3.97241-.02521%2c3.97241-1.57931%2c2.02463-1.34687%2c1.94778-1.30131%2c3.97241-1.76013%2c1.79493-.911%2c2.17747-.75567%2c3.97241-1.61348%2c3.10284-1.60326.86957-.39544%2c3.97241-2.57861%2c1.08991-.99836%2c2.8825-3.40928.46112-.56312%2c2.30765-3.97241%2c1.20364-3.366.24346-.60644.10265-3.97241-.34611-.8701-1.2769-3.10231L305.99771%2c49.869l-.67318-.828-3.29923-3.04365-.98128-.92876-2.99113-2.65177-1.48965-1.32064-2.48276-2.62329L292.837%2c37.12369l-2.72888-3.15927-.675-.81314-3.29744-3.21679-.99665-.75562-2.97576-2.5312-2.67072-1.44121-1.30169-.74083-3.97241-1.76872-3.97241-.444-3.97241.70293-3.97241.74568-3.97241-.385-3.97241-.69581L250.384%2c21.252l-.04181-.01794-3.9306-1.48471-3.97241-.94209-3.97241-.20576-3.97241.10032-3.9724.43848-3.97241.8248-3.97241.82758-3.97241.11116-3.97241.08262-3.97241.14735-3.97241-.05079-3.97241-.49155-3.97241-.0288-3.97241-2.1302-1.14667-1.17082L190.79784%2c14.037l-.94864-.74774-3.02377-1.58276-3.97241.92876-1.53222.654-2.44018.7908-3.97241%2c1.5468-3.66421%2c1.6348-.3082.1744-3.97241%2c3.44629-.37727.35172-2.88165%2c3.97241-.71349.8496-2.71482%2c3.12281-1.25759.98918L155.04616%2c32.319l-3.97241.29522-3.97241-.8834-3.97241-1.641-1.84731-.91092-2.1251-1.19641-3.97241-2.05561-1.39033-.72039-2.58208-1.59715-3.91835-2.37526-.05406-.04148-3.9724-2.33215-3.65821-1.59878-.3142-.13273-3.97241-1.10231-3.97241-.24524-3.97241.73039-2.882.74989-1.09046.34119-3.97241%2c1.58679-3.736%2c2.04443-.23646.16483-3.73019%2c3.80758-.24222.51368-1.66478%2c3.45873-.099%2c3.97241.99591%2c3.97241.7679%2c2.321.46809%2c1.65145%2c1.12365%2c3.97241.69354%2c3.97241-.96657%2c3.97241-1.31871%2c3.00715-.41985.96526-3.02391%2c3.97241-.52865.7435-1.63191%2c3.22891-1.936%2c3.97241-.4045%2c1.03282-1.15731%2c2.93958L80.7338%2c76.84778l-1.01795%2c3.97241-.14547.73774-.7211%2c3.23467-.157%2c3.97241.51982%2c3.97241.35829.98242%2c1.38343%2c2.99%2c2.56319%2c3.97241.02579.02613%2c3.97241.64269%2c3.97241-.36584.83144-.303%2c3.141-1.047%2c3.97241-2.35793.70869-.56748%2c3.26372-2.63323%2c2.42153-1.33918%2c1.55088-1.31644%2c3.97241-2.10805%2c3.2296%2c3.42449.74281.85389.93207%2c3.11852%2c1.66943%2c3.97241%2c1.37091%2c2.07612%2c1.05687%2c1.89629%2c2.91554%2c3.61128.46393.36113%2c3.50847%2c2.00276%2c3.97241%2c1.09193%2c3.97241.22317%2c3.97241-.46167%2c3.97241-1.19446%2c3.97241-1.24112%2c1.55442-.42061%2c2.418-.827%2c3.97241-.5683%2c3.97241.23936L162.991%2c108.481l.60188.146%2c3.37053.98431%2c3.97241%2c1.608%2c2.42941%2c1.38009%2c1.543.89761%2c3.97241%2c2.9004.286.1744%2c3.6864%2c1.86558%2c3.97241.48573%2c3.97241-.83932Z'/%3e %3cpath class='cls-7' d='M191.62967%2c112.59947l3.14058-1.50594%2c3.97241-1.87865%2c1.48575-.58782%2c2.48666-.6525%2c3.97241-.75513%2c3.97241-.65081%2c3.97241-.72421%2c3.97241-.81%2c1.83471-.37981%2c2.1377-.41832%2c3.97241-.78376%2c3.97241-.9977%2c3.9724-1.52436.45761-.24827%2c3.5148-2.1027%2c2.1395-1.86971%2c1.83291-1.60177%2c2.24552-2.37064%2c1.72689-1.79677%2c1.84052-2.17564%2c2.13189-2.319%2c2.15115-1.65341%2c1.82126-1.49106%2c3.97241-1.38863%2c3.97241-.144%2c3.97241.02426%2c3.97241.52876%2c3.97241-.22131%2c2.71233-1.28045%2c1.26008-.44055%2c3.97241-1.57136%2c3.97241-.81029%2c3.9724-1.12467.06286-.02554%2c3.90955-1.28958%2c3.97241-1.9144%2c1.12094-.76843%2c2.85147-2.46857%2c1.30445-1.50383%2c2.32758-3.97241.34038-1.05377%2c1.05514-2.91864-.158-3.97241-.89718-1.78463-1.0686-2.18778-2.90381-3.46489-.44321-.50752-3.5292-3.35367-.6753-.61874-3.29711-2.93635-1.18021-1.03606-2.7922-3.02928-.80192-.94313-3.17048-3.78838-.1933-.184-3.77911-2.91-2.37656-1.06239-1.59585-.8521-3.97241-1.65168-3.97241-.30885-3.97241%2c1.06144-3.97241.9055-3.97241-.97442-3.97241-1.37351-1.32757-.77879L250.384%2c24.0542l-3.97241-1.85983-3.11047-.96032-.86194-.24128-3.97241-.28725-3.97241.12925-2.94158.39928-1.03082.14017-3.97241.97226-3.97241%2c1.007-3.97241.37228-3.97241.38333-3.97241.65149-2.88563.44588-1.08678.17669-3.97241.54233-3.97241%2c1.12006-3.97241.51829-3.97241-.76086-2.4975-1.59651-1.47491-1.55172L182.853%2c21.43268l-.94993-.19863-3.02247-.44278-2.31725.44278-1.65516.32668-3.97241%2c2.56573-.92407%2c1.08-3.04834%2c3.434-.44914.53843L162.991%2c32.66708l-.66208.4842-3.31033%2c1.64956-3.97241.82317-3.97241-.42741-3.97241-1.12735-2.02954-.918-1.94287-.92119-3.97241-2.09556-1.97382-.95566-1.99859-1.108-3.97241-2.10543-1.46778-.759-2.50463-1.56477-3.9724-1.8361-1.61882-.57154-2.35359-1.01539-3.97241-1.14815-3.97241-.18522-3.97241%2c1.08327L103.862%2c21.23405l-.45714.19659L99.43243%2c23.474l-2.36171%2c1.73249L95.46%2c27.22991l-1.07529%2c1.949-.37445%2c3.97241.691%2c3.97241L95.46%2c39.64228l.56635%2c1.45382%2c1.83936%2c3.97241%2c1.44315%2c3.97241-.67306%2c3.97241-1.69259%2c3.97241L95.46%2c58.17539l-2.43967%2c2.78276-1.53274%2c1.6374-1.70347%2c2.335L87.5152%2c68.25124l-.32671.65173-1.46466%2c3.9724-1.66567%2c3.97241-.51537%2c2.38881-.3301%2c1.5836L82.703%2c84.7926l.2969%2c3.97241.54294%2c1.98621%2c1.14534%2c1.9862%2c2.82707%2c1.95611%2c3.97241.95226L95.46%2c94.99638l3.97241-2.11261.17825-.14635%2c3.57164-3.97241.22252-.26948%2c3.55982-3.70293.41259-.62341%2c2.99878-3.349.97363-1.25181%2c3.97241-1.56789%2c2.10538%2c2.8197L118.629%2c84.7926l.54583%2c3.97241-.17859%2c3.97241.29825%2c1.50567.29754%2c2.46674%2c1.17918%2c3.97241%2c2.42735%2c3.97241.06834.08464%2c3.9724%2c3.22413%2c1.677.66364%2c2.29544.73016%2c3.97241.23661%2c3.97241-.67541.78783-.29136%2c3.18458-1.508%2c3.97241-1.95686%2c1.14917-.50751%2c2.82324-1.56227%2c3.97241-.91849%2c3.97241.4509%2c3.97241%2c1.403%2c2.30582.6269%2c1.66659.49485%2c3.97241%2c1.1333%2c3.97241%2c1.31889%2c2.23643%2c1.02537%2c1.736%2c1.28179%2c3.76248%2c2.69062.20992.1272%2c3.97241.93786%2c3.97241-.63632Z'/%3e %3cpath class='cls-8' d='M209.50126%2c104.65465l1.15863-.12526%2c3.97241-.64%2c3.97241-.80182%2c3.97241-.90989%2c3.97241-1.03678%2c1.47478-.45864%2c2.49763-.87627%2c3.9724-1.89674%2c1.79261-1.1994%2c2.1798-1.52862%2c2.74232-2.44379%2c1.23009-1.12174%2c2.7509-2.85067%2c1.22151-1.19756%2c2.56721-2.77485%2c1.4052-1.67485%2c2.77808-2.29756%2c1.19433-1.128%2c3.97241-1.56889%2c3.97241-.44742%2c3.97241-.49589%2c3.97241-.24948%2c1.80563-.08276%2c2.16678-.08247%2c3.97241-.82143%2c3.97241-.71749%2c3.97241-.26595%2c3.9724-.6943%2c3.97241-1.29954.1836-.09123%2c3.78881-2.26567%2c1.93529-1.70673%2c2.03712-2.61917.833-1.35324%2c1.315-3.97241-.30811-3.97241-1.83985-3.36127-.37932-.61114-3.48365-3.97241-.10944-.104-3.97241-3.639-.26088-.22938-3.71153-3.24638-.77889-.726-3.19351-3.78765-.186-.18476-3.78641-3.60553-.72452-.36688-3.24789-1.38448-3.97241-1.20166-3.97241.06545-3.97241%2c1.6537-2.12119.867-1.85122%2c1.3334-3.34517-1.3334-.62724-.18817-3.97241-2.713-.79448-1.07121L250.384%2c27.15041l-2.78978-1.944-1.18263-.60164-3.97241-1.45353-3.97241-.36541-3.97241.14111-3.9724.58385-3.97241%2c1.13024-1.91173.56538-2.06068.70451-3.97241.64722-3.97241.64436-3.97241%2c1.00237-3.92827.97395-.04414.012-3.97241%2c1.06788-3.97241%2c1.31409-3.97241.86257-3.97241.23534-3.97241-.5566L182.853%2c31.3393l-3.9724-.606-3.97241-.08079-3.97241%2c2.23-.26881.26881-3.7036%2c3.42069-.77891.55172-3.1935%2c1.147-3.97241.27539-3.97241-.15522-3.97241-.84174-1.21131-.42539-2.7611-1.0127-3.97241-1.94378-1.91622-1.01593-2.05619-1.14439-3.97241-1.97234-1.78522-.85568-2.18719-1.19495-3.97241-2.02971-2.03155-.74775-1.94085-.86744-3.97241-1.20473-3.97241-.89955-3.97241-.00758-3.97241%2c1.49429-3.09538%2c1.485-.877.66533-3.83621%2c3.30708-.1362.55429-.6228%2c3.41812.6228%2c3.58486.08635.38755%2c1.95131%2c3.97241%2c1.93475%2c2.82884.541%2c1.14357%2c1.65906%2c3.97241.40507%2c3.97241.79587%2c3.97241-.15826%2c3.97241-3.24278%2c1.485-3.97241.21388L95.46%2c64.51136l-.39164.4192-3.58077%2c3.79453-.12328.17788-1.74861%2c3.9724-1.88825%2c3.97241-.21227%2c2.05978-.17446%2c1.91263.17446%2c3.44274.04318.52967%2c2.458%2c3.97241%2c1.47126%2c1.11585%2c3.97241.01375%2c1.64376-1.1296%2c2.32865-1.796%2c1.779-2.17638%2c2.19346-3.45545.34942-.517%2c1.9286-3.97241.85317-3.97241.84122-1.93252%2c3.97241-1.02132%2c3.97241.87139%2c2.71676%2c2.08245%2c1.25565%2c1.109%2c1.9451%2c2.86336%2c1.19647%2c3.97241-.08588%2c3.97241-.2116%2c3.97241-.477%2c3.97241.34561%2c3.97241%2c1.25177%2c3.97241.008.013%2c3.522%2c3.95942.45036.36712%2c3.97241%2c1.77578%2c3.97241.30357%2c3.97241-.93022%2c2.728-1.51625%2c1.24436-.94754%2c3.97241-2.92521.16751-.09966%2c3.8049-2.871%2c3.97241-.55406%2c3.97241%2c1.13866%2c3.97241%2c1.84154%2c1.42345.44483%2c2.549.8665%2c3.97241.95138%2c3.97241.85865%2c3.97241%2c1.14093.66207.15495L182.853%2c105.695l3.97241.72057%2c3.97241.29682%2c3.97241-.27563%2c3.97241-.52986%2c3.97241-.49721%2c3.97241-.39524ZM250.384%2c58.32l-3.97241.73949-3.97241.25819-3.97241-.49739-3.97241-1.55819-.5341-.27634-.20152-3.97241.73562-.59886%2c3.97241-3.28527.13242-.08828%2c3.84-1.23871%2c3.97241-1.631%2c2.59614-1.10271%2c1.37627-.7375%2c3.97241-.6253%2c1.58224%2c1.3628%2c1.49881%2c3.97241-1.52163%2c3.97241-1.55942%2c2.71495-1.32413%2c1.25746ZM198.74266%2c69.44343l-3.97241.69162L192.0274%2c68.903l-1.22956-1.94873-.50591-2.02368.50591-1.32414%2c3.97241-.38621%2c3.62191%2c1.71035.3505.91671L199.34%2c68.903Z'/%3e %3cpath class='cls-9' d='M96.22109%2c80.82019l2.61806-3.97241L95.46%2c73.6747l-2.00149%2c3.17308%2c1.11633%2c3.97241.88516.81435Zm124.34632%2c19.862%2c2.00971-.6232%2c3.97241-1.31277%2c3.97241-1.54823.94465-.48821%2c3.02775-1.74842%2c3.076-2.224.89637-.67173L242.0651%2c88.765l.37406-.344%2c3.70066-3.62846.27175-.30429%2c3.06246-3.66812.91-1.29136%2c2.85038-2.681%2c1.122-1.49429%2c3.97241-1.76371%2c3.97241-.45306%2c1.73793-.26135%2c2.23448-.36185%2c3.97241-.32066%2c3.97241.2742%2c3.97241-.25988%2c3.97241-.20313%2c3.97241.07387%2c3.9724-.56572%2c3.97241-1.4549%2c1.85131-1.15433%2c2.1211-1.81322%2c1.72514-2.15919%2c1.57539-3.97241-.46806-3.97241-2.53215-3.97241-.30032-.342-3.44312-3.63037-.52929-.48482L290.114%2c45.06851l-.00594-.00519-3.9724-3.67945-.36836-.28777-3.60405-3.578-.75862-.39437-3.21379-1.54778-3.97241-1.09313-3.97241.72232-2.533%2c1.91859-1.43943%2c1.85667-1.39034%2c2.11574-1.60676%2c3.97241-.77922%2c3.97241-.19609.5131-1.53748%2c3.45931-1.78093%2c3.97241-.654%2c1.12505L255.876%2c60.95815l-1.51957%2c1.31379-3.97241.60991-3.97241-.05209-3.97241.02071-3.97241-.27884-3.97241-.5296-3.9724-.38162-3.02515-.70226-.94726-.72438-1.36675-3.248%2c1.16328-3.97241.20347-.22546%2c3.97241-3.22175.63884-.5252%2c3.33356-1.55325%2c3.97241-1.59711%2c2.33415-.822%2c1.63826-.56821%2c3.97241-2.18608L248.236%2c41.0961l2.148-2.85965.98254-1.11276-.082-3.97241-.90053-1.2214-1.50526-2.751-2.46715-1.81609-3.97241-2.03607-.8597-.12025-3.11271-.34816-3.97241.15154-1.24666.19662-2.72574.5024-3.97241%2c1.399-3.97241%2c1.4556-2.88.61538-1.09242.30345-3.97241.959-3.97241%2c1.33359-3.97241%2c1.16638-.66207.21-3.31034%2c1.1863L198.74266%2c35.626l-3.97241.92-3.15665.57769-.81576.18956-3.97241.65038-3.97241.60976-3.9724%2c1.57891-2.89295.9438-1.07946.39724-3.97241.79-3.97241.07392-3.97241-.03508-3.97241-.7118L156.5%2c41.0961l-1.45381-.276L151.07375%2c39.504l-3.97241-1.53938-1.72356-.84094-2.24885-1.17289-3.97241-2.15513-1.34442-.64439-2.628-1.34586-3.97241-1.88716-1.6996-.73939-2.27281-1.13831-3.9724-1.29385-3.97241-.77421-3.97241-.55425-3.97241.43373-3.97241%2c2.60848-.90768.71841-1.20032%2c3.97241.31056%2c3.97241.99281%2c3.97241.80463%2c1.736.73965%2c2.23643%2c1.24655%2c3.97241.59532%2c3.97241%2c1.15383%2c3.97241.23706.639%2c1.35935%2c3.33337%2c2.61306%2c3.818.09579.15437%2c3.43619%2c3.97241.44043.35794%2c3.11858%2c3.61446.85383%2c1.19172%2c1.7757%2c2.78069.9437%2c3.97241-.36786%2c3.97241-.48705%2c3.97241-.77044%2c3.97241.30991%2c3.97241%2c1.70509%2c3.97241.86335.95448%2c3.97241%2c2.42107%2c3.97241.42563%2c3.97241-1.29257%2c3.14807-2.50861.82434-1.16782%2c2.39444-2.80459%2c1.578-3.533.38493-.43942%2c3.58748-3.95543%2c3.97241%2c1.27782%2c2.83933%2c2.67761%2c1.13308.75707%2c3.43071%2c3.21534.5417.29483%2c3.97241%2c1.55626%2c3.97241.81025%2c3.97241.46774%2c3.97241.40136%2c3.9724.07539%2c3.97241-.017%2c1.6864.3836%2c2.286.5314%2c3.97241%2c1.04569%2c3.97241.52682%2c3.97241.171%2c3.97241-.00541%2c3.97241-.28626%2c3.97241-.60164%2c3.97241-.8744Zm-17.85234-25.905-3.97241%2c1.16846-3.97241-.25592-3.97241-1.95494-.75755-.85949-3.21486-3.843-.08214-.12936-1.34859-3.97241L184.68%2c60.95815l1.49156-3.97241.65384-.67916%2c3.97241-.382%2c3.46845%2c1.06113.504.14127%2c3.97241%2c1.60087%2c3.20941%2c2.23027.763.699%2c2.30681%2c3.27336.82558%2c3.97241-1.35618%2c3.9724Z'/%3e %3cpath class='cls-10' d='M216.72684%2c60.95815l1.26357-3.97241.6143-.91672%2c1.18226-3.05569%2c2.79015-3.32443.56748-.648%2c3.40493-2.17537%2c3.97241-1.29744%2c1.25283-.4996%2c2.71957-.9848%2c3.97241-1.325%2c3.97241-1.40116.4358-.26148%2c3.53661-3.47792.40262-.49449.46147-3.97241-.86409-1.52948-1.711-2.44293-2.26146-1.26055-3.97241-.65033-3.97241.15145-3.9724.72349-2.79541%2c1.03594-1.177.65045-3.97241%2c1.97594-3.97241%2c1.12533-.87306.22069-3.09935%2c1.18009-3.97241%2c1.728-3.52552%2c1.0643-.44689.1824L202.71507%2c39.047l-3.97241%2c1.15415-3.65205.895-.32036.1564L190.79784%2c44.149l-1.07946.91954.81464%2c3.97241.26482.12651%2c3.97241%2c2.24725%2c3.40493%2c1.59865.56748.19862%2c3.97241%2c2.04279%2c1.84434%2c1.731%2c2.12807%2c2.44874%2c2.26995%2c1.52367%2c1.70246%2c1.53065%2c3.97241.45555ZM286.89231%2c68.903l3.21576-.39608%2c3.97241-1.84507%2c1.99991-1.73126%2c1.9725-3.40492.2354-.56749-.2354-1.83343-.34329-2.139-3.06507-3.97241-.564-.5965-3.48734-3.37591-.48507-.42114-3.80181-3.55127-.17059-.158-3.97241-3.0174-2.12086-.797-1.85155-.87045-3.97241-.6446-3.16252%2c1.51505-.80989.4485-2.45488%2c3.52391-1.32172%2c3.97241-.19581.59163-1.10345%2c3.38078-1.0679%2c3.97241-.99089%2c3.97241L264.56%2c64.93056l1.71359.79448%2c3.97241.81856%2c3.97241%2c1.35253%2c3.97241.37184%2c3.97241.304%2c3.0377.331.93471.07925Zm-75.40483%2c31.77927%2c3.14482-.55294%2c3.97241-1.08613%2c3.97241-1.26188%2c2.9793-1.07146.99311-.47245%2c3.97241-1.85779%2c2.81052-1.64217%2c1.16188-.73124%2c3.97241-2.96088.30558-.28029%2c3.66683-3.3717.61266-.60071%2c3.35975-3.76217.17553-.21024%2c2.65284-3.97241%2c1.144-2.82249.7838-1.14992.8633-3.9724L250.384%2c67.965l-3.97241-1.57225-3.97241-.44927-3.97241-.35546-3.97241-.1789-3.9724.45742-3.97241%2c1.05018-3.97241-.40261-3.97241-.127L216.24609%2c68.903l-1.61379%2c1.16048-2.5279%2c2.81192-1.44451.7901-3.97241%2c3.16118-.01956.02113-3.95285%2c2.83544-3.97241.8779-3.97241-.03575-3.97241-1.99495-1.21937-1.68264-2.753-3.11812-.5648-.85429L183.7229%2c68.903l-.86988-2.03135-1.2795-1.94106-2.405-3.97241-.28785-.85124-1.27768-3.12117-2.2975-3.97241-.39723-.34377-3.97241-2.9085-1.00938-.72014-2.963-1.61379L162.991%2c45.9292l-1.55547-.86069-2.41694-.84466-3.97241-1.25957L151.07375%2c41.43l-.694-.33391-3.27844-1.463-3.97241-1.99236-1.00722-.51709-2.96519-1.67064-3.97241-1.90347-.931-.3983-3.04138-1.42079-3.97241-1.61616-3.66286-.93546-.30954-.08994-3.97241-.2495-3.97241.15628-.67616.18316-3.29625%2c2.64827-.64822%2c1.32414-.51444%2c3.97241.1239%2c3.97241%2c1.03876%2c3.97241h0l.956%2c3.97241.64338%2c3.97241%2c1.34982%2c3.97241%2c1.0232%2c1.76937%2c1.23348%2c2.203%2c2.73893%2c3.84955.07623.12286%2c2.87734%2c3.97241%2c1.01884%2c1.15328%2c2.33331%2c2.81912%2c1.63909%2c2.42047%2c1.4579%2c1.55194%2c1.32138%2c3.97241-.6339%2c3.97241-.82582%2c3.97241-1.23533%2c3.97241.48535%2c3.97241%2c3.02148%2c3.97241.38135.24075%2c3.97241.50286%2c2.06784-.74361%2c1.90457-1.209%2c1.98621-2.76341%2c1.32852-3.97241.65768-3.54679.10592-.42562L145.448%2c84.7926l1.65337-1.7088%2c3.97241-.76676%2c3.97241%2c1.59488.86437.88068%2c3.108%2c2.85675.81931%2c1.11566%2c3.09511%2c3.97241.058.05517%2c3.97241%2c2.73326%2c3.97241%2c1.1148.81786.06918%2c3.15455.24885%2c3.97241-.0465%2c1.23731-.20235%2c2.73509-.49655%2c3.97241-.97685%2c3.97241.13161%2c2.76975%2c1.34179%2c1.20266.58%2c3.97241%2c2.01677%2c3.97241%2c1.187%2c1.27417.18863%2c2.69824.23444%2c3.97241-.11515Z'/%3e %3cpath class='cls-11' d='M232.08252%2c41.0961l2.41182-.70936%2c3.97241-1.34753%2c3.95781-1.91552.0146-.03894.68937-3.93347-.68937-.95074-3.97241-1.83327-3.97241.08481-3.9724%2c1.0049-3.31448%2c1.6943-.65793.816-3.77011%2c3.15637%2c1.86666%2c3.97241%2c1.90345.21754%2c3.97241.14782Zm57.40132%2c23.83446.62423-.10115%2c3.97241-3.36171.31095-.50955-.31095-2.37376-.30628-1.59865-3.66613-3.75384-.24169-.21857-3.73071-3.77061-.2207-.2018L282.16326%2c46.164l-2.87418-1.09553-1.09823-.33221-3.97241.25614-.11759.07607-2.94225%2c3.97241-.91257%2c2.91081-.24828%2c1.0616-.11553%2c3.97241.36381.93025%2c1.613%2c3.04216%2c2.35944%2c1.47095%2c3.97241%2c1.23351%2c3.97241.88515%2c1.87979.3828%2c2.09262.35085ZM137.10241%2c92.73742%2c135.5695%2c88.765l-.38539-.99311-.20492.99311-2.23465%2c3.97241%2c2.43957%2c3.34986Zm81.8019%2c3.97241%2c3.67281-1.656%2c3.97241-1.8295%2c1.09025-.48691%2c2.88216-1.48548%2c3.9724-2.33376.20593-.15317%2c3.76648-2.88025%2c1.19283-1.09216%2c2.77958-3.10965.76056-.86276%2c2.5886-3.97241.62325-3.06346.19018-.90895-.19018-.4469-3.97241-3.27064L241.553%2c68.903l-3.08626-.46117-3.97241-.04137-2.10656.50254-1.86584.59015-3.97241%2c2.37747-2.669%2c1.00478-1.30344.61641-3.97241%2c2.50477-1.562.85123-2.41044.96606-3.97241%2c1.53537-2.815%2c1.471-1.15743.47319-3.97241%2c2.2001-3.97241%2c1.175-.61866.12414-3.35375%2c2.22369-3.97241.62607-.36014-2.84976L188.2%2c80.82019%2c186.82543%2c78.813l-.91709-1.96519L183.319%2c72.87537l-.466-.72292L179.92633%2c68.903l-1.04571-1.49672-2.00912-2.47569L174.90821%2c62.258l-1.07947-1.29987L170.9358%2c57.021l-.027-.03526-3.73811-3.97241-.20734-.16337L162.991%2c50.13263l-1.17058-1.09171-2.80183-1.85613-3.97241-2.11228-.00621-.004-3.9662-1.8394-3.97241-1.93018-.34679-.20283L143.12893%2c39.151l-3.94887-2.02728-.02354-.01326-3.97241-1.90125-3.97241-1.66929-1.24137-.38861-2.731-.97828-3.9724-.50723-3.97241.82946-1.48286.65605-2.48955%2c2.61493-.68366%2c1.35748L113.641%2c41.0961l.43095%2c3.97241.80916%2c3.97241.44093%2c2.2852.28738%2c1.68721%2c1.375%2c3.97241%2c2.31%2c3.5973.21368.37511%2c2.50941%2c3.97241%2c1.24932%2c1.62307%2c1.85177%2c2.34934%2c2.12063%2c2.50969%2c1.69991%2c1.46271%2c2.2725%2c2.40236%2c2.04366%2c1.57%2c1.92875%2c3.15377%2c2.24368.81864%2c1.72873%2c1.72873%2c1.0147-1.72873%2c2.95771-.95813%2c3.97241-1.748%2c3.97241-.37841%2c3.97241.81349%2c2.95924%2c2.271%2c1.01317%2c1.03406L160.778%2c84.7926l2.213%2c3.00008.74008.97233%2c3.23233%2c3.21187%2c1.68063.76054%2c2.29178.81523%2c3.97241.37063%2c3.97241-.27356%2c3.27911-.9123.69329-.2363%2c3.97241-2.05358%2c3.97241-1.53064%2c3.97241%2c1.24709%2c1.885%2c2.57343%2c2.08741%2c1.5606%2c3.24668%2c2.41181.72573.31624%2c3.97241%2c1.16553%2c3.97241.19433%2c3.97241-.53021%2c3.97241-1.04926Z'/%3e %3cpath class='cls-12' d='M286.2692%2c56.98574l-.13353-.11432-3.97241-1.47466-2.45912%2c1.589%2c2.45912%2c1.14759%2c3.97241-.72944ZM182.28554%2c88.765l.56748-.54791%2c1.82557-3.4245-.24764-3.97241L182.853%2c76.87537l-.0151-.02759-3.61247-3.97241-.34483-.38492L175.47778%2c68.903l-.56957-.69473-3.35286-3.27768-.61955-.75454-2.69159-3.21787-1.28082-1.692-1.72632-2.28045-2.24609-2.099-1.312-1.87345L159.01857%2c50.499l-1.6274-1.45808-2.345-1.46563-3.88552-2.50678-.08689-.0403-3.97241-2.08289-3.16171-1.84922-.8107-.43494-3.97241-2.08529-3.43979-1.45218-.53262-.25491L131.2117%2c35.339l-3.97241-1.04477-3.9724.09727-3.97241%2c2.584-.14445.14822-2.38169%2c3.97241-.12992%2c3.97241.53078%2c3.97241.71384%2c3.97241%2c1.41144%2c3.60115.123.37126%2c2.28008%2c3.97241%2c1.56935%2c2.28745%2c1.27519%2c1.685%2c2.69721%2c3.32463.74621.64778%2c3.2262%2c2.80742%2c1.654%2c1.165%2c2.31837%2c1.856%2c3.97241%2c1.42963%2c3.97241-.12782%2c3.97241-.97881%2c3.97241-.42856%2c3.97241-.02568%2c3.97241.87905%2c1.75128%2c1.36864%2c1.8751%2c3.97241.346.63255%2c1.56059%2c3.33986%2c2.41182%2c3.10487%2c1.21734.86754%2c2.75507%2c1.42741%2c3.97241.472%2c3.97241-.51767Zm38.16069%2c3.97241%2c2.13089-1.44939%2c3.97241-2.24128.72888-.28174%2c3.24353-1.43135%2c3.9724-2.0592.66208-.48186%2c3.31033-3.12009.744-.85232%2c2.00058-3.97241-1.61765-3.97241-1.12693-.52614-3.97241-.29741-2.36951.82355-1.60289.90015-3.23145%2c3.07226-.741.97284-3.97241%2c1.9444-2.13256%2c1.05517-1.83985.80547-3.97241.845-3.97241.98137-3.54913%2c1.34053-.42328.28219L203.01731%2c88.765l.95456%2c3.97241%2c2.71561%2c1.78685%2c3.97241.90456%2c3.97241-.51936%2c3.97241-1.41847Z'/%3e %3cpath class='cls-13' d='M145.30349%2c72.87537l1.79785-.42648%2c3.97241-.65484%2c3.97241-.73217%2c3.97241-1.03826L161.6455%2c68.903l.56747-3.97241-.02278-3.97241-1.36033-3.97241-1.81129-2.51013-1.00113-1.46228-2.97128-2.70846-1.309-1.264-2.66343-1.8396-3.06458-2.13281-.90783-.4768L143.12893%2c42.244%2c141.156%2c41.0961l-1.99951-1.05634-3.97241-1.62369-3.97241-1.27864-.10345-.01374-3.869-.65161-3.2869.65161-.6855.18576-3.52463%2c3.78665-.44778%2c2.53932-.222%2c1.43309.222%2c2.63288.0882%2c1.33953.6186%2c3.97241%2c1.33782%2c3.97241%2c1.92779%2c3.09788.60823.87453%2c3.08209%2c3.97241.28208.3477%2c3.97241%2c3.461.22543.16368%2c3.747%2c2.72052%2c3.07156%2c1.25188.90085.38518%2c3.97241.14812ZM178.93288%2c84.7926l1.10289-3.97241-1.15515-2.30069-1.09621-1.67172-2.8762-2.82981-1.6867-1.1426L170.9358%2c70.993l-3.97241-1.46937-1.07256%2c3.35172.23745%2c3.97241.334%2c3.97241.50108%2c1.099L169.22%2c84.7926l1.71584%2c1.23205%2c3.97241.474%2c3.97241-1.65507Z'/%3e %3cpath class='cls-14' d='M151.28441%2c68.903l3.76175-2.113%2c1.762-1.85942L158.31%2c60.95815l-.83968-3.97241-2.42419-3.46313-.33026-.50928-3.64215-3.525-.46017-.44746-3.51224-2.49275-1.9297-1.47966-2.04271-1.21236-3.97241-2.284-1.07-.476L135.18411%2c39.943l-3.97241-1.08857-3.97241-.23079-3.9724%2c1.66276-.7537.80972-1.2601%2c3.97241.03064%2c3.97241.58148%2c3.97241%2c1.39552%2c3.97241.00616.00988%2c2.75594%2c3.96253%2c1.21646%2c1.55213%2c2.78271%2c2.42028%2c1.1897%2c1.044%2c3.97241%2c2.88572.08988.04272%2c3.88253%2c1.76188%2c3.97241.24406%2c3.97241-.99863%2c3.97241-.944Z'/%3e %3cpath class='cls-15' d='M151.652%2c64.93056l3.02061-3.97241-.35181-3.97241-2.55354-3.97241-.69352-.6712-3.39486-3.30121-.57755-.40991-3.97241-3.028-.762-.53448L139.15652%2c43.282l-3.97241-1.70508-1.76679-.48084-2.20562-.52471-3.97241.19254-.698.33217-3.08185%2c3.97241-.19251%2c2.39514-.08213%2c1.57727.08213.5893.52716%2c3.38311%2c1.49474%2c3.97241%2c1.9505%2c2.73786%2c1.246%2c1.23455L131.2117%2c63.357l2.25917%2c1.5736%2c1.71324%2c1.26006%2c3.97241%2c1.9019%2c3.97241.29745%2c3.97241-1.30007%2c3.97241-1.75626Z'/%3e %3cpath class='cls-16' d='M145.045%2c64.93056l2.0563-.98749%2c3.84241-2.98492.13-1.19171.20447-2.7807-.20447-.32085-2.327-3.65156-1.64543-1.59842-2.28164-2.374-1.69077-1.28276-3.83475-2.68965-.13766-.07661-3.97241-1.45076-3.97241-.72788-3.97241%2c1.24532-.84518%2c1.00993-.882%2c3.97241.40753%2c3.97241%2c1.3196%2c3.741.10984.2314%2c3.86257%2c3.8273.1853.14511%2c3.78711%2c2.64019%2c2.86222%2c1.33222%2c1.11019.53749%2c3.97241.18157Z'/%3e %3cpath class='cls-17' d='M146.30514%2c60.95815l.7962-1.5654.78245-2.407-.78245-1.32106-1.47679-2.65135-2.49562-2.6106-1.52275-1.36181-2.44966-1.61033-3.97241-1.64684-3.97241-.28852-2.91863%2c3.54569.1689%2c3.97241%2c1.74748%2c3.97241%2c1.00225.9931%2c3.80448%2c2.97931.16793.11707%2c3.97241%2c1.74154%2c3.97241-.08726Z'/%3e %3c/g%3e %3c/g%3e %3ccircle cx='38.18089' cy='22.8132' r='0.9931'/%3e %3ccircle cx='52.25586' cy='24.61986' r='0.9931'/%3e %3ccircle cx='60.15102' cy='84.1939' r='0.9931'/%3e %3ccircle cx='65.27969' cy='32.28887' r='0.9931'/%3e %3ccircle cx='74.2095' cy='112.45883' r='0.9931'/%3e %3ccircle cx='77.35435' cy='91.68731' r='0.9931'/%3e %3ccircle cx='86.14471' cy='75.11478' r='0.9931'/%3e %3ccircle cx='86.19557' cy='84.50099' r='0.9931'/%3e %3ccircle cx='86.94219' cy='109.97293' r='0.9931'/%3e %3ccircle cx='88.43286' cy='25.6804' r='0.9931'/%3e %3ccircle cx='89.89499' cy='67.7429' r='0.9931'/%3e %3ccircle cx='91.4689' cy='43.60803' r='0.9931'/%3e %3ccircle cx='91.9551' cy='27.06827' r='0.9931'/%3e %3ccircle cx='92.09832' cy='89.22466' r='0.9931'/%3e %3ccircle cx='92.5046' cy='95.54871' r='0.9931'/%3e %3ccircle cx='93.70207' cy='68.448' r='0.9931'/%3e %3ccircle cx='96.4004' cy='59.43294' r='0.9931'/%3e %3ccircle cx='99.85806' cy='83.28565' r='0.9931'/%3e %3ccircle cx='101.93814' cy='36.24864' r='0.9931'/%3e %3ccircle cx='102.65901' cy='39.32426' r='0.9931'/%3e %3ccircle cx='102.76997' cy='76.06515' r='0.9931'/%3e %3ccircle cx='103.18911' cy='61.27976' r='0.9931'/%3e %3ccircle cx='104.73486' cy='34.02334' r='0.9931'/%3e %3ccircle cx='106.46707' cy='92.58216' r='0.9931'/%3e %3ccircle cx='107.87419' cy='23.17589' r='0.9931'/%3e %3ccircle cx='112.3566' cy='74.74978' r='0.9931'/%3e %3ccircle cx='112.75267' cy='20.91379' r='0.9931'/%3e %3ccircle cx='113.52484' cy='46.98448' r='0.9931'/%3e %3ccircle cx='118.07262' cy='25.15226' r='0.9931'/%3e %3ccircle cx='118.72996' cy='61.08147' r='0.9931'/%3e %3ccircle cx='119.07343' cy='26.64484' r='0.9931'/%3e %3ccircle cx='120.49252' cy='58.10851' r='0.9931'/%3e %3ccircle cx='122.76485' cy='37.90155' r='0.9931'/%3e %3ccircle cx='122.9646' cy='47.05883' r='0.9931'/%3e %3ccircle cx='123.26346' cy='50.23662' r='0.9931'/%3e %3ccircle cx='123.87099' cy='37.26342' r='0.9931'/%3e %3ccircle cx='125.33568' cy='77.20316' r='0.9931'/%3e %3ccircle cx='125.47181' cy='98.77111' r='0.9931'/%3e %3ccircle cx='129.32038' cy='100.873' r='0.9931'/%3e %3ccircle cx='130.08977' cy='90.95205' r='0.9931'/%3e %3ccircle cx='130.30451' cy='67.76746' r='0.9931'/%3e %3ccircle cx='130.43034' cy='40.07523' r='0.9931'/%3e %3ccircle cx='131.14653' cy='63.41513' r='0.9931'/%3e %3ccircle cx='131.52809' cy='43.96809' r='0.9931'/%3e %3ccircle cx='131.53907' cy='50.70142' r='0.9931'/%3e %3ccircle cx='132.47602' cy='55.61116' r='0.9931'/%3e %3ccircle cx='132.97203' cy='90.82994' r='0.9931'/%3e %3ccircle cx='133.0027' cy='33.83347' r='0.9931'/%3e %3ccircle cx='133.12332' cy='102.08097' r='0.9931'/%3e %3ccircle cx='133.91647' cy='106.73506' r='0.9931'/%3e %3ccircle cx='134.5593' cy='65.13652' r='0.9931'/%3e %3ccircle cx='135.34789' cy='41.50554' r='0.9931'/%3e %3ccircle cx='135.58979' cy='62.44736' r='0.9931'/%3e %3ccircle cx='135.85969' cy='87.38032' r='0.9931'/%3e %3ccircle cx='136.04817' cy='50.74019' r='0.9931'/%3e %3ccircle cx='136.91503' cy='81.19321' r='0.9931'/%3e %3ccircle cx='139.48931' cy='97.8843' r='0.9931'/%3e %3ccircle cx='140.02556' cy='51.72618' r='0.9931'/%3e %3ccircle cx='140.72526' cy='49.56914' r='0.9931'/%3e %3ccircle cx='141.17325' cy='48.20778' r='0.9931'/%3e %3ccircle cx='143.62606' cy='52.86419' r='0.9931'/%3e %3ccircle cx='144.54101' cy='77.94635' r='0.9931'/%3e %3ccircle cx='145.20448' cy='62.53546' r='0.9931'/%3e %3ccircle cx='146.05155' cy='83.63808' r='0.9931'/%3e %3ccircle cx='146.44984' cy='64.16139' r='0.9931'/%3e %3ccircle cx='148.35143' cy='63.15197' r='0.9931'/%3e %3ccircle cx='149.85251' cy='63.75145' r='0.9931'/%3e %3ccircle cx='151.05481' cy='43.44292' r='0.9931'/%3e %3ccircle cx='151.89107' cy='70.28554' r='0.9931'/%3e %3ccircle cx='152.29309' cy='51.87091' r='0.9931'/%3e %3ccircle cx='153.65623' cy='106.07278' r='0.9931'/%3e %3ccircle cx='153.82791' cy='58.04902' r='0.9931'/%3e %3ccircle cx='153.87256' cy='13.8911' r='0.9931'/%3e %3ccircle cx='156.92424' cy='101.86469' r='0.9931'/%3e %3ccircle cx='159.13178' cy='88.17874' r='0.9931'/%3e %3ccircle cx='160.48031' cy='62.55904' r='0.9931'/%3e %3ccircle cx='160.72393' cy='41.05825' r='0.9931'/%3e %3ccircle cx='164.63173' cy='78.55137' r='0.9931'/%3e %3ccircle cx='164.70215' cy='122.06457' r='0.9931'/%3e %3ccircle cx='165.32121' cy='78.22372' r='0.9931'/%3e %3ccircle cx='165.9529' cy='53.13856' r='0.9931'/%3e %3ccircle cx='166.16687' cy='53.69688' r='0.9931'/%3e %3ccircle cx='167.90744' cy='68.46841' r='0.9931'/%3e %3ccircle cx='168.09699' cy='36.62369' r='0.9931'/%3e %3ccircle cx='168.68731' cy='88.62242' r='0.9931'/%3e %3ccircle cx='168.73814' cy='25.85086' r='0.9931'/%3e %3ccircle cx='169.64935' cy='87.97181' r='0.9931'/%3e %3ccircle cx='172.00598' cy='90.03507' r='0.9931'/%3e %3ccircle cx='173.25885' cy='25.26018' r='0.9931'/%3e %3ccircle cx='173.56715' cy='74.8266' r='0.9931'/%3e %3ccircle cx='173.62273' cy='50.62623' r='0.9931'/%3e %3ccircle cx='173.78839' cy='78.86548' r='0.9931'/%3e %3ccircle cx='174.43254' cy='59.89589' r='0.9931'/%3e %3ccircle cx='174.61846' cy='69.8568' r='0.9931'/%3e %3ccircle cx='175.89173' cy='104.18086' r='0.9931'/%3e %3ccircle cx='176.44052' cy='95.30617' r='0.9931'/%3e %3ccircle cx='177.80456' cy='85.37491' r='0.9931'/%3e %3ccircle cx='178.1422' cy='72.84292' r='0.9931'/%3e %3ccircle cx='178.8606' cy='32.52189' r='0.9931'/%3e %3ccircle cx='180.74432' cy='15.42438' r='0.9931'/%3e %3ccircle cx='181.73845' cy='118.98539' r='0.9931'/%3e %3ccircle cx='185.34433' cy='113.91707' r='0.9931'/%3e %3ccircle cx='185.65437' cy='55.88621' r='0.9931'/%3e %3ccircle cx='186.5971' cy='45.28672' r='0.9931'/%3e %3ccircle cx='187.41826' cy='85.28533' r='0.9931'/%3e %3ccircle cx='187.64315' cy='13.87477' r='0.9931'/%3e %3ccircle cx='188.63396' cy='93.60942' r='0.9931'/%3e %3ccircle cx='188.63624' cy='42.5448' r='0.9931'/%3e %3ccircle cx='190.07166' cy='82.01256' r='0.9931'/%3e %3ccircle cx='190.58456' cy='1.37201' r='0.9931'/%3e %3ccircle cx='191.39804' cy='114.53631' r='0.9931'/%3e %3ccircle cx='192.0982' cy='79.6504' r='0.9931'/%3e %3ccircle cx='192.34119' cy='50.32086' r='0.9931'/%3e %3ccircle cx='195.20534' cy='38.40848' r='0.9931'/%3e %3ccircle cx='195.75423' cy='107.91547' r='0.9931'/%3e %3ccircle cx='196.46208' cy='17.90103' r='0.9931'/%3e %3ccircle cx='199.87387' cy='49.20781' r='0.9931'/%3e %3ccircle cx='200.4733' cy='91.23637' r='0.9931'/%3e %3ccircle cx='203.27468' cy='92.70239' r='0.9931'/%3e %3ccircle cx='203.64859' cy='63.79395' r='0.9931'/%3e %3ccircle cx='204.25384' cy='43.60966' r='0.9931'/%3e %3ccircle cx='205.18396' cy='86.75995' r='0.9931'/%3e %3ccircle cx='205.6464' cy='38.92268' r='0.9931'/%3e %3ccircle cx='205.66753' cy='95.59415' r='0.9931'/%3e %3ccircle cx='206.03642' cy='94.55009' r='0.9931'/%3e %3ccircle cx='206.66167' cy='51.29419' r='0.9931'/%3e %3ccircle cx='209.01803' cy='94.46355' r='0.9931'/%3e %3ccircle cx='209.68115' cy='16.39382' r='0.9931'/%3e %3ccircle cx='209.87916' cy='61.37972' r='0.9931'/%3e %3ccircle cx='210.0274' cy='31.00561' r='0.9931'/%3e %3ccircle cx='213.15013' cy='98.90674' r='0.9931'/%3e %3ccircle cx='213.29565' cy='71.73208' r='0.9931'/%3e %3ccircle cx='213.82258' cy='81.93446' r='0.9931'/%3e %3ccircle cx='215.06667' cy='36.81449' r='0.9931'/%3e %3ccircle cx='215.0993' cy='57.89118' r='0.9931'/%3e %3ccircle cx='215.65366' cy='68.0232' r='0.9931'/%3e %3ccircle cx='216.04405' cy='42.36954' r='0.9931'/%3e %3ccircle cx='217.69503' cy='60.82093' r='0.9931'/%3e %3ccircle cx='218.90396' cy='88.02485' r='0.9931'/%3e %3ccircle cx='220.00937' cy='91.41524' r='0.9931'/%3e %3ccircle cx='220.66663' cy='34.05206' r='0.9931'/%3e %3ccircle cx='222.6152' cy='39.77462' r='0.9931'/%3e %3ccircle cx='224.29363' cy='90.74323' r='0.9931'/%3e %3ccircle cx='226.38138' cy='52.33777' r='0.9931'/%3e %3ccircle cx='226.7197' cy='91.14194' r='0.9931'/%3e %3ccircle cx='228.55823' cy='36.20612' r='0.9931'/%3e %3ccircle cx='230.93308' cy='81.90603' r='0.9931'/%3e %3ccircle cx='232.5965' cy='99.59966' r='0.9931'/%3e %3ccircle cx='233.57916' cy='33.69144' r='0.9931'/%3e %3ccircle cx='233.79124' cy='73.64263' r='0.9931'/%3e %3ccircle cx='235.57726' cy='29.65945' r='0.9931'/%3e %3ccircle cx='236.16849' cy='44.66779' r='0.9931'/%3e %3ccircle cx='236.67777' cy='36.30567' r='0.9931'/%3e %3ccircle cx='236.97422' cy='85.94241' r='0.9931'/%3e %3ccircle cx='237.80063' cy='81.8687' r='0.9931'/%3e %3ccircle cx='237.99369' cy='73.57564' r='0.9931'/%3e %3ccircle cx='238.48185' cy='24.4579' r='0.9931'/%3e %3ccircle cx='239.76137' cy='92.67165' r='0.9931'/%3e %3ccircle cx='239.78519' cy='63.9526' r='0.9931'/%3e %3ccircle cx='239.94992' cy='78.46231' r='0.9931'/%3e %3ccircle cx='240.15348' cy='68.19464' r='0.9931'/%3e %3ccircle cx='241.84543' cy='75.95655' r='0.9931'/%3e %3ccircle cx='243.11216' cy='29.82888' r='0.9931'/%3e %3ccircle cx='243.14762' cy='112.22214' r='0.9931'/%3e %3ccircle cx='247.62172' cy='32.59968' r='0.9931'/%3e %3ccircle cx='248.85987' cy='37.67702' r='0.9931'/%3e %3ccircle cx='249.81909' cy='37.19037' r='0.9931'/%3e %3ccircle cx='253.61967' cy='61.07196' r='0.9931'/%3e %3ccircle cx='257.8257' cy='62.86431' r='0.9931'/%3e %3ccircle cx='258.96973' cy='71.63517' r='0.9931'/%3e %3ccircle cx='259.44137' cy='67.2132' r='0.9931'/%3e %3ccircle cx='261.92849' cy='108.63085' r='0.9931'/%3e %3ccircle cx='264.97542' cy='34.56487' r='0.9931'/%3e %3ccircle cx='266.33051' cy='39.16219' r='0.9931'/%3e %3ccircle cx='266.3956' cy='76.44448' r='0.9931'/%3e %3ccircle cx='266.69777' cy='15.71306' r='0.9931'/%3e %3ccircle cx='267.87026' cy='61.44244' r='0.9931'/%3e %3ccircle cx='268.89054' cy='51.94134' r='0.9931'/%3e %3ccircle cx='270.25994' cy='91.77431' r='0.9931'/%3e %3ccircle cx='271.97183' cy='77.53072' r='0.9931'/%3e %3ccircle cx='273.67973' cy='54.92682' r='0.9931'/%3e %3ccircle cx='274.91214' cy='29.74608' r='0.9931'/%3e %3ccircle cx='276.11854' cy='50.54379' r='0.9931'/%3e %3ccircle cx='276.35978' cy='27.53719' r='0.9931'/%3e %3ccircle cx='277.61041' cy='88.22951' r='0.9931'/%3e %3ccircle cx='279.33015' cy='54.95093' r='0.9931'/%3e %3ccircle cx='279.55045' cy='40.45763' r='0.9931'/%3e %3ccircle cx='281.12509' cy='70.05012' r='0.9931'/%3e %3ccircle cx='281.50244' cy='59.41894' r='0.9931'/%3e %3ccircle cx='286.24256' cy='64.36686' r='0.9931'/%3e %3ccircle cx='287.22599' cy='42.41605' r='0.9931'/%3e %3ccircle cx='288.70316' cy='40.39828' r='0.9931'/%3e %3ccircle cx='289.70881' cy='66.02374' r='0.9931'/%3e %3ccircle cx='293.23543' cy='80.7131' r='0.9931'/%3e %3ccircle cx='294.50272' cy='57.09806' r='0.9931'/%3e %3ccircle cx='294.9629' cy='61.50212' r='0.9931'/%3e %3ccircle cx='296.23917' cy='53.01796' r='0.9931'/%3e %3ccircle cx='300.97265' cy='65.92786' r='0.9931'/%3e %3ccircle cx='303.72777' cy='60.661' r='0.9931'/%3e %3ccircle cx='317.91494' cy='54.38808' r='0.9931'/%3e %3cg%3e %3cpath class='cls-18' d='M14.02563%2c140.90288H20.4808V1.86856H14.02563'/%3e %3cg%3e %3cline class='cls-18' x1='19.98424' y1='140.90288' x2='14.02563' y2='140.90288'/%3e %3ctext class='cls-19' transform='translate(5.49328 144.05646)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='19.98424' y1='124.19965' x2='14.02563' y2='124.19965'/%3e %3ctext class='cls-19' transform='translate(-0.03016 127.35334)'%3e10%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='19.98424' y1='107.49643' x2='14.02563' y2='107.49643'/%3e %3ctext class='cls-19' transform='translate(-0.03016 110.65021)'%3e20%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='19.98424' y1='90.7932' x2='14.02563' y2='90.7932'/%3e %3ctext class='cls-19' transform='translate(-0.03016 93.94709)'%3e30%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='19.98424' y1='74.08998' x2='14.02563' y2='74.08998'/%3e %3ctext class='cls-19' transform='translate(-0.03016 77.24445)'%3e40%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='19.98424' y1='57.38675' x2='14.02563' y2='57.38675'/%3e %3ctext class='cls-19' transform='translate(-0.03016 60.54132)'%3e50%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='19.98424' y1='40.68352' x2='14.02563' y2='40.68352'/%3e %3ctext class='cls-19' transform='translate(-0.03016 43.8382)'%3e60%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='19.98424' y1='23.98029' x2='14.02563' y2='23.98029'/%3e %3ctext class='cls-19' transform='translate(-0.03016 27.13507)'%3e70%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='19.98424' y1='7.27707' x2='14.02563' y2='7.27707'/%3e %3ctext class='cls-19' transform='translate(-0.03016 10.43146)'%3e80%3c/text%3e %3c/g%3e %3c/g%3e %3cg%3e %3cpath class='cls-18' d='M20.4808%2c146.365v-5.46207H318.41149V146.365'/%3e %3cg%3e %3cline class='cls-18' x1='20.4808' y1='140.40633' x2='20.4808' y2='146.36495'/%3e %3ctext class='cls-19' transform='translate(17.68859 156.3714)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='57.23035' y1='140.40633' x2='57.23035' y2='146.36495'/%3e %3ctext class='cls-19' transform='translate(51.67687 156.3714)'%3e10%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='93.97991' y1='140.40633' x2='93.97991' y2='146.36495'/%3e %3ctext class='cls-19' transform='translate(88.42687 156.3714)'%3e20%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='130.72946' y1='140.40633' x2='130.72946' y2='146.36495'/%3e %3ctext class='cls-19' transform='translate(125.1759 156.3714)'%3e30%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='167.47902' y1='140.40633' x2='167.47902' y2='146.36495'/%3e %3ctext class='cls-19' transform='translate(161.92492 156.3714)'%3e40%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='204.22856' y1='140.40633' x2='204.22856' y2='146.36495'/%3e %3ctext class='cls-19' transform='translate(198.67492 156.3714)'%3e50%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='240.97812' y1='140.40633' x2='240.97812' y2='146.36495'/%3e %3ctext class='cls-19' transform='translate(235.42394 156.3714)'%3e60%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='277.72766' y1='140.40633' x2='277.72766' y2='146.36495'/%3e %3ctext class='cls-19' transform='translate(272.17394 156.3714)'%3e70%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-18' x1='314.47724' y1='140.40633' x2='314.47724' y2='146.36495'/%3e %3ctext class='cls-19' transform='translate(308.92297 156.3714)'%3e80%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$d = {\n  name: 'Contour plot',\n  id: 'rawgraphs.contourplot',\n  thumbnail: img$p,\n  icon: img$o,\n  categories: ['correlations', 'distributions'],\n  description: 'It shows the estimated density of point clouds, which is especially useful to avoid overplotting in large datasets.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/contourPlot',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-contour-plot/'\n};\n\nconst dimensions$d = [{\n  id: 'x',\n  name: 'X Axis',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'y',\n  name: 'Y Axis',\n  validTypes: ['number', 'date'],\n  required: true\n} // {\n//   id: 'weight',\n//   name: 'Density weight',\n//   validTypes: ['number'],\n//   required: false,\n// },\n];\n\nconst mapData$d = {\n  x: 'get',\n  y: 'get',\n  weight: 'get'\n};\n\nfunction colorDomain(data, mapping, visualOptions) {\n  const {\n    width,\n    height,\n    bandwidth,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    xOrigin,\n    yOrigin\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom;\n\n  if (!data) {\n    return {\n      domain: [],\n      type: 'number'\n    };\n  } // x scale\n\n\n  const xDomain = xOrigin ? [0, max(data, d => d.x)] : extent(data, d => d.x);\n  const x = mapping.x.dataType === 'date' ? scaleTime() : scaleLinear();\n  x.domain(xDomain).rangeRound([0, chartWidth]).nice(); // y scale\n\n  const yDomain = yOrigin ? [0, max(data, d => d.y)] : extent(data, d => d.y);\n  const y = mapping.y.dataType === 'date' ? scaleTime() : scaleLinear();\n  y.domain(yDomain).rangeRound([chartHeight, 0]).nice();\n  const contours = contourDensity().x(d => x(d.x)).y(d => y(d.y)).size([chartWidth, chartHeight]).bandwidth(bandwidth)(data);\n  const domain = contours.map(d => d.value);\n  return {\n    domain,\n    type: 'number'\n  };\n}\nfunction render$d(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    xOrigin,\n    yOrigin,\n    showPoints,\n    dotsDiameter,\n    bandwidth,\n    showLegend,\n    legendWidth,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    colorScale,\n    showBandLabels,\n    labelThresholds,\n    showLabelsOutline,\n    autoHideLabels\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // x scale\n\n  const xDomain = xOrigin ? [0, max(data, d => d.x)] : extent(data, d => d.x);\n  const x = mapping.x.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  x.domain(xDomain).rangeRound([0, chartWidth]).nice(); // y scale\n\n  const yDomain = yOrigin ? [0, max(data, d => d.y)] : extent(data, d => d.y);\n  const y = mapping.y.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  y.domain(yDomain).rangeRound([chartHeight, 0]).nice();\n\n  const xAxis = g => {\n    return g.attr('transform', `translate(0,${chartHeight})`).call(axisBottom(x)).call(g => g.append('text').attr('x', chartWidth).attr('dy', -5).attr('text-anchor', 'end').text(mapping['x'].value).styles(styles.axisLabel));\n  };\n\n  const yAxis = g => {\n    return g.call(axisLeft(y)).call(g => g.append('text').attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').text(mapping['y'].value).styles(styles.axisLabel));\n  };\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'background');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'visualization');\n  svg.append('clipPath').attr('id', 'plotClipPath').append('rect').attr('x', 0).attr('y', 0).attr('width', chartWidth).attr('height', chartHeight);\n  const vizLayer = svg.append('g').attr('id', 'viz').attr('clip-path', 'url(#plotClipPath)');\n  const contours = contourDensity().x(d => x(d.x)).y(d => y(d.y)).size([chartWidth, chartHeight]).bandwidth(bandwidth)(data);\n  const contourBand = vizLayer.selectAll('g').data(contours).join('g');\n  contourBand.append('path').attr('fill', d => colorScale(d.value)).attr('stroke', d => lab(colorScale(d.value)).darker(1)).attr('stroke-opacity', (d, i) => i % labelThresholds === 0 ? 1 : 0.3).attr('d', geoPath());\n\n  if (showPoints) {\n    vizLayer.selectAll('circle').data(data).join('circle').attr('cx', d => x(d.x)).attr('cy', d => y(d.y)).attr('fill', 'black').attr('r', dotsDiameter / 2);\n  }\n\n  const labelsLayer = svg.append('g').attr('id', 'labels');\n  const axisLayer = svg.append('g').attr('id', 'axis');\n  axisLayer.append('g').call(xAxis);\n  axisLayer.append('g').call(yAxis);\n  const steps = 40;\n\n  if (showBandLabels) {\n    // adapted from https://observablehq.com/@fil/contour-labels-svg\n    contours.forEach((cont, index) => {\n      if (index % labelThresholds === 0) {\n        cont.coordinates.forEach(polygon => {\n          polygon.forEach((ring, j) => {\n            const p = ring.slice(1, Infinity),\n                  // best number of steps to divide ring.length\n            possibilities = range(steps, steps * 1.4),\n                  scores = possibilities.map(d => -((p.length - 1) % d)),\n                  n = possibilities[scan(scores)],\n                  // best starting point: bottom for first rings, top for holes\n            start = 1 + scan(p.map(xy => (j === 0 ? -1 : 1) * xy[1])) % n,\n                  margin = 2;\n            p.forEach((xy, i) => {\n              if (i % n === start && xy[0] > margin && xy[0] < chartWidth - margin && xy[1] > margin && xy[1] < chartHeight - margin) {\n                const a = (i - 2 + p.length) % p.length,\n                      b = (i + 2) % p.length,\n                      dx = p[b][0] - p[a][0],\n                      dy = p[b][1] - p[a][1];\n                if (dx === 0 && dy === 0) return;\n                const angle = (Math.cos(Math.atan2(dy, dx)) < 0 ? Math.PI : 0) + Math.atan2(dy, dx);\n                labelsLayer.append('text').attr('stroke', 'none').attr('text-anchor', 'middle').attr('dy', '0.3em').attr('transform', `translate(${xy})rotate(${angle * 180 / Math.PI})`).text(cont.value).styles(styles.labelSecondary); //.styles(styles.labelOutline)\n              }\n            });\n          });\n        });\n      }\n    });\n  }\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    labelsLayer.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (autoHideLabels) {\n    labelsOcclusion(labelsLayer.selectAll('text'), (d, i) => i);\n  }\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (colorScale.domain().length) {\n      chartLegend.addColor('density', colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$d = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  xOrigin: {\n    type: 'boolean',\n    label: 'Set X origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  yOrigin: {\n    type: 'boolean',\n    label: 'Set Y origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  bandwidth: {\n    type: 'number',\n    label: 'Bandwidth',\n    default: 20,\n    step: 1,\n    min: 1,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  showPoints: {\n    type: 'boolean',\n    label: 'Show dots on data values',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    default: 2,\n    group: 'chart',\n    disabled: {\n      showPoints: false\n    },\n    requiredDimensions: ['x', 'y']\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    domain: 'colorDomain',\n    default: {\n      scaleType: 'sequential',\n      interpolator: 'interpolateBlues'\n    },\n    group: 'colors',\n    requiredDimensions: ['x', 'y']\n  },\n  showBandLabels: {\n    type: 'boolean',\n    label: 'Show band labels',\n    default: false,\n    group: 'labels',\n    requiredDimensions: ['x', 'y']\n  },\n  labelThresholds: {\n    type: 'number',\n    label: 'Labels threshold steps',\n    default: 5,\n    step: 1,\n    min: 1,\n    group: 'labels',\n    disabled: {\n      showBandLabels: false\n    },\n    requiredDimensions: ['x', 'y']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels',\n    disabled: {\n      showBandLabels: false\n    },\n    requiredDimensions: ['x', 'y']\n  },\n  autoHideLabels: {\n    type: 'boolean',\n    label: 'Auto hide labels',\n    default: false,\n    group: 'labels',\n    disabled: {\n      showBandLabels: false\n    },\n    requiredDimensions: ['x', 'y']\n  }\n};\n\nvar contourPlot = {\n  metadata: metadata$d,\n  dimensions: dimensions$d,\n  mapData: mapData$d,\n  render: render$d,\n  visualOptions: visualOptions$d,\n  styles: styles$1,\n  colorDomain\n};\n\nvar img$q = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M44.7314%2c23.7588l-5-11a3%2c3%2c0%2c0%2c0-5.7275%2c1.0835l-1%2c19A3%2c3%2c0%2c0%2c0%2c38.4%2c34.8l6-8A3.0018%2c3.0018%2c0%2c0%2c0%2c44.7314%2c23.7588ZM36%2c34a1%2c1%2c0%2c1%2c1%2c1-1A1.0013%2c1.0013%2c0%2c0%2c1%2c36%2c34Zm1-19a1%2c1%2c0%2c1%2c1%2c1-1A1.0013%2c1.0013%2c0%2c0%2c1%2c37%2c15Zm5%2c11a1%2c1%2c0%2c1%2c1%2c1-1A1.0013%2c1.0013%2c0%2c0%2c1%2c42%2c26Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 8 48 8 9.939 9.195 11.135 9.195 9.695 7.5 8 5.805 9.695 5.805 11.135 7 9.939 7 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3cpath class='cls-2' d='M27.8066%2c24.605a3.0043%2c3.0043%2c0%2c0%2c0-2.6308-.49l-7%2c2a3.0008%2c3.0008%2c0%2c0%2c0-2.168%2c2.6709l-1%2c14A3%2c3%2c0%2c0%2c0%2c19.8%2c45.4l8-6A2.9984%2c2.9984%2c0%2c0%2c0%2c29%2c37V27A2.9986%2c2.9986%2c0%2c0%2c0%2c27.8066%2c24.605ZM18%2c44a1%2c1%2c0%2c1%2c1%2c1-1A1.0013%2c1.0013%2c0%2c0%2c1%2c18%2c44Zm1-14a1%2c1%2c0%2c1%2c1%2c1-1A1.0013%2c1.0013%2c0%2c0%2c1%2c19%2c30Zm7%2c8a1%2c1%2c0%2c1%2c1%2c1-1A1.0013%2c1.0013%2c0%2c0%2c1%2c26%2c38Zm0-10a1%2c1%2c0%2c1%2c1%2c1-1A1.0013%2c1.0013%2c0%2c0%2c1%2c26%2c28Z'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$r = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='utf-8'%3f%3e%3c!-- Generator: Adobe Illustrator 25.1.0%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 320 160' style='enable-background:new 0 0 320 160%3b' xml:space='preserve'%3e%3cstyle type='text/css'%3e .st0%7bopacity:0.5%3bfill:%231F77B4%3bstroke:%231F77B4%3bstroke-width:10%3bstroke-linejoin:round%3benable-background:new %3b%7d .st1%7bfill:%231F77B4%3b%7d .st2%7bopacity:0.5%3bfill:%23FF7F0E%3bstroke:%23FF7F0E%3bstroke-width:10%3bstroke-linejoin:round%3benable-background:new %3b%7d .st3%7bfill:%23FF7F0E%3b%7d .st4%7bfill:none%3bstroke:black%3b%7d .st5%7bfont-family:'Helvetica'%3b%7d .st6%7bfont-size:15.0329px%3b%7d%3c/style%3e%3cg id='visualization' transform='translate(100%2c50)'%3e %3cg id='viz'%3e %3cg%3e %3cpath class='st0' d='M184.2%2c40l-6-45.1H103L92.5%2c35.5l3%2c15L184.2%2c40z'/%3e %3cg%3e %3ccircle class='st1' cx='103' cy='-5.1' r='3'/%3e %3ccircle class='st1' cx='178.1' cy='-5.1' r='3'/%3e %3ccircle class='st1' cx='116.5' cy='18.9' r='3'/%3e %3ccircle class='st1' cx='179.6' cy='18.9' r='3'/%3e %3ccircle class='st1' cx='92.5' cy='35.5' r='3'/%3e %3ccircle class='st1' cx='95.5' cy='50.5' r='3'/%3e %3ccircle class='st1' cx='184.2' cy='40' r='3'/%3e %3ccircle class='st1' cx='116.5' cy='41.5' r='3'/%3e %3c/g%3e %3c/g%3e %3cg%3e %3cpath class='st2' d='M66.9%2c39.2L15.8%2c16.7l-54.1%2c51.1l3%2c10.5L66.9%2c39.2z'/%3e %3cg%3e %3ccircle class='st3' cx='-35.3' cy='78.3' r='3'/%3e %3ccircle class='st3' cx='-38.3' cy='67.8' r='3'/%3e %3ccircle class='st3' cx='-35.3' cy='78.3' r='3'/%3e %3ccircle class='st3' cx='15.8' cy='16.6' r='3'/%3e %3ccircle class='st3' cx='35.3' cy='51.3' r='3'/%3e %3ccircle class='st3' cx='66.9' cy='39.2' r='3'/%3e %3ccircle class='st3' cx='5.5' cy='47.5' r='3'/%3e %3ccircle class='st3' cx='20.3' cy='54.3' r='3'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg id='labels'%3e %3cg transform='translate(2%2c51)'%3e %3c/g%3e %3cg transform='translate(101%2c0)'%3e %3c/g%3e %3cg transform='translate(85%2c13)'%3e %3c/g%3e %3cg transform='translate(5%2c43)'%3e %3c/g%3e %3cg transform='translate(151%2c0)'%3e %3c/g%3e %3cg transform='translate(3%2c54)'%3e %3c/g%3e %3cg transform='translate(4%2c43)'%3e %3c/g%3e %3cg transform='translate(6%2c57)'%3e %3c/g%3e %3cg transform='translate(5%2c55)'%3e %3c/g%3e %3cg transform='translate(110%2c16)'%3e %3c/g%3e %3cg transform='translate(1%2c51)'%3e %3c/g%3e %3cg transform='translate(27%2c38)'%3e %3c/g%3e %3cg transform='translate(4%2c50)'%3e %3c/g%3e %3cg transform='translate(152%2c16)'%3e %3c/g%3e %3cg transform='translate(5%2c51)'%3e %3c/g%3e %3cg transform='translate(2%2c54)'%3e %3c/g%3e %3cg transform='translate(19%2c39)'%3e %3c/g%3e %3cg transform='translate(64%2c24)'%3e %3c/g%3e %3cg transform='translate(2%2c52)'%3e %3c/g%3e %3cg transform='translate(49%2c38)'%3e %3c/g%3e %3cg transform='translate(6%2c57)'%3e %3c/g%3e %3cg transform='translate(94%2c27)'%3e %3c/g%3e %3cg transform='translate(40%2c36)'%3e %3c/g%3e %3cg transform='translate(10%2c48)'%3e %3c/g%3e %3cg transform='translate(32%2c42)'%3e %3c/g%3e %3cg transform='translate(108%2c24)'%3e %3c/g%3e %3cg transform='translate(81%2c28)'%3e %3c/g%3e %3cg transform='translate(53%2c39)'%3e %3c/g%3e %3cg transform='translate(1%2c54)'%3e %3c/g%3e %3cg transform='translate(74%2c31)'%3e %3c/g%3e %3cg transform='translate(4%2c57)'%3e %3c/g%3e %3cg transform='translate(0%2c54)'%3e %3c/g%3e %3cg transform='translate(96%2c37)'%3e %3c/g%3e %3cg transform='translate(155%2c30)'%3e %3c/g%3e %3cg transform='translate(1%2c57)'%3e %3c/g%3e %3cg transform='translate(3%2c51)'%3e %3c/g%3e %3cg transform='translate(23%2c45)'%3e %3c/g%3e %3cg transform='translate(40%2c40)'%3e %3c/g%3e %3cg transform='translate(40%2c41)'%3e %3c/g%3e %3cg transform='translate(64%2c33)'%3e %3c/g%3e %3cg transform='translate(64%2c29)'%3e %3c/g%3e %3cg transform='translate(40%2c40)'%3e %3c/g%3e %3cg transform='translate(43%2c41)'%3e %3c/g%3e %3cg transform='translate(64%2c40)'%3e %3c/g%3e %3cg transform='translate(85%2c31)'%3e %3c/g%3e %3cg transform='translate(110%2c31)'%3e %3c/g%3e %3cg transform='translate(14%2c50)'%3e %3c/g%3e %3cg transform='translate(85%2c34)'%3e %3c/g%3e %3cg transform='translate(76%2c32)'%3e %3c/g%3e %3cg transform='translate(2%2c55)'%3e %3c/g%3e %3c/g%3e %3cg id='axis'%3e %3cg transform='translate(0%2c60)'%3e %3cpath class='st4' d='M-48.1%2c34.1v-8.3h255.6v8.3'/%3e %3cg transform='translate(0.5%2c0)'%3e %3cline class='st4' x1='-48.6' y1='25.1' x2='-48.6' y2='34.1'/%3e %3ctext transform='matrix(1 0 0 1 -52.7808 49.2707)' class='st5 st6'%3e0%3c/text%3e %3c/g%3e %3cg transform='translate(21.5%2c0)'%3e %3cline class='st4' x1='-38' y1='25.1' x2='-38' y2='34.1'/%3e %3ctext transform='matrix(1 0 0 1 -46.3911 49.2707)' class='st5 st6'%3e50%3c/text%3e %3c/g%3e %3cg transform='translate(43.5%2c0)'%3e %3cline class='st4' x1='-27' y1='25.1' x2='-27' y2='34.1'/%3e %3ctext transform='matrix(1 0 0 1 -39.4995 49.2707)' class='st5 st6'%3e100%3c/text%3e %3c/g%3e %3cg transform='translate(64.5%2c0)'%3e %3cline class='st4' x1='-16.4' y1='25.1' x2='-16.4' y2='34.1'/%3e %3ctext transform='matrix(1 0 0 1 -28.9302 49.2707)' class='st5 st6'%3e150%3c/text%3e %3c/g%3e %3cg transform='translate(85.5%2c0)'%3e %3cline class='st4' x1='-5.8' y1='25.1' x2='-5.8' y2='34.1'/%3e %3ctext transform='matrix(1 0 0 1 -18.3613 49.2707)' class='st5 st6'%3e200%3c/text%3e %3c/g%3e %3cg transform='translate(106.5%2c0)'%3e %3cline class='st4' x1='4.7' y1='25.1' x2='4.7' y2='34.1'/%3e %3ctext transform='matrix(1 0 0 1 -7.793 49.2707)' class='st5 st6'%3e250%3c/text%3e %3c/g%3e %3cg transform='translate(128.5%2c0)'%3e %3cline class='st4' x1='15.8' y1='25.1' x2='15.8' y2='34.1'/%3e %3ctext transform='matrix(1 0 0 1 3.2793 49.2707)' class='st5 st6'%3e300%3c/text%3e %3c/g%3e %3cg transform='translate(149.5%2c0)'%3e %3cline class='st4' x1='26.4' y1='25.1' x2='26.4' y2='34.1'/%3e %3ctext transform='matrix(1 0 0 1 13.8496 49.2707)' class='st5 st6'%3e350%3c/text%3e %3c/g%3e %3cg transform='translate(170.5%2c0)'%3e %3cline class='st4' x1='37' y1='25.1' x2='37' y2='34.1'/%3e %3ctext transform='matrix(1 0 0 1 24.418 49.2707)' class='st5 st6'%3e400%3c/text%3e %3c/g%3e %3c/g%3e %3cpath class='st4' d='M-57.9%2c85.8h9.8V-39.8h-9.8'/%3e %3cline class='st4' x1='-48.9' y1='85.8' x2='-57.9' y2='85.8'/%3e %3ctext transform='matrix(1 0 0 1 -70.7417 90.6301)' class='st5 st6'%3e0%3c/text%3e %3cline class='st4' x1='-48.9' y1='67' x2='-57.9' y2='67'/%3e %3ctext transform='matrix(1 0 0 1 -87.4624 72.694)' class='st5 st6'%3e400%3c/text%3e %3cline class='st4' x1='-48.9' y1='50.2' x2='-57.9' y2='50.2'/%3e %3ctext transform='matrix(1 0 0 1 -87.4624 54.758)' class='st5 st6'%3e800%3c/text%3e %3cline class='st4' x1='-48.9' y1='31.4' x2='-57.9' y2='31.4'/%3e %3ctext transform='matrix(1 0 0 1 -100.0005 36.822)' class='st5 st6'%3e1%2c200%3c/text%3e %3cline class='st4' x1='-48.9' y1='14.6' x2='-57.9' y2='14.6'/%3e %3ctext transform='matrix(1 0 0 1 -100.0005 18.8857)' class='st5 st6'%3e1%2c600%3c/text%3e %3cline class='st4' x1='-48.9' y1='-4.2' x2='-57.9' y2='-4.2'/%3e %3ctext transform='matrix(1 0 0 1 -100.0005 0.9496)' class='st5 st6'%3e2%2c000%3c/text%3e %3cline class='st4' x1='-48.9' y1='-21' x2='-57.9' y2='-21'/%3e %3ctext transform='matrix(1 0 0 1 -100.0005 -16.9861)' class='st5 st6'%3e2%2c400%3c/text%3e %3cline class='st4' x1='-48.9' y1='-39.8' x2='-57.9' y2='-39.8'/%3e %3ctext transform='matrix(1 0 0 1 -100.0005 -34.922)' class='st5 st6'%3e2%2c800%3c/text%3e %3c/g%3e%3c/g%3e%3c/svg%3e\";\n\nconst metadata$e = {\n  name: 'Convex hull',\n  id: 'rawgraphs.convexhull',\n  thumbnail: img$r,\n  icon: img$q,\n  categories: ['correlations', 'proportions'],\n  description: 'In mathematics, the convex hull is the smallest convex shape containing a set of points. Applied to a scatterplot, it is useful to identify points belonging to the same category.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/convexHull',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-convex-hulls-chart/'\n};\n\nconst dimensions$e = [{\n  id: 'x',\n  name: 'X Axis',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'y',\n  name: 'Y Axis',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'group',\n  name: 'Groups',\n  validTypes: ['string'],\n  required: false\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true\n}];\n\nconst mapData$e = {\n  x: 'get',\n  y: 'get',\n  group: 'get',\n  label: 'get'\n};\n\nfunction render$e(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    xOrigin,\n    yOrigin,\n    showPoints,\n    dotsDiameter,\n    groupStrokeWidth,\n    groupOpacity,\n    showLegend,\n    legendWidth,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    colorScale,\n    showLabelsOutline,\n    autoHideLabels,\n    labelStyles\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // x scale\n\n  const xDomain = xOrigin ? [0, max(data, d => d.x)] : extent(data, d => d.x);\n  const x = mapping.x.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  x.domain(xDomain).rangeRound([0, chartWidth]).nice(); // y scale\n\n  const yDomain = yOrigin ? [0, max(data, d => d.y)] : extent(data, d => d.y);\n  const y = mapping.y.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  y.domain(yDomain).rangeRound([chartHeight, 0]).nice();\n\n  const xAxis = g => {\n    return g.attr('transform', `translate(0,${chartHeight})`).call(axisBottom(x)).call(g => g.append('text').attr('x', chartWidth).attr('dy', -5).attr('text-anchor', 'end').text(mapping['x'].value).styles(styles.axisLabel));\n  };\n\n  const yAxis = g => {\n    return g.call(axisLeft(y)).call(g => g.append('text').attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').text(mapping['y'].value).styles(styles.axisLabel));\n  };\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'background');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'visualization');\n  const vizLayer = svg.append('g').attr('id', 'viz');\n  const hullsData = groups(data, d => d.group && d.group.length ? d.group : null);\n  const hulls = vizLayer.selectAll('g.hulls').data(hullsData).join('g').attr('class', 'hulls');\n  hulls.append('path').attr('d', d => {\n    const points = d[1].map(p => [x(p.x), y(p.y)]);\n\n    if (points.length === 1) {\n      return arc()({\n        innerRadius: 0,\n        outerRadius: groupStrokeWidth / 2,\n        startAngle: 0,\n        endAngle: 360\n      });\n    } else if (points.length === 2) {\n      return `M${points.join('L')}Z`;\n    } else {\n      const hull = polygonHull(points);\n      return `M${hull.join('L')}Z`;\n    }\n  }).attr('fill', d => colorScale(d[0])).attr('stroke', d => colorScale(d[0])).attr('stroke-width', d => d[1].length === 1 ? 0 : groupStrokeWidth).attr('stroke-linejoin', 'round').attr('opacity', groupOpacity).filter(d => d[1].length === 1).attr('transform', d => `translate(${x(d[1][0].x)}, ${y(d[1][0].y)})`);\n  const points = hulls.append('g').selectAll('cirlce').data(d => d[1]).join('circle');\n\n  if (showPoints) {\n    points.attr('cx', d => x(d.x)).attr('cy', d => y(d.y)).attr('fill', d => {\n      return colorScale(d.group);\n    }).attr('r', dotsDiameter / 2);\n  }\n\n  const labelsLayer = svg.append('g').attr('id', 'labels');\n  labelsLayer.selectAll('g').data(mapping.label.value ? data : []).join('g').attr('transform', d => `translate(${x(d.x)},${y(d.y)})`).append('text').attr('x', 0).attr('y', 0).attr('text-anchor', 'middle').attr('dominant-baseline', 'text-before-edge').selectAll('tspan').data(d => Array.isArray(d.label) ? d.label : [d.label]).join('tspan').attr('x', 0).attr('y', 0).attr('dy', (d, i) => i * 12).text((d, i) => {\n    if (d && mapping.label.dataType[i].type === 'date') {\n      return timeFormat(dateFormats$1[mapping.label.dataType[i].dateFormat])(d);\n    } else {\n      return d;\n    }\n  }).styles((d, i) => styles[labelStyles[i]]);\n  labelsLayer.selectAll('text').call(sel => {\n    return sel.attr('transform', function (d) {\n      const height = sel.node().getBBox().height;\n      return `translate(0,${-height / 2})`;\n    });\n  });\n  const axisLayer = svg.append('g').attr('id', 'axis');\n  axisLayer.append('g').call(xAxis);\n  axisLayer.append('g').call(yAxis);\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    labelsLayer.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (autoHideLabels) {\n    labelsOcclusion(labelsLayer.selectAll('text'), d => d.size);\n  }\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.group.value) {\n      chartLegend.addColor(mapping.group.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$e = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard',\n    requiredDimensions: ['x', 'y', 'group']\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  xOrigin: {\n    type: 'boolean',\n    label: 'Set X origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  yOrigin: {\n    type: 'boolean',\n    label: 'Set Y origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  groupStrokeWidth: {\n    type: 'number',\n    label: 'Groups stroke width',\n    default: 10,\n    step: 1,\n    min: 1,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  groupOpacity: {\n    type: 'number',\n    label: 'Fill opacity',\n    default: 0.5,\n    step: 0.1,\n    min: 0,\n    max: 1,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  showPoints: {\n    type: 'boolean',\n    label: 'Show dots on data values',\n    default: true,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    default: 2,\n    group: 'chart',\n    disabled: {\n      showPoints: false\n    },\n    requiredDimensions: ['x', 'y']\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'group',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors',\n    requiredDimensions: ['x', 'y']\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic'],\n    requiredDimensions: ['x', 'y', 'label']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels',\n    requiredDimensions: ['x', 'y', 'label']\n  },\n  autoHideLabels: {\n    type: 'boolean',\n    label: 'Auto hide labels',\n    default: false,\n    group: 'labels',\n    requiredDimensions: ['x', 'y', 'label']\n  }\n};\n\nvar convexHull = {\n  metadata: metadata$e,\n  dimensions: dimensions$e,\n  mapData: mapData$e,\n  render: render$e,\n  visualOptions: visualOptions$e,\n  styles: styles$1\n};\n\nvar img$s = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M46.5%2c11V10a16.5921%2c16.5921%2c0%2c0%2c0-9.2656%2c2.5674A15.49%2c15.49%2c0%2c0%2c1%2c28.5%2c15v.5l-.0107-.5c-4.7373.1006-7.0948%2c3.48-9.3741%2c6.75C16.873%2c24.9639%2c14.7559%2c28%2c10.5%2c28v1c4.1914%2c0%2c6.31%2c4.2373%2c8.5527%2c8.7236C21.333%2c42.2842%2c23.6914%2c47%2c28.5%2c47h18V46h-18c-4.1914%2c0-6.31-4.2373-8.5527-8.7236C18.6091%2c34.6%2c17.24%2c31.8778%2c15.3685%2c30.079a17.68%2c17.68%2c0%2c0%2c1%2c3.8%2c2.7945C21.45%2c34.9023%2c23.81%2c37%2c28.5%2c37a23.7614%2c23.7614%2c0%2c0%2c1%2c8.8193%2c1.4717A25.01%2c25.01%2c0%2c0%2c0%2c46.5%2c40V39a23.88%2c23.88%2c0%2c0%2c1-8.8643-1.4766%2c31.9956%2c31.9956%2c0%2c0%2c0-3.1731-.9251c1.1684-.1783%2c2.159-.3938%2c3.1233-.6086A35.3274%2c35.3274%2c0%2c0%2c1%2c46.5%2c35V34a36.1757%2c36.1757%2c0%2c0%2c0-9.1309%2c1.0137A34.7618%2c34.7618%2c0%2c0%2c1%2c28.5%2c36c-4.31%2c0-6.4268-1.8818-8.668-3.8735A16.691%2c16.691%2c0%2c0%2c0%2c15.13%2c28.8706c1.6782-.1031%2c2.9668-.2536%2c4.2171-.4028A57.2912%2c57.2912%2c0%2c0%2c1%2c28.4922%2c28l.0078-.5V28h18V27H28.5078a59.012%2c59.012%2c0%2c0%2c0-9.28.4746c-1.3172.1573-2.6679.317-4.4952.4185%2c2.1915-1.266%2c3.7161-3.4392%2c5.2032-5.5713C22.1693%2c19.1177%2c24.28%2c16.0919%2c28.507%2c16a15.4916%2c15.4916%2c0%2c0%2c1%2c8.7274%2c2.4324A16.5921%2c16.5921%2c0%2c0%2c0%2c46.5%2c21V20a15.5584%2c15.5584%2c0%2c0%2c1-8.7793-2.4409A23.5%2c23.5%2c0%2c0%2c0%2c34.5081%2c16H46.5V15H34.5081a23.5%2c23.5%2c0%2c0%2c0%2c3.2126-1.5591A15.5584%2c15.5584%2c0%2c0%2c1%2c46.5%2c11Z'/%3e %3c/g%3e %3cg id='primary'%3e %3ccircle class='cls-2' cx='10.5' cy='28.5' r='1.5'/%3e %3ccircle class='cls-2' cx='46.5' cy='10.5' r='1.5'/%3e %3ccircle class='cls-2' cx='46.5' cy='15.5' r='1.5'/%3e %3ccircle class='cls-2' cx='46.5' cy='20.5' r='1.5'/%3e %3ccircle class='cls-2' cx='46.5' cy='27.5' r='1.5'/%3e %3ccircle class='cls-2' cx='28.5' cy='27.5' r='1.5'/%3e %3ccircle class='cls-2' cx='28.5' cy='36.5' r='1.5'/%3e %3ccircle class='cls-2' cx='28.5' cy='46.5' r='1.5'/%3e %3ccircle class='cls-2' cx='28.5' cy='15.5' r='1.5'/%3e %3ccircle class='cls-2' cx='46.5' cy='34.5' r='1.5'/%3e %3ccircle class='cls-2' cx='46.5' cy='39.5' r='1.5'/%3e %3ccircle class='cls-2' cx='46.5' cy='46.5' r='1.5'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$t = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-2 %7b fill: none%3b stroke: %23ccc%3b %7d .cls-3 %7b fill: %23ccc%3b %7d .cls-11%2c .cls-16%2c .cls-4%2c .cls-5%2c .cls-6 %7b isolation: isolate%3b %7d .cls-11%2c .cls-16%2c .cls-5%2c .cls-6 %7b font-size: 12px%3b font-family: Helvetica%3b %7d .cls-6 %7b letter-spacing: -0.0547em%3b %7d .cls-7 %7b fill: %23fee89a%3b %7d .cls-8 %7b fill: %23ebf7a6%3b %7d .cls-9 %7b fill: %23a0d9a3%3b %7d .cls-10 %7b fill: %234ba0b1%3b %7d .cls-11 %7b letter-spacing: -0.0366em%3b %7d .cls-12 %7b fill: %235e4fa2%3b %7d .cls-13 %7b fill: %239e0142%3b %7d .cls-14 %7b fill: %23fba35e%3b %7d .cls-15 %7b fill: %23e1524a%3b %7d .cls-16 %7b letter-spacing: -0.0176em%3b %7d %3c/style%3e %3c/defs%3e %3crect id='backgorund' class='cls-1' width='320' height='160'/%3e %3cg id='viz'%3e %3cg id='links'%3e %3cpath class='cls-2' d='M5%2c77.1025c48.6667%2c0%2c48.6667-55.1349%2c97.3333-55.1349'/%3e %3cpath class='cls-2' d='M5%2c77.1025c48.6667%2c0%2c48.6667-.2946%2c97.3333-.2946'/%3e %3cpath class='cls-2' d='M5%2c77.1025c48.6667%2c0%2c48.6667%2c55.43%2c97.3333%2c55.43'/%3e %3cpath class='cls-2' d='M102.3333%2c21.9676c48.6667%2c0%2c48.6667-11.734%2c97.3334-11.734'/%3e %3cpath class='cls-2' d='M102.3333%2c21.9676C151%2c21.9676%2c151%2c33.7015%2c199.6667%2c33.7015'/%3e %3cpath class='cls-2' d='M102.3333%2c76.8079C151%2c76.8079%2c151%2c59.5528%2c199.6667%2c59.5528'/%3e %3cpath class='cls-2' d='M102.3333%2c76.8079c48.6667%2c0%2c48.6667-1%2c97.3334-1'/%3e %3cpath class='cls-2' d='M102.3333%2c76.8079C151%2c76.8079%2c151%2c95.0631%2c199.6667%2c95.0631'/%3e %3cpath class='cls-2' d='M102.3333%2c132.5322c48.6667%2c0%2c48.6667-15.83%2c97.3334-15.83'/%3e %3cpath class='cls-2' d='M102.3333%2c132.5322c48.6667%2c0%2c48.6667-1.4042%2c97.3334-1.4042'/%3e %3cpath class='cls-2' d='M102.3333%2c132.5322c48.6667%2c0%2c48.6667%2c17.2342%2c97.3334%2c17.2342'/%3e %3cpath class='cls-2' d='M199.6667%2c10.2336H297'/%3e %3cpath class='cls-2' d='M199.6667%2c33.7015c48.6666%2c0%2c48.6666-7.213%2c97.3333-7.213'/%3e %3cpath class='cls-2' d='M199.6667%2c33.7015c48.6666%2c0%2c48.6666%2c7.213%2c97.3333%2c7.213'/%3e %3cpath class='cls-2' d='M199.6667%2c75.8077H297'/%3e %3cpath class='cls-2' d='M199.6667%2c95.0631c48.6666%2c0%2c48.6666-7.2129%2c97.3333-7.2129'/%3e %3cpath class='cls-2' d='M199.6667%2c95.0631c48.6666%2c0%2c48.6666%2c7.213%2c97.3333%2c7.213'/%3e %3cpath class='cls-2' d='M199.6667%2c116.7021H297'/%3e %3cpath class='cls-2' d='M199.6667%2c131.128H297'/%3e %3cpath class='cls-2' d='M199.6667%2c149.7664H297'/%3e %3c/g%3e %3cg id='nodes'%3e %3ccircle class='cls-3' cx='5' cy='77.1025' r='5'/%3e %3cg id='C'%3e %3ccircle class='cls-3' cx='102.3333' cy='21.9676' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(85.3344 25.9676)'%3eC%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='A'%3e %3ccircle class='cls-3' cx='102.3333' cy='76.8079' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-6' transform='translate(85.9935 80.8079)'%3eA%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='B'%3e %3ccircle class='cls-3' cx='102.3333' cy='132.5322' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(85.6654 136.5322)'%3eB%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='G'%3e %3ccircle class='cls-7' cx='199.6667' cy='10.2336' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(182.1656 14.2336)'%3eG%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='H'%3e %3ccircle class='cls-8' cx='199.6667' cy='33.7015' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(182.4996 37.7015)'%3eH%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='I'%3e %3ccircle class='cls-9' cx='199.6667' cy='59.5528' r='10'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(212.6664 63.5528)'%3eI%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='L'%3e %3ccircle class='cls-10' cx='199.6667' cy='75.8077' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-11' transform='translate(183.7155 79.8077)'%3eL%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='M'%3e %3ccircle class='cls-12' cx='199.6667' cy='95.0631' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(181.8346 99.0631)'%3eM%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='D'%3e %3ccircle class='cls-13' cx='199.6667' cy='116.7021' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(182.4996 120.7021)'%3eD%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='F'%3e %3ccircle class='cls-14' cx='199.6667' cy='131.128' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(183.1676 135.128)'%3eF%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='E'%3e %3ccircle class='cls-15' cx='199.6667' cy='149.7664' r='5'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(182.8307 153.7664)'%3eE%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='Q'%3e %3ccircle class='cls-7' cx='297' cy='10.2336' r='10'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(308.333 14.2336)'%3eQ%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='R'%3e %3ccircle class='cls-8' cx='297' cy='26.4885' r='5.7735'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(308.667 30.4885)'%3eR%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='S'%3e %3ccircle class='cls-8' cx='297' cy='40.9145' r='8.165'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(308.998 44.9145)'%3eS%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='F-2' data-name='F'%3e %3ccircle class='cls-10' cx='297' cy='75.8077' r='5.7735'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(309.335 79.8077)'%3eF%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='V'%3e %3ccircle class='cls-12' cx='297' cy='87.8502' r='5.7735'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(308.998 91.8502)'%3eV%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='U'%3e %3ccircle class='cls-12' cx='297' cy='102.2761' r='8.165'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(308.667 106.2761)'%3eU%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='N'%3e %3ccircle class='cls-13' cx='297' cy='116.7021' r='5.7735'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(308.667 120.7021)'%3eN%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='P'%3e %3ccircle class='cls-14' cx='297' cy='131.128' r='8.165'/%3e %3cg class='cls-4'%3e %3ctext class='cls-16' transform='translate(309.1035 135.128)'%3eP%3c/text%3e %3c/g%3e %3c/g%3e %3cg id='O'%3e %3ccircle class='cls-15' cx='297' cy='149.7664' r='10'/%3e %3cg class='cls-4'%3e %3ctext class='cls-5' transform='translate(308.333 153.7664)'%3eO%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$f = {\n  name: 'Linear dendrogram',\n  id: 'rawgraphs.lineardendrogram',\n  thumbnail: img$t,\n  icon: img$s,\n  categories: ['hierarchies', 'proportions'],\n  description: 'It displays hierarchically structured data with a tree structure, where the root node is on the left and leaves are on the right. The size of nodes can be used to encode a further quantitative dimension with size and a quantitative or categorical dimension with color.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/dendrogram',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-linear-dendrogram/'\n};\n\nconst dimensions$f = [{\n  id: 'hierarchy',\n  name: 'Hierarchy',\n  validTypes: ['number', 'date', 'string'],\n  required: true,\n  multiple: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true,\n  aggregation: true,\n  aggregationDefault: 'csvDistinct'\n}];\n\nconst mapData$f = function (data, mapping, dataTypes, dimensions) {\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions);\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const labelAggregators = getDimensionAggregator('label', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  };\n  'size' in mapping ? null : mapping.size = {\n    value: undefined\n  };\n  'label' in mapping ? null : mapping.label = {\n    value: undefined\n  };\n  const results = [];\n  rollups(data, v => {\n    const item = {\n      hierarchy: new Map(mapping.hierarchy.value.map(d => [d, v[0][d]])),\n      //get the first one since it's grouped\n      size: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : v.length,\n      color: mapping.color.value ? colorAggregator(v.map(d => d[mapping.color.value])) : 'cells color',\n      label: mapping.label.value ? mapping.label.value.map((label, i) => {\n        return labelAggregators[i](v.map(d => d[label]));\n      }) : undefined // create array of strings\n\n    };\n    results.push(item);\n    return item;\n  }, ...mapping.hierarchy.value.map(level => d => d[level]) // create a grouping for each level of the hierarchy\n  );\n  return results;\n};\n\nfunction render$f(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    // margins\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // legend\n    showLegend,\n    legendWidth,\n    // colors\n    colorScale,\n    maxDiameter,\n    layout,\n    sizeOnlyLeaves,\n    sortBy,\n    // labels\n    showHierarchyLabels,\n    showLabelsOutline,\n    labelStyles\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // create the hierarchical structure\n\n  const nest = rollup(data, v => v[0], ...mapping.hierarchy.value.map(level => d => d.hierarchy.get(level)));\n  const hierarchy$1 = hierarchy(nest) // since maps have also a .size porperty, sum only values for leaves, and not for Maps\n  .sum(d => d[1] instanceof Map ? 0 : d[1].size) // sort nodes according to options\n  .sort((a, b) => {\n    switch (sortBy) {\n      case 'Size (descending)':\n        return descending(a.value, b.value);\n\n      case 'Size (ascending)':\n        return ascending(a.value, b.value);\n\n      case 'Name':\n        return ascending(a.data[0], b.data[0]);\n\n      default:\n        return 0;\n    }\n  }); // filter nodes with empty values in the hierarchy\n  // @TODO check if this works also with empty values in non-leaf nodes\n\n  hierarchy$1.descendants().filter(d => d.data[0] === '') // select nodes with empty key\n  .forEach(d => {\n    const index = d.parent.children.indexOf(d); // get its index in parent's children array\n\n    d.parent.children.splice(index, 1); // remove it\n\n    if (d.parent.children.length == 0) {\n      // if it was the only children\n      d.parent.data[1] = d.data[1]; // move its values to parent\n\n      delete d.parent.children; // and remove the empty children array\n    }\n  }); // size scale\n\n  const sizeScale = scaleSqrt().domain([0, max(hierarchy$1.leaves(), d => d.value)]).range([0, maxDiameter / 2]); // get the total size\n\n  const totalValue = sum(hierarchy$1.leaves(), d => sizeScale(d.value) * 2); // compute padding\n\n  const padding = (chartHeight - totalValue) / (hierarchy$1.leaves().length - 1); // dictionary to choose algorythm according to options\n\n  const layouts = {\n    'Cluster Dendogram': cluster(),\n    Tree: tree()\n  }; // compute the layout\n\n  const tree$1 = nest => {\n    return layouts[layout] // compute according to the options\n    .size([chartHeight, chartWidth]).separation((a, b) => sizeScale(a.value) + sizeScale(b.value) + padding)(hierarchy$1);\n  };\n\n  const root = tree$1(); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'viz');\n  svg.append('g').attr('id', 'links').selectAll('path').data(root.links()).join('path').attr('d', linkHorizontal().x(d => d.y).y(d => d.x)).attr('fill', 'none').attr('stroke', '#ccc');\n  const node = svg.append('g').attr('id', 'nodes').selectAll('g').data(root.descendants()).join('g').attr('id', d => d.data[0]).attr('transform', d => `translate(${d.y},${d.x})`);\n  node.append('circle').attr('fill', function (d) {\n    if ('children' in d) {\n      // if not leaf, check if leaves has the same value\n      const childrenColors = [...new Set(d.leaves().map(l => l.data[1].color))];\n      return childrenColors.length == 1 ? colorScale(childrenColors[0]) : '#ccc';\n    } else {\n      // otherwise, if it's a leaf use its own color\n      return colorScale(d.data[1].color);\n    }\n  }).attr('r', d => {\n    if (sizeOnlyLeaves) {\n      return d.children ? 5 : sizeScale(d.value);\n    } else {\n      return sizeScale(d.value);\n    }\n  });\n  node.filter(d => showHierarchyLabels ? true : !d.children).append('text').attr('text-anchor', d => d.children ? 'end' : 'start').attr('dominant-baseline', 'text-before-edge').selectAll('tspan').data(d => {\n    if (d.children) {\n      return [{\n        string: d.data[0],\n        x: sizeOnlyLeaves ? -6 - 2 : -sizeScale(d.value) - 2,\n        children: true\n      }];\n    } else {\n      const xpos = sizeScale(d.value); // [d.data[0]]\n      // .concat(d.data[1].label)\n      // .map((d) => ({ string: d, x: xpos }))\n\n      return d.data[1].label.map(d => ({\n        string: d,\n        x: xpos + 2\n      }));\n    }\n  }).join('tspan').attr('x', d => d.x).attr('y', 0).attr('dy', (d, i) => i * 12).text(d => d.string).styles((d, i) => {\n    if (d.children) {\n      return styles['labelSecondary'];\n    } else {\n      return styles[labelStyles[i]];\n    }\n  });\n  node.selectAll('text').each(function () {\n    const sel = select(this);\n    sel.attr('transform', function (d) {\n      const height = sel.node().getBBox().height;\n      return `translate(0,${-height / 2})`;\n    });\n  });\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    node.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    chartLegend.addSize(mapping.size.value ? mapping.size.value : 'Number of records', sizeScale, 'circle');\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$f = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 150,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  maxDiameter: {\n    type: 'number',\n    label: 'Max diameter',\n    default: 20,\n    group: 'chart'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  layout: {\n    type: 'text',\n    label: 'Layout algorythm',\n    group: 'chart',\n    options: ['Cluster Dendogram', 'Tree'],\n    default: 'Tree'\n  },\n  sortBy: {\n    type: 'text',\n    label: 'Sort nodes by',\n    group: 'chart',\n    options: ['Size (descending)', 'Size (ascending)', 'Name', 'Original'],\n    default: 'Size (descending)'\n  },\n  sizeOnlyLeaves: {\n    type: 'boolean',\n    label: 'Size only leaf nodes',\n    default: true,\n    group: 'chart'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'color'\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showHierarchyLabels: {\n    type: 'boolean',\n    label: 'Show hierarchy labels',\n    default: true,\n    group: 'labels'\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  }\n};\n\nvar dendrogram = {\n  metadata: metadata$f,\n  dimensions: dimensions$f,\n  mapData: mapData$f,\n  render: render$f,\n  visualOptions: visualOptions$f,\n  styles: styles$1\n};\n\nvar img$u = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3crect class='cls-1' x='34' y='20' width='8' height='4'/%3e %3crect class='cls-1' x='14' y='30' width='22' height='4'/%3e %3crect class='cls-1' x='22' y='35' width='10' height='4'/%3e %3crect class='cls-1' x='28' y='40' width='17' height='4'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 7.5 48 7.5 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3crect class='cls-2' x='8' y='10' width='10' height='4'/%3e %3crect class='cls-2' x='8' y='25' width='6' height='4'/%3e %3crect class='cls-2' x='18' y='15' width='18' height='4'/%3e %3crect class='cls-2' x='30' y='20' width='3' height='4'/%3e %3crect class='cls-2' x='33' y='35' width='7' height='4'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$v = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='utf-8'%3f%3e%3c!-- Generator: Adobe Illustrator 25.1.0%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 320 160' style='enable-background:new 0 0 320 160%3b' xml:space='preserve'%3e%3cstyle type='text/css'%3e .st0%7bfill:white%3b%7d .st1%7bfill:none%3bstroke:black%3b%7d .st2%7bfont-family:'Helvetica'%3b%7d .st3%7bfont-size:10px%3b%7d .st4%7bfont-family:'ArialMT'%3b%7d .st5%7bfill:%23D5EE9F%3b%7d .st6%7bfill:none%3bstroke:%23CCCCCC%3b%7d .st7%7bfill:%239E0142%3b%7d%3c/style%3e%3crect id='background' y='0' class='st0' width='320' height='160'/%3e%3cpath class='st1' d='M10.5%2c146v-5.5h297v5.5'/%3e%3cline class='st1' x1='30.5' y1='140' x2='30.5' y2='146'/%3e%3ctext transform='matrix(1 0 0 1 19.377 156.1)' class='st2 st3'%3e1950%3c/text%3e%3cline class='st1' x1='69.5' y1='140' x2='69.5' y2='146'/%3e%3ctext transform='matrix(1 0 0 1 58.377 156.1)' class='st2 st3'%3e1960%3c/text%3e%3cline class='st1' x1='109.5' y1='140' x2='109.5' y2='146'/%3e%3ctext transform='matrix(1 0 0 1 98.377 156.1)' class='st2 st3'%3e1970%3c/text%3e%3cline class='st1' x1='149.5' y1='140' x2='149.5' y2='146'/%3e%3ctext transform='matrix(1 0 0 1 138.377 156.1)' class='st2 st3'%3e1980%3c/text%3e%3cline class='st1' x1='188.5' y1='140' x2='188.5' y2='146'/%3e%3ctext transform='matrix(1 0 0 1 177.377 156.1)' class='st2 st3'%3e1990%3c/text%3e%3cline class='st1' x1='228.5' y1='140' x2='228.5' y2='146'/%3e%3ctext transform='matrix(1 0 0 1 217.377 156.1)' class='st2 st3'%3e2000%3c/text%3e%3cline class='st1' x1='267.5' y1='140' x2='267.5' y2='146'/%3e%3ctext transform='matrix(1 0 0 1 256.377 156.1)' class='st2 st3'%3e2010%3c/text%3e%3cline class='st1' x1='307.5' y1='140' x2='307.5' y2='146'/%3e%3ctext transform='matrix(1 0 0 1 296.377 156.1)' class='st2 st3'%3e2020%3c/text%3e%3ctext transform='matrix(1 0 0 1 1.8893 14.1364)' class='st4 st3'%3eA%3c/text%3e%3crect x='79' y='5' class='st5' width='10' height='12.3'/%3e%3cline class='st6' x1='10' y1='5' x2='307' y2='5'/%3e%3ctext transform='matrix(1 0 0 1 1.9083 26.4091)' class='st4 st3'%3eB%3c/text%3e%3crect x='225' y='17.3' class='st7' width='28' height='12.3'/%3e%3cline class='st6' x1='10' y1='17.3' x2='307' y2='17.3'/%3e%3ctext transform='matrix(1 0 0 1 1.3566 38.6818)' class='st4 st3'%3eC%3c/text%3e%3crect x='22' y='29.5' class='st5' width='1' height='12.3'/%3e%3cline class='st6' x1='10' y1='29.5' x2='307' y2='29.5'/%3e%3ctext transform='matrix(1 0 0 1 1.3566 50.9545)' class='st4 st3'%3eD%3c/text%3e%3crect x='170' y='41.8' class='st7' width='27' height='12.3'/%3e%3crect x='103.5' y='41.8' class='st5' width='11' height='12.3'/%3e%3cline class='st6' x1='10' y1='41.8' x2='307' y2='41.8'/%3e%3ctext transform='matrix(1 0 0 1 1.9083 63.2273)' class='st4 st3'%3eE%3c/text%3e%3crect x='253' y='54.1' class='st5' width='34' height='12.3'/%3e%3cline class='st6' x1='10' y1='54.1' x2='307' y2='54.1'/%3e%3ctext transform='matrix(1 0 0 1 2.4698 75.5)' class='st4 st3'%3eF%3c/text%3e%3crect x='51' y='66.4' class='st7' width='28' height='12.3'/%3e%3cline class='st6' x1='10' y1='66.4' x2='307' y2='66.4'/%3e%3ctext transform='matrix(1 0 0 1 0.7999 87.7727)' class='st4 st3'%3eG%3c/text%3e%3crect x='117' y='78.6' class='st7' width='25' height='12.3'/%3e%3crect x='296.4' y='78.6' class='st5' width='10.6' height='12.3'/%3e%3cline class='st6' x1='10' y1='78.6' x2='307' y2='78.6'/%3e%3ctext transform='matrix(1 0 0 1 1.3566 100.0455)' class='st4 st3'%3eH%3c/text%3e%3crect x='89' y='90.9' class='st7' width='28' height='12.3'/%3e%3cline class='st6' x1='10' y1='90.9' x2='307' y2='90.9'/%3e%3ctext transform='matrix(1 0 0 1 5.7999 112.3182)' class='st4 st3'%3eI%3c/text%3e%3crect x='23' y='103.2' class='st7' width='28' height='12.3'/%3e%3cline class='st6' x1='10' y1='103.2' x2='307' y2='103.2'/%3e%3ctext transform='matrix(1 0 0 1 3.3785 124.5909)' class='st4 st3'%3eL%3c/text%3e%3crect x='198' y='115.5' class='st5' width='27' height='12.3'/%3e%3cline class='st6' x1='10' y1='115.5' x2='307' y2='115.5'/%3e%3ctext transform='matrix(1 0 0 1 0.2482 136.8636)' class='st4 st3'%3eM%3c/text%3e%3crect x='143' y='127.7' class='st5' width='27' height='12.3'/%3e%3cline class='st6' x1='10' y1='127.7' x2='307' y2='127.7'/%3e%3c/svg%3e\";\n\nconst metadata$g = {\n  name: 'Gantt chart',\n  thumbnail: img$v,\n  icon: img$u,\n  categories: ['time series', 'correlations'],\n  description: 'A Gantt chart is a type of bar chart, developed by Henry Gantt in the 1910s, that illustrates a project schedule. Gantt charts illustrate the start and finish dates of the terminal elements and summary elements of a project.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/ganttChart',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-gantt-chart/'\n};\n\nconst dimensions$g = [{\n  id: 'startDate',\n  name: 'Start date',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'endDate',\n  name: 'End Date',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'group',\n  name: 'Groups',\n  validTypes: ['string'],\n  required: false\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['string'],\n  required: false\n}];\n\nconst mapData$g = {\n  startDate: 'get',\n  endDate: 'get',\n  group: 'get',\n  color: 'get'\n};\n\nfunction render$g(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    sortGroupsBy,\n    showLegend,\n    legendWidth,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    barPadding,\n    colorScale,\n    alignLabels\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom;\n\n  if (mapping.startDate.dataType.type != mapping.endDate.dataType.type) {\n    throw new Error('startDate and endDate must have the same data type');\n  }\n\n  const groups = rollups(data, v => {\n    v.sort((a, b) => ascending(a.startDate, b.startDate));\n    let levels = [],\n        level = 0;\n    v.forEach(function (item) {\n      let l = 0;\n\n      while (overlap(item, levels[l], mapping.startDate.dataType.type)) l++;\n\n      if (!levels[l]) levels[l] = [];\n      levels[l].push({\n        level: l + level,\n        ...item\n      });\n    });\n    level++;\n    return levels.flat();\n  }, d => d.group && d.group.length ? d.group : null);\n  groups.sort((a, b) => {\n    if (!sortGroupsBy) return;\n\n    if (sortGroupsBy === 'group') {\n      return ascending(a[0], b[0]);\n    } else {\n      return d3[sortGroupsBy](a[1][0].startDate, b[1][0].startDate);\n    }\n  }); // x scale\n\n  const xMin = min(data, d => d.startDate);\n  const xMax = max(data, d => d.endDate);\n  const x = mapping.startDate.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  x.domain([xMin, xMax]).rangeRound([0, chartWidth]).nice();\n  const lines = sum(groups, g => max(g[1], d => d.level + 1));\n  const heightScale = scaleBand().domain(range(lines)).range([0, chartHeight]).paddingInner(barPadding).paddingOuter(barPadding / 2).align(1);\n  const lineHeight = heightScale.bandwidth();\n  const lineStep = heightScale.step();\n\n  const xAxis = g => {\n    return g.attr('transform', `translate(0,${chartHeight})`).call(axisBottom(x));\n  };\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'background');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'visualization');\n  const axisLayer = svg.append('g').attr('id', 'axis');\n  axisLayer.append('g').call(xAxis);\n  let stack$1 = stack().keys(groups.map(d => d[0])).value((d, key) => {\n    const a = d.filter(f => f[0] === key)[0];\n    return max(a[1].map(c => c.level)) + 1;\n  });\n  const vizLayer = svg.append('g').attr('id', 'viz');\n  const groupsG = vizLayer.selectAll('g').data(stack$1([groups])).join('g').attr('id', d => d.key).attr('transform', d => `translate(0,${d[0][0] * lineStep})`);\n  groupsG.append('text').attr('x', d => alignLabels ? x(d[0].data[d.index][1][0].startDate) - 4 : -4).attr('y', lineStep / 2).attr('text-anchor', 'end').attr('dominant-baseline', 'middle').text(d => d.key).styles(styles.labelSecondary);\n  groupsG.selectAll('rect').data((d, i) => d[0].data[d.index][1]).join('rect').attr('x', d => x(d.startDate)).attr('y', d => lineStep * d.level + (lineStep - lineHeight) / 2).attr('width', d => max([1, x(d.endDate) - x(d.startDate)])).attr('height', lineHeight).attr('fill', d => colorScale(d.color));\n  groupsG.append('line').attr('x1', 0).attr('y1', 0).attr('x2', chartWidth).attr('y2', 0).styles(styles.axisLine);\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nfunction overlap(item, g, type) {\n  if (!g) return false;\n\n  for (const i in g) {\n    if (type === 'date') {\n      // get time and compare it\n      if (item.startDate.getTime() > g[i].startDate.getTime() && item.startDate.getTime() < g[i].endDate.getTime() || item.endDate.getTime() > g[i].startDate.getTime() && item.endDate.getTime() < g[i].endDate.getTime() || item.startDate.getTime() < g[i].startDate.getTime() && item.endDate.getTime() > g[i].endDate.getTime()) {\n        return true;\n      }\n    } else if (type === 'number') {\n      // if it's a number, just compare values\n      if (item.startDate > g[i].startDate && item.startDate < g[i].endDate || item.endDate > g[i].startDate && item.endDate < g[i].endDate || item.startDate < g[i].startDate && item.endDate > g[i].endDate) {\n        return true;\n      }\n    } else {\n      throw new Error('startDate and endDate must be numbers or dates');\n    }\n  }\n\n  return false;\n}\n\nconst visualOptions$g = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  sortGroupsBy: {\n    type: 'text',\n    label: 'Sort groups by',\n    group: 'chart',\n    options: [{\n      label: 'Original',\n      value: ''\n    }, {\n      label: 'Start date (ascending)',\n      value: 'ascending'\n    }, {\n      label: 'Start date (descending)',\n      value: 'descending'\n    }, {\n      label: 'Name',\n      value: 'group'\n    }],\n    default: ''\n  },\n  barPadding: {\n    type: 'number',\n    label: 'Padding (%)',\n    default: 0,\n    group: 'chart',\n    step: 0.1,\n    min: 0,\n    max: 1\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  alignLabels: {\n    type: 'boolean',\n    label: 'Labels position',\n    default: false,\n    group: 'labels'\n  }\n};\n\nvar ganttChart = {\n  metadata: metadata$g,\n  dimensions: dimensions$g,\n  mapData: mapData$g,\n  render: render$g,\n  visualOptions: visualOptions$g,\n  styles: styles$1\n};\n\nvar img$w = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M25%2c19.79l-6.5-3.7143L12%2c19.79v7.42l6.5%2c3.7143L25%2c27.21ZM17%2c20a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c17%2c20Z'/%3e %3cpath class='cls-1' d='M9%2c29.5043V41.4957l2.5%2c1.4286L18%2c39.21V31.79l-6.5-3.7143ZM16%2c35a1%2c1%2c0%2c1%2c1-1%2c1A1%2c1%2c0%2c0%2c1%2c16%2c35Z'/%3e %3cpath class='cls-1' d='M26%2c43.79V47H39V43.79l-6.5-3.7143ZM34%2c43a1%2c1%2c0%2c1%2c1-1%2c1A1%2c1%2c0%2c0%2c1%2c34%2c43Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 8 48 8 9.939 9.195 11.135 9.195 9.695 7.5 8 5.805 9.695 5.805 11.135 7 9.939 7 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3cpath class='cls-2' d='M32%2c31.79l-6.5-3.7143L19%2c31.79v7.42l6.5%2c3.7143L32%2c39.21ZM21%2c33a1%2c1%2c0%2c1%2c1%2c1%2c1A1%2c1%2c0%2c0%2c1%2c21%2c33Zm2%2c6a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c23%2c39Zm3-5a1%2c1%2c0%2c1%2c1%2c1%2c1A1%2c1%2c0%2c0%2c1%2c26%2c34Zm2%2c6a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c28%2c40Z'/%3e %3cpath class='cls-2' d='M32.5%2c16.0757%2c26%2c19.79v7.42l6.5%2c3.7143L39%2c27.21V19.79ZM28%2c22a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c28%2c22Zm5%2c0a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c33%2c22Zm3%2c5a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c36%2c27Z'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$x = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-19 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: %2369bda9%3b %7d .cls-3%2c .cls-4 %7b opacity: 0.25%3b %7d .cls-20%2c .cls-3%2c .cls-4%2c .cls-5%2c .cls-6 %7b isolation: isolate%3b %7d .cls-16%2c .cls-4%2c .cls-5%2c .cls-6 %7b fill: %239e0142%3b %7d .cls-5 %7b opacity: 0.5%3b %7d .cls-6 %7b opacity: 0.75%3b %7d .cls-7 %7b clip-path: url(%23clip-path-5)%3b %7d .cls-8 %7b clip-path: url(%23clip-path-7)%3b %7d .cls-9 %7b fill: %23f6cc86%3b %7d .cls-10 %7b fill: %23fedd8d%3b %7d .cls-11 %7b fill: %23e6a978%3b %7d .cls-12 %7b fill: %23cd7663%3b %7d .cls-13 %7b fill: %23de9871%3b %7d .cls-14 %7b fill: %23d6876a%3b %7d .cls-15 %7b fill: %23c4645d%3b %7d .cls-17 %7b fill: %23bb5256%3b %7d .cls-18 %7b fill: %23eeba7f%3b %7d .cls-19 %7b stroke: black%3b %7d .cls-20 %7b font-size: 10px%3b font-family: ArialMT%2c Arial%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect class='cls-1' y='211.00006' width='320' height='21.66667'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-5'%3e %3crect class='cls-1' y='235.66692' width='320' height='21.66667'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-7'%3e %3crect class='cls-1' x='20' y='1' width='300' height='140'/%3e %3c/clipPath%3e %3c/defs%3e %3cg%3e %3cg%3e %3cg class='cls-2'%3e %3cpath class='cls-3' d='M0%2c160.39739c15.99124%2c0%2c15.99124%2c123.4529%2c31.98248%2c123.4529S47.97371%2c189.02235%2c63.965%2c189.02235c16.035%2c0%2c16.035%2c93.1051%2c32.0701%2c93.1051%2c15.99123%2c0%2c15.99123-118.83865%2c31.98247-118.83865s15.99124-.06693%2c31.98248-.06693%2c15.99124%2c46.58451%2c31.98248%2c46.58451c16.035%2c0%2c16.035-14.0354%2c32.07009-14.0354%2c15.99124%2c0%2c15.99124%2c6.891%2c31.98246%2c6.891s15.99125-56.66193%2c31.98249-56.66193S304.00876%2c170.74812%2c320%2c170.74812v61.91861H0Z'/%3e %3c/g%3e %3cg class='cls-2'%3e %3cpath class='cls-4' d='M0%2c138.73073c15.99124%2c0%2c15.99124%2c123.45289%2c31.98248%2c123.45289S47.97371%2c167.35569%2c63.965%2c167.35569c16.035%2c0%2c16.035%2c93.10509%2c32.0701%2c93.10509%2c15.99123%2c0%2c15.99123-118.83865%2c31.98247-118.83865S144.00876%2c141.5552%2c160%2c141.5552s15.99124%2c46.58451%2c31.98248%2c46.58451c16.035%2c0%2c16.035-14.0354%2c32.07009-14.0354%2c15.99124%2c0%2c15.99124%2c6.891%2c31.98246%2c6.891s15.99125-56.66193%2c31.98249-56.66193S304.00876%2c149.08145%2c320%2c149.08145v61.91861H0Z'/%3e %3c/g%3e %3cg class='cls-2'%3e %3cpath class='cls-5' d='M0%2c117.06406c15.99124%2c0%2c15.99124%2c123.4529%2c31.98248%2c123.4529S47.97371%2c145.689%2c63.965%2c145.689c16.035%2c0%2c16.035%2c93.1051%2c32.0701%2c93.1051%2c15.99123%2c0%2c15.99123-118.83865%2c31.98247-118.83865s15.99124-.06693%2c31.98248-.06693%2c15.99124%2c46.5845%2c31.98248%2c46.5845c16.035%2c0%2c16.035-14.03539%2c32.07009-14.03539%2c15.99124%2c0%2c15.99124%2c6.891%2c31.98246%2c6.891s15.99125-56.66192%2c31.98249-56.66192S304.00876%2c127.41479%2c320%2c127.41479v61.9186H0Z'/%3e %3c/g%3e %3cg class='cls-2'%3e %3cpath class='cls-6' d='M0%2c95.39739c15.99124%2c0%2c15.99124%2c123.4529%2c31.98248%2c123.4529S47.97371%2c124.02235%2c63.965%2c124.02235c16.035%2c0%2c16.035%2c93.1051%2c32.0701%2c93.1051%2c15.99123%2c0%2c15.99123-118.83865%2c31.98247-118.83865S144.00876%2c98.22187%2c160%2c98.22187s15.99124%2c46.58451%2c31.98248%2c46.58451c16.035%2c0%2c16.035-14.0354%2c32.07009-14.0354%2c15.99124%2c0%2c15.99124%2c6.891%2c31.98246%2c6.891s15.99125-56.66192%2c31.98249-56.66192S304.00876%2c105.74812%2c320%2c105.74812v61.91861H0Z'/%3e %3c/g%3e %3c/g%3e %3cg%3e %3cg class='cls-7'%3e %3cpath class='cls-4' d='M0%2c153.53923c15.99124%2c0%2c15.99124%2c7.81562%2c31.98248%2c7.81562s15.99123%2c80.513%2c31.98247%2c80.513c16.035%2c0%2c16.035-40.4657%2c32.0701-40.4657%2c15.99123%2c0%2c15.99123%2c22.22969%2c31.98247%2c22.22969S144.00876%2c213.53575%2c160%2c213.53575s15.99124-54.05453%2c31.98248-54.05453c16.035%2c0%2c16.035%2c69.90757%2c32.07009%2c69.90757%2c15.99124%2c0%2c15.99124%2c33.73491%2c31.98246%2c33.73491s15.99125-49.05008%2c31.98249-49.05008S304.00876%2c149.00025%2c320%2c149.00025v86.66667H0Z'/%3e %3c/g%3e %3cg class='cls-7'%3e %3cpath class='cls-5' d='M0%2c131.87257c15.99124%2c0%2c15.99124%2c7.81562%2c31.98248%2c7.81562s15.99123%2c80.513%2c31.98247%2c80.513c16.035%2c0%2c16.035-40.4657%2c32.0701-40.4657%2c15.99123%2c0%2c15.99123%2c22.2297%2c31.98247%2c22.2297S144.00876%2c191.86908%2c160%2c191.86908s15.99124-54.05452%2c31.98248-54.05452c16.035%2c0%2c16.035%2c69.90757%2c32.07009%2c69.90757%2c15.99124%2c0%2c15.99124%2c33.7349%2c31.98246%2c33.7349S272.02628%2c192.407%2c288.01752%2c192.407%2c304.00876%2c127.33359%2c320%2c127.33359v86.66666H0Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3cg class='cls-8'%3e %3cg%3e %3cpath class='cls-9' d='M41.56922%2c8l13.8564%2c8V32l-13.8564%2c8L27.71281%2c32V16Z'/%3e %3cpath class='cls-10' d='M55.42562%2c80%2c69.282%2c88v16l-13.85641%2c8-13.8564-8V88Z'/%3e %3cpath class='cls-10' d='M69.282%2c8l13.8564%2c8V32L69.282%2c40%2c55.42563%2c32V16Z'/%3e %3cpath class='cls-10' d='M69.282%2c104l13.8564%2c8v16L69.282%2c136l-13.85641-8V112Z'/%3e %3cpath class='cls-11' d='M83.13844%2c80l13.8564%2c8v16l-13.8564%2c8L69.282%2c104V88Z'/%3e %3cpath class='cls-12' d='M96.99484%2c56l13.85641%2c8V80L96.99484%2c88l-13.8564-8V64Z'/%3e %3cpath class='cls-10' d='M96.99484%2c104l13.85641%2c8v16l-13.85641%2c8-13.8564-8V112Z'/%3e %3cpath class='cls-13' d='M96.99484%2c8l13.85641%2c8V32L96.99484%2c40l-13.8564-8V16Z'/%3e %3cpath class='cls-10' d='M83.13844%2c32l13.8564%2c8V56l-13.8564%2c8L69.282%2c56V40Z'/%3e %3cpath class='cls-13' d='M110.85125%2c32l13.85641%2c8V56l-13.85641%2c8L96.99484%2c56V40Z'/%3e %3cpath class='cls-10' d='M110.85125%2c80l13.85641%2c8v16l-13.85641%2c8-13.85641-8V88Z'/%3e %3cpath class='cls-12' d='M124.70766%2c56l13.8564%2c8V80l-13.8564%2c8-13.85641-8V64Z'/%3e %3cpath class='cls-14' d='M124.70766%2c8l13.8564%2c8V32l-13.8564%2c8-13.85641-8V16Z'/%3e %3cpath class='cls-15' d='M138.56407%2c80l13.85641%2c8v16l-13.85641%2c8-13.8564-8V88Z'/%3e %3cpath class='cls-16' d='M138.56407%2c32l13.85641%2c8V56l-13.85641%2c8-13.8564-8V40Z'/%3e %3cpath class='cls-17' d='M152.42047%2c56l13.85641%2c8V80l-13.85641%2c8-13.85641-8V64Z'/%3e %3cpath class='cls-15' d='M166.27687%2c32l13.85641%2c8V56l-13.85641%2c8-13.85641-8V40Z'/%3e %3cpath class='cls-15' d='M166.27687%2c80l13.85641%2c8v16l-13.85641%2c8-13.85641-8V88Z'/%3e %3cpath class='cls-10' d='M152.42047%2c8l13.85641%2c8V32l-13.85641%2c8-13.85641-8V16Z'/%3e %3cpath class='cls-10' d='M152.42047%2c104l13.85641%2c8v16l-13.85641%2c8-13.85641-8V112Z'/%3e %3cpath class='cls-17' d='M180.13329%2c56l13.8564%2c8V80l-13.8564%2c8-13.85641-8V64Z'/%3e %3cpath class='cls-11' d='M180.13329%2c8l13.8564%2c8V32l-13.8564%2c8-13.85641-8V16Z'/%3e %3cpath class='cls-18' d='M180.13329%2c104l13.8564%2c8v16l-13.8564%2c8-13.85641-8V112Z'/%3e %3cpath class='cls-12' d='M193.98969%2c32l13.8564%2c8V56l-13.8564%2c8-13.85641-8V40Z'/%3e %3cpath class='cls-12' d='M193.98969%2c80l13.8564%2c8v16l-13.8564%2c8-13.85641-8V88Z'/%3e %3cpath class='cls-9' d='M193.98969-16l13.8564%2c8V8l-13.8564%2c8L180.13328%2c8V-8Z'/%3e %3cpath class='cls-11' d='M207.8461%2c8l13.85641%2c8V32L207.8461%2c40l-13.85641-8V16Z'/%3e %3cpath class='cls-14' d='M207.8461%2c56l13.85641%2c8V80L207.8461%2c88l-13.85641-8V64Z'/%3e %3cpath class='cls-12' d='M221.7025%2c32l13.85641%2c8V56L221.7025%2c64l-13.85641-8V40Z'/%3e %3cpath class='cls-12' d='M221.7025%2c80l13.85641%2c8v16l-13.85641%2c8-13.85641-8V88Z'/%3e %3cpath class='cls-15' d='M235.55891%2c8l13.85641%2c8V32l-13.85641%2c8-13.8564-8V16Z'/%3e %3cpath class='cls-17' d='M235.55891%2c56l13.85641%2c8V80l-13.85641%2c8-13.8564-8V64Z'/%3e %3cpath class='cls-11' d='M249.41531%2c32l13.85641%2c8V56l-13.85641%2c8-13.8564-8V40Z'/%3e %3cpath class='cls-10' d='M249.41531%2c80l13.85641%2c8v16l-13.85641%2c8-13.8564-8V88Z'/%3e %3cpath class='cls-10' d='M235.55891%2c104l13.85641%2c8v16l-13.85641%2c8-13.8564-8V112Z'/%3e %3cpath class='cls-14' d='M263.27173%2c56l13.8564%2c8V80l-13.8564%2c8-13.85641-8V64Z'/%3e %3cpath class='cls-10' d='M263.27173%2c104l13.8564%2c8v16l-13.8564%2c8-13.85641-8V112Z'/%3e %3cpath class='cls-18' d='M263.27173%2c8l13.8564%2c8V32l-13.8564%2c8-13.85641-8V16Z'/%3e %3cpath class='cls-17' d='M277.12814%2c32l13.85641%2c8V56l-13.85641%2c8-13.8564-8V40Z'/%3e %3cpath class='cls-9' d='M277.12814%2c80l13.85641%2c8v16l-13.85641%2c8-13.8564-8V88Z'/%3e %3cpath class='cls-10' d='M290.98453%2c8l13.8564%2c8V32l-13.8564%2c8-13.85641-8V16Z'/%3e %3cpath class='cls-14' d='M290.98453%2c56l13.8564%2c8V80l-13.8564%2c8-13.85641-8V64Z'/%3e %3cpath class='cls-18' d='M304.84094%2c32l13.85641%2c8V56l-13.85641%2c8-13.8564-8V40Z'/%3e %3cpath class='cls-10' d='M332.55374%2c32l13.85641%2c8V56l-13.85641%2c8-13.8564-8V40Z'/%3e %3c/g%3e %3c/g%3e %3ccircle cx='38.32304' cy='21.59011' r='1'/%3e %3ccircle cx='52.49576' cy='23.40932' r='1'/%3e %3ccircle cx='60.44576' cy='83.39714' r='1'/%3e %3ccircle cx='65.61005' cy='31.1316' r='1'/%3e %3ccircle cx='74.60188' cy='111.85838' r='1'/%3e %3ccircle cx='77.76858' cy='90.94259' r='1'/%3e %3ccircle cx='86.61999' cy='74.25496' r='1'/%3e %3ccircle cx='86.6712' cy='83.70636' r='1'/%3e %3ccircle cx='87.42301' cy='109.35522' r='1'/%3e %3ccircle cx='88.92403' cy='24.47722' r='1'/%3e %3ccircle cx='90.39632' cy='66.83188' r='1'/%3e %3ccircle cx='91.98116' cy='42.52938' r='1'/%3e %3ccircle cx='92.47073' cy='25.87473' r='1'/%3e %3ccircle cx='92.61495' cy='88.46284' r='1'/%3e %3ccircle cx='93.02405' cy='94.83081' r='1'/%3e %3ccircle cx='94.22984' cy='67.54187' r='1'/%3e %3ccircle cx='96.94691' cy='58.4642' r='1'/%3e %3ccircle cx='100.42859' cy='82.48258' r='1'/%3e %3ccircle cx='102.52311' cy='35.11887' r='1'/%3e %3ccircle cx='103.24899' cy='38.21585' r='1'/%3e %3ccircle cx='103.36072' cy='75.21193' r='1'/%3e %3ccircle cx='103.78277' cy='60.32384' r='1'/%3e %3ccircle cx='105.33926' cy='32.87811' r='1'/%3e %3ccircle cx='107.0835' cy='91.84366' r='1'/%3e %3ccircle cx='108.5004' cy='21.95532' r='1'/%3e %3ccircle cx='113.01394' cy='73.88742' r='1'/%3e %3ccircle cx='113.41276' cy='19.67751' r='1'/%3e %3ccircle cx='114.19029' cy='45.92928' r='1'/%3e %3ccircle cx='118.76965' cy='23.94542' r='1'/%3e %3ccircle cx='119.43156' cy='60.12417' r='1'/%3e %3ccircle cx='119.77742' cy='25.44837' r='1'/%3e %3ccircle cx='121.20637' cy='57.13057' r='1'/%3e %3ccircle cx='123.49448' cy='36.78326' r='1'/%3e %3ccircle cx='123.69561' cy='46.00414' r='1'/%3e %3ccircle cx='123.99655' cy='49.204' r='1'/%3e %3ccircle cx='124.6083' cy='36.1407' r='1'/%3e %3ccircle cx='126.08316' cy='76.35784' r='1'/%3e %3ccircle cx='126.22024' cy='98.07559' r='1'/%3e %3ccircle cx='130.09554' cy='100.19208' r='1'/%3e %3ccircle cx='130.87027' cy='90.20223' r='1'/%3e %3ccircle cx='131.0865' cy='66.85661' r='1'/%3e %3ccircle cx='131.21321' cy='38.97204' r='1'/%3e %3ccircle cx='131.93437' cy='62.47405' r='1'/%3e %3ccircle cx='132.31859' cy='42.89193' r='1'/%3e %3ccircle cx='132.32964' cy='49.67204' r='1'/%3e %3ccircle cx='133.2731' cy='54.61587' r='1'/%3e %3ccircle cx='133.77255' cy='90.07927' r='1'/%3e %3ccircle cx='133.80344' cy='32.68693' r='1'/%3e %3ccircle cx='133.9249' cy='101.40845' r='1'/%3e %3ccircle cx='134.72356' cy='106.09485' r='1'/%3e %3ccircle cx='135.37085' cy='64.2074' r='1'/%3e %3ccircle cx='136.16492' cy='40.41228' r='1'/%3e %3ccircle cx='136.40849' cy='61.49956' r='1'/%3e %3ccircle cx='136.68027' cy='86.60569' r='1'/%3e %3ccircle cx='136.87006' cy='49.71107' r='1'/%3e %3ccircle cx='137.74294' cy='80.37561' r='1'/%3e %3ccircle cx='140.3351' cy='97.18262' r='1'/%3e %3ccircle cx='140.87508' cy='50.70391' r='1'/%3e %3ccircle cx='141.57964' cy='48.53189' r='1'/%3e %3ccircle cx='142.03073' cy='47.16108' r='1'/%3e %3ccircle cx='144.50058' cy='51.84983' r='1'/%3e %3ccircle cx='145.42189' cy='77.10619' r='1'/%3e %3ccircle cx='146.08997' cy='61.58826' r='1'/%3e %3ccircle cx='146.94292' cy='82.83745' r='1'/%3e %3ccircle cx='147.34398' cy='63.22549' r='1'/%3e %3ccircle cx='149.25877' cy='62.20906' r='1'/%3e %3ccircle cx='150.77028' cy='62.8127' r='1'/%3e %3ccircle cx='151.98093' cy='42.36312' r='1'/%3e %3ccircle cx='152.823' cy='69.39218' r='1'/%3e %3ccircle cx='153.22781' cy='50.84964' r='1'/%3e %3ccircle cx='154.60042' cy='105.42798' r='1'/%3e %3ccircle cx='154.77328' cy='57.07066' r='1'/%3e %3ccircle cx='154.81825' cy='12.60605' r='1'/%3e %3ccircle cx='157.89113' cy='101.19066' r='1'/%3e %3ccircle cx='160.114' cy='87.40966' r='1'/%3e %3ccircle cx='161.47189' cy='61.61201' r='1'/%3e %3ccircle cx='161.71721' cy='39.96188' r='1'/%3e %3ccircle cx='165.65215' cy='77.71542' r='1'/%3e %3ccircle cx='165.72305' cy='121.53084' r='1'/%3e %3ccircle cx='166.34642' cy='77.38549' r='1'/%3e %3ccircle cx='166.9825' cy='52.1261' r='1'/%3e %3ccircle cx='167.19795' cy='52.6883' r='1'/%3e %3ccircle cx='168.95061' cy='67.56242' r='1'/%3e %3ccircle cx='169.14148' cy='35.49652' r='1'/%3e %3ccircle cx='169.7359' cy='87.85641' r='1'/%3e %3ccircle cx='169.78708' cy='24.64887' r='1'/%3e %3ccircle cx='170.70462' cy='87.20129' r='1'/%3e %3ccircle cx='173.07762' cy='89.27888' r='1'/%3e %3ccircle cx='174.33919' cy='24.05409' r='1'/%3e %3ccircle cx='174.64963' cy='73.96477' r='1'/%3e %3ccircle cx='174.7056' cy='49.59632' r='1'/%3e %3ccircle cx='174.87241' cy='78.03171' r='1'/%3e %3ccircle cx='175.52103' cy='58.93037' r='1'/%3e %3ccircle cx='175.70824' cy='68.96045' r='1'/%3e %3ccircle cx='176.99036' cy='103.52292' r='1'/%3e %3ccircle cx='177.54295' cy='94.58658' r='1'/%3e %3ccircle cx='178.91647' cy='84.58635' r='1'/%3e %3ccircle cx='179.25645' cy='71.96732' r='1'/%3e %3ccircle cx='179.97984' cy='31.36624' r='1'/%3e %3ccircle cx='181.87665' cy='14.14998' r='1'/%3e %3ccircle cx='182.87769' cy='118.43027' r='1'/%3e %3ccircle cx='186.50861' cy='113.32676' r='1'/%3e %3ccircle cx='186.8208' cy='54.89283' r='1'/%3e %3ccircle cx='187.77008' cy='44.21973' r='1'/%3e %3ccircle cx='188.59694' cy='84.49614' r='1'/%3e %3ccircle cx='188.82339' cy='12.5896' r='1'/%3e %3ccircle cx='189.82109' cy='92.87805' r='1'/%3e %3ccircle cx='189.82338' cy='41.45876' r='1'/%3e %3ccircle cx='191.26877' cy='81.20064' r='1'/%3e %3ccircle cx='191.78523' r='1'/%3e %3ccircle cx='192.60437' cy='113.95029' r='1'/%3e %3ccircle cx='193.30939' cy='78.82208' r='1'/%3e %3ccircle cx='193.55406' cy='49.28883' r='1'/%3e %3ccircle cx='196.43811' cy='37.29371' r='1'/%3e %3ccircle cx='196.99081' cy='107.28347' r='1'/%3e %3ccircle cx='197.70358' cy='16.64383' r='1'/%3e %3ccircle cx='201.13907' cy='48.16805' r='1'/%3e %3ccircle cx='201.74266' cy='90.48852' r='1'/%3e %3ccircle cx='204.56349' cy='91.96473' r='1'/%3e %3ccircle cx='204.94' cy='62.8555' r='1'/%3e %3ccircle cx='205.54945' cy='42.53102' r='1'/%3e %3ccircle cx='206.48604' cy='85.98101' r='1'/%3e %3ccircle cx='206.95169' cy='37.81148' r='1'/%3e %3ccircle cx='206.97296' cy='94.87657' r='1'/%3e %3ccircle cx='207.34442' cy='93.82526' r='1'/%3e %3ccircle cx='207.97401' cy='50.26892' r='1'/%3e %3ccircle cx='210.34674' cy='93.73812' r='1'/%3e %3ccircle cx='211.01447' cy='15.12615' r='1'/%3e %3ccircle cx='211.21385' cy='60.4245' r='1'/%3e %3ccircle cx='211.36311' cy='29.83943' r='1'/%3e %3ccircle cx='214.50754' cy='98.21217' r='1'/%3e %3ccircle cx='214.65407' cy='70.84876' r='1'/%3e %3ccircle cx='215.18466' cy='81.12201' r='1'/%3e %3ccircle cx='216.43739' cy='35.68865' r='1'/%3e %3ccircle cx='216.47025' cy='56.91173' r='1'/%3e %3ccircle cx='217.02846' cy='67.11412' r='1'/%3e %3ccircle cx='217.42155' cy='41.28229' r='1'/%3e %3ccircle cx='219.084' cy='59.86183' r='1'/%3e %3ccircle cx='220.30133' cy='87.2547' r='1'/%3e %3ccircle cx='221.41441' cy='90.66864' r='1'/%3e %3ccircle cx='222.07625' cy='32.90704' r='1'/%3e %3ccircle cx='224.03835' cy='38.66934' r='1'/%3e %3ccircle cx='225.72844' cy='89.99196' r='1'/%3e %3ccircle cx='227.83069' cy='51.31975' r='1'/%3e %3ccircle cx='228.17136' cy='90.39344' r='1'/%3e %3ccircle cx='230.02266' cy='35.07605' r='1'/%3e %3ccircle cx='232.414' cy='81.09338' r='1'/%3e %3ccircle cx='234.08897' cy='98.90989' r='1'/%3e %3ccircle cx='235.07846' cy='32.54391' r='1'/%3e %3ccircle cx='235.29201' cy='72.77258' r='1'/%3e %3ccircle cx='237.09044' cy='28.48392' r='1'/%3e %3ccircle cx='237.68578' cy='43.5965' r='1'/%3e %3ccircle cx='238.19859' cy='35.17629' r='1'/%3e %3ccircle cx='238.4971' cy='85.15779' r='1'/%3e %3ccircle cx='239.32925' cy='81.05579' r='1'/%3e %3ccircle cx='239.52365' cy='72.70513' r='1'/%3e %3ccircle cx='240.0152' cy='23.24623' r='1'/%3e %3ccircle cx='241.3036' cy='91.93377' r='1'/%3e %3ccircle cx='241.32759' cy='63.01525' r='1'/%3e %3ccircle cx='241.49347' cy='77.62574' r='1'/%3e %3ccircle cx='241.69844' cy='67.28675' r='1'/%3e %3ccircle cx='243.40215' cy='75.10258' r='1'/%3e %3ccircle cx='244.67767' cy='28.65452' r='1'/%3e %3ccircle cx='244.71338' cy='111.62005' r='1'/%3e %3ccircle cx='249.21855' cy='31.44456' r='1'/%3e %3ccircle cx='250.4653' cy='36.55717' r='1'/%3e %3ccircle cx='251.43118' cy='36.06714' r='1'/%3e %3ccircle cx='255.25816' cy='60.1146' r='1'/%3e %3ccircle cx='259.49341' cy='61.9194' r='1'/%3e %3ccircle cx='260.64539' cy='70.75118' r='1'/%3e %3ccircle cx='261.1203' cy='66.2985' r='1'/%3e %3ccircle cx='263.62469' cy='108.00381' r='1'/%3e %3ccircle cx='266.69278' cy='33.42341' r='1'/%3e %3ccircle cx='268.05728' cy='38.05266' r='1'/%3e %3ccircle cx='268.12283' cy='75.59389' r='1'/%3e %3ccircle cx='268.42709' cy='14.44066' r='1'/%3e %3ccircle cx='269.60773' cy='60.48765' r='1'/%3e %3ccircle cx='270.6351' cy='50.92056' r='1'/%3e %3ccircle cx='272.01401' cy='91.03019' r='1'/%3e %3ccircle cx='273.73779' cy='76.68768' r='1'/%3e %3ccircle cx='275.45755' cy='53.92678' r='1'/%3e %3ccircle cx='276.69852' cy='28.57115' r='1'/%3e %3ccircle cx='277.9133' cy='49.51331' r='1'/%3e %3ccircle cx='278.15622' cy='26.34691' r='1'/%3e %3ccircle cx='279.41553' cy='87.46078' r='1'/%3e %3ccircle cx='281.14722' cy='53.95106' r='1'/%3e %3ccircle cx='281.36905' cy='39.35709' r='1'/%3e %3ccircle cx='282.95462' cy='69.15512' r='1'/%3e %3ccircle cx='283.33459' cy='58.45011' r='1'/%3e %3ccircle cx='288.10764' cy='63.43238' r='1'/%3e %3ccircle cx='289.0979' cy='41.32912' r='1'/%3e %3ccircle cx='290.58533' cy='39.29733' r='1'/%3e %3ccircle cx='291.59796' cy='65.10077' r='1'/%3e %3ccircle cx='295.14908' cy='79.89216' r='1'/%3e %3ccircle cx='296.42517' cy='56.1131' r='1'/%3e %3ccircle cx='296.88855' cy='60.54775' r='1'/%3e %3ccircle cx='298.17368' cy='52.00466' r='1'/%3e %3ccircle cx='302.94003' cy='65.00423' r='1'/%3e %3ccircle cx='305.71429' cy='59.70079' r='1'/%3e %3ccircle cx='320' cy='53.3843' r='1'/%3e %3cg%3e %3cpath class='cls-19' d='M14%2c140.5h6.5V.5H14'/%3e %3cg%3e %3cline class='cls-19' x1='20' y1='140.5' x2='14' y2='140.5'/%3e %3ctext class='cls-20' transform='translate(5.43848 143.69998)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='20' y1='123.68075' x2='14' y2='123.68075'/%3e %3ctext class='cls-20' transform='translate(-0.12305 126.88074)'%3e10%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='20' y1='106.86152' x2='14' y2='106.86152'/%3e %3ctext class='cls-20' transform='translate(-0.12305 110.06152)'%3e20%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='20' y1='90.04227' x2='14' y2='90.04227'/%3e %3ctext class='cls-20' transform='translate(-0.12305 93.24228)'%3e30%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='20' y1='73.22304' x2='14' y2='73.22304'/%3e %3ctext class='cls-20' transform='translate(-0.12305 76.42303)'%3e40%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='20' y1='56.40379' x2='14' y2='56.40379'/%3e %3ctext class='cls-20' transform='translate(-0.12305 59.60379)'%3e50%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='20' y1='39.58455' x2='14' y2='39.58455'/%3e %3ctext class='cls-20' transform='translate(-0.12305 42.78455)'%3e60%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='20' y1='22.76531' x2='14' y2='22.76531'/%3e %3ctext class='cls-20' transform='translate(-0.12305 25.9653)'%3e70%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='20' y1='5.94607' x2='14' y2='5.94607'/%3e %3ctext class='cls-20' transform='translate(-0.12305 9.14609)'%3e80%3c/text%3e %3c/g%3e %3c/g%3e %3cg%3e %3cpath class='cls-19' d='M20.5%2c146v-5.5h300V146'/%3e %3cg%3e %3cline class='cls-19' x1='20.5' y1='140' x2='20.5' y2='146'/%3e %3ctext class='cls-20' transform='translate(17.71924 156.10001)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='57.5048' y1='140' x2='57.5048' y2='146'/%3e %3ctext class='cls-20' transform='translate(51.94324 156.10001)'%3e10%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='94.50961' y1='140' x2='94.50961' y2='146'/%3e %3ctext class='cls-20' transform='translate(88.94812 156.10001)'%3e20%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='131.5144' y1='140' x2='131.5144' y2='146'/%3e %3ctext class='cls-20' transform='translate(125.95288 156.10001)'%3e30%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='168.51921' y1='140' x2='168.51921' y2='146'/%3e %3ctext class='cls-20' transform='translate(162.95764 156.10001)'%3e40%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='205.524' y1='140' x2='205.524' y2='146'/%3e %3ctext class='cls-20' transform='translate(199.96252 156.10001)'%3e50%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='242.52881' y1='140' x2='242.52881' y2='146'/%3e %3ctext class='cls-20' transform='translate(236.96729 156.10001)'%3e60%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='279.5336' y1='140' x2='279.5336' y2='146'/%3e %3ctext class='cls-20' transform='translate(273.97205 156.10001)'%3e70%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-19' x1='316.53842' y1='140' x2='316.53842' y2='146'/%3e %3ctext class='cls-20' transform='translate(310.97693 156.10001)'%3e80%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$h = {\n  name: 'Hexagonal binning',\n  id: 'rawgraphs.hexagonalbinning',\n  thumbnail: img$x,\n  icon: img$w,\n  categories: ['correlations', 'distributions'],\n  description: 'Hexagonal Binning is a way to manage the problem of having too many points that start to overlap. Hexagonal binning plots density, rather than points. Points are binned into gridded hexagons and distribution (the number of points per hexagon) is displayed using either the color or the area of the hexagons.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/hexagonalBinning',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-an-hexagonal-binning/'\n};\n\nconst dimensions$h = [{\n  id: 'x',\n  name: 'X Axis',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'y',\n  name: 'Y Axis',\n  validTypes: ['number', 'date'],\n  required: true\n}];\n\nconst mapData$h = {\n  x: 'get',\n  y: 'get'\n};\n\nfunction colorDomain$1(data, mapping, visualOptions) {\n  const {\n    width,\n    height,\n    diameter,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    xOrigin,\n    yOrigin\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom;\n\n  if (!data) {\n    return {\n      domain: [],\n      type: 'number'\n    };\n  } // x scale\n\n\n  const xDomain = xOrigin ? [0, max(data, d => d.x)] : extent(data, d => d.x);\n  const x = mapping.x.dataType === 'date' ? scaleTime() : scaleLinear();\n  x.domain(xDomain).rangeRound([0, chartWidth]).nice(); // y scale\n\n  const yDomain = yOrigin ? [0, max(data, d => d.y)] : extent(data, d => d.y);\n  const y = mapping.y.dataType === 'date' ? scaleTime() : scaleLinear();\n  y.domain(yDomain).rangeRound([chartHeight, 0]).nice();\n  const hexbin$1 = hexbin().x(d => x(d.x)).y(d => y(d.y)).radius(diameter / 2).extent([[margin.left, margin.top], [chartWidth, chartHeight]]);\n  const bins = hexbin$1(data);\n  const domain = bins.map(d => d.length);\n  return {\n    domain,\n    type: 'number'\n  };\n}\nfunction render$h(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    xOrigin,\n    yOrigin,\n    diameter,\n    weightSize,\n    showPoints,\n    dotsDiameter,\n    showLegend,\n    legendWidth,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    colorScale,\n    showCountLabels,\n    showLabelsOutline,\n    autoHideLabels\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // x scale\n\n  const xDomain = xOrigin ? [0, max(data, d => d.x)] : extent(data, d => d.x);\n  const x = mapping.x.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  x.domain(xDomain).rangeRound([0, chartWidth]).nice(); // y scale\n\n  const yDomain = yOrigin ? [0, max(data, d => d.y)] : extent(data, d => d.y);\n  const y = mapping.y.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  y.domain(yDomain).rangeRound([chartHeight, 0]).nice();\n\n  const xAxis = g => {\n    return g.attr('transform', `translate(0,${chartHeight})`).call(axisBottom(x)).call(g => g.append('text').attr('x', chartWidth).attr('dy', -5).attr('text-anchor', 'end').text(mapping['x'].value).styles(styles.axisLabel));\n  };\n\n  const yAxis = g => {\n    return g.call(axisLeft(y)).call(g => g.append('text').attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').text(mapping['y'].value).styles(styles.axisLabel));\n  };\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'background');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'visualization');\n  const axisLayer = svg.append('g').attr('id', 'axis');\n  axisLayer.append('g').call(xAxis);\n  axisLayer.append('g').call(yAxis);\n  const vizLayer = svg.append('g').attr('id', 'viz');\n  const hexbin$1 = hexbin().x(d => x(d.x)).y(d => y(d.y)).radius(diameter / 2).extent([[margin.left, margin.top], [chartWidth, chartHeight]]);\n  const bins = hexbin$1(data);\n  const size = scaleSqrt().domain([0, max(bins, d => d.length)]).rangeRound([weightSize ? 0 : diameter / 2, diameter / 2]);\n  const hex = vizLayer.selectAll('g').data(bins).join('g');\n  hex.append('path').attr('d', d => hexbin$1.hexagon(size(d.length))).attr('transform', d => `translate(${d.x},${d.y})`).attr('fill', d => colorScale(d.length)).attr('stroke', 'white');\n\n  if (showPoints) {\n    hex.selectAll('circle').data(d => d).join('circle').attr('cx', d => x(d.x)).attr('cy', d => y(d.y)).attr('fill', 'black').attr('r', dotsDiameter / 2);\n  }\n\n  if (showCountLabels) {\n    hex.append('text').attr('text-anchor', 'middle').attr('dominant-baseline', 'middle').attr('x', d => d.x).attr('y', d => d.y).text(d => d.length).styles(styles.labelSecondary);\n  }\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    hex.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (autoHideLabels) {\n    labelsOcclusion(hex.selectAll('text'), d => d.length);\n  }\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (colorScale.domain().length) {\n      chartLegend.addColor('count', colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$h = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    },\n    requiredDimensions: ['x', 'y']\n  },\n  xOrigin: {\n    type: 'boolean',\n    label: 'Set X origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  yOrigin: {\n    type: 'boolean',\n    label: 'Set Y origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  diameter: {\n    type: 'number',\n    label: 'Bin diameter',\n    default: 8,\n    step: 1,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  weightSize: {\n    type: 'boolean',\n    label: 'Scale hexagons area',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  showPoints: {\n    type: 'boolean',\n    label: 'Show dots on data values',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    default: 2,\n    group: 'chart',\n    disabled: {\n      showPoints: false\n    },\n    requiredDimensions: ['x', 'y']\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    //dimension: 'color',\n    domain: 'colorDomain',\n    default: {\n      scaleType: 'sequential',\n      interpolator: 'interpolateBlues'\n    },\n    group: 'colors',\n    requiredDimensions: ['x', 'y']\n  },\n  showCountLabels: {\n    type: 'boolean',\n    label: 'Show count labels',\n    default: false,\n    group: 'labels',\n    requiredDimensions: ['x', 'y']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels',\n    requiredDimensions: ['x', 'y']\n  },\n  autoHideLabels: {\n    type: 'boolean',\n    label: 'Auto hide labels',\n    default: false,\n    group: 'labels',\n    requiredDimensions: ['x', 'y']\n  }\n};\n\nvar hexagonalBinning = {\n  metadata: metadata$h,\n  dimensions: dimensions$h,\n  mapData: mapData$h,\n  render: render$h,\n  visualOptions: visualOptions$h,\n  styles: styles$1,\n  colorDomain: colorDomain$1\n};\n\nvar img$y = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M48%2c18V12c-4%2c0-4-3-8-3s-4%2c6-8%2c6-4%2c3-8%2c3Z'/%3e %3cpath class='cls-1' d='M11.2476%2c30.78C12.3657%2c25.8057%2c13.4258%2c22%2c16%2c22c2.7388%2c0%2c3.8662%2c3.6631%2c4.9565%2c7.2061.1539.5.3077.999.4649%2c1.4863L21.5206%2c31H32c-4%2c0-4-5-8-5-1.6895%2c0-2.665-2.3207-3.53-5H12.2233C11.1431%2c25.8076%2c10.1485%2c31%2c8%2c31h3.1982Z'/%3e %3cpath class='cls-1' d='M40%2c41c2.0234%2c0%2c3.1045%2c2.0664%2c3.7412%2c3.6211L43.8966%2c45H48c-2.7537%2c0-3.6119-6.1607-5.1843-10h-5.73C35.5755%2c38.5543%2c34.6954%2c44%2c32%2c44c-2.0786%2c0-3.0771-4.59-4.118-9H18.6439c-.6781%2c1.1745-1.496%2c2-2.6439%2c2-4%2c0-4%2c8-8%2c8h9.4893l.2885-.5A23.6038%2c23.6038%2c0%2c0%2c0%2c19.07%2c41.6289C20.126%2c38.99%2c21.3228%2c36%2c24%2c36c2.7861%2c0%2c3.8379%2c4.459%2c4.855%2c8.77l.0541.23h7.09l.1664-.3916C36.8242%2c43.06%2c37.938%2c41%2c40%2c41Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpath class='cls-2' d='M24%2c37c-2.8521%2c0-3.6713%2c5.082-5.3561%2c8H27.882C26.92%2c40.9232%2c25.9214%2c37%2c24%2c37Z'/%3e %3cpath class='cls-2' d='M40%2c42c-1.3046%2c0-2.1827%2c1.28-2.9139%2c3h5.73C42.1041%2c43.2624%2c41.2463%2c42%2c40%2c42Z'/%3e %3cpath class='cls-2' d='M16%2c23c-1.8515%2c0-2.8458%2c3.8572-3.7767%2c8H20.47C19.2868%2c27.3359%2c18.3105%2c23%2c16%2c23Z'/%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 7.5 48 7.5 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$z = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-11 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b fill: %2369bda9%3b %7d .cls-4%2c .cls-5 %7b opacity: 0.5%3b %7d .cls-12%2c .cls-4%2c .cls-5 %7b isolation: isolate%3b %7d .cls-5 %7b fill: %239e0142%3b %7d .cls-6 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-7 %7b clip-path: url(%23clip-path-3)%3b %7d .cls-8 %7b clip-path: url(%23clip-path-4)%3b %7d .cls-9 %7b clip-path: url(%23clip-path-5)%3b %7d .cls-10 %7b clip-path: url(%23clip-path-6)%3b %7d .cls-11 %7b stroke: black%3b %7d .cls-12 %7b font-size: 10px%3b font-family: Helvetica%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect class='cls-1' x='15' width='304' height='23.0441'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3crect class='cls-1' x='15' y='23.9912' width='304' height='23.0441'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-3'%3e %3crect class='cls-1' x='15' y='47.9823' width='304' height='23.0441'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-4'%3e %3crect class='cls-1' x='15' y='71.9735' width='304' height='23.0441'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-5'%3e %3crect class='cls-1' x='15' y='95.9647' width='304' height='23.0441'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-6'%3e %3crect class='cls-1' x='15' y='119.9558' width='304' height='23.0441'/%3e %3c/clipPath%3e %3c/defs%3e %3crect id='backgorund' class='cls-2' width='320' height='160'/%3e %3cg id='areas'%3e %3cg class='cls-3'%3e %3cg id='a'%3e %3cg id='positive'%3e %3cpath class='cls-4' d='M15-23.0441C25.1333-10.7495%2c35.2667%2c1.5452%2c45.4%2c6.7235s20.2667%2c3.24%2c30.4%2c2.404%2c20.2667-.5707%2c30.4-1.8546S126.4667%2c3.1553%2c136.6.922%2c156.8667-2.9446%2c167%2c.9006s20.2667%2c13.1687%2c30.4%2c14.8542%2c20.2667-4.2671%2c30.4-4.4754%2c20.2667%2c5.3277%2c30.4%2c2.1973S278.4667-1.45%2c288.6-4.5908%2c308.8667-2.2154%2c319%2c3.3005V23.0441H15Z'/%3e %3cpath class='cls-4' d='M15%2c0C25.1333%2c12.2947%2c35.2667%2c24.5894%2c45.4%2c29.7677s20.2667%2c3.24%2c30.4%2c2.4039%2c20.2667-.5706%2c30.4-1.8546%2c20.2667-4.1175%2c30.4-6.3509S156.8667%2c20.1%2c167%2c23.9448s20.2667%2c13.1687%2c30.4%2c14.8541%2c20.2667-4.2671%2c30.4-4.4754%2c20.2667%2c5.3277%2c30.4%2c2.1973%2c20.2667-14.927%2c30.4-18.0675%2c20.2667%2c2.3755%2c30.4%2c7.8913V46.0883H15Z'/%3e %3c/g%3e %3cg id='negative'%3e %3cpath class='cls-5' d='M15-46.0883C25.1333-33.7936%2c35.2667-21.4989%2c45.4-16.3206s20.2667%2c3.24%2c30.4%2c2.4039%2c20.2667-.5706%2c30.4-1.8546%2c20.2667-4.1175%2c30.4-6.3509%2c20.2667-3.8665%2c30.4-.0213S187.2667-8.9748%2c197.4-7.2894s20.2667-4.2671%2c30.4-4.4754%2c20.2667%2c5.3277%2c30.4%2c2.1973%2c20.2667-14.927%2c30.4-18.0675%2c20.2667%2c2.3755%2c30.4%2c7.8913V0H15Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg class='cls-6'%3e %3cg id='b'%3e %3cg id='positive-2' data-name='positive'%3e %3cpath class='cls-4' d='M15%2c23.3378C25.1333%2c21.2589%2c35.2667%2c19.18%2c45.4%2c25.593S65.6667%2c46.9106%2c75.8%2c48.8246s20.2667-9.1628%2c30.4-11.6762%2c20.2667%2c3.5367%2c30.4%2c6.4143S156.8667%2c46.1452%2c167%2c40.65s20.2667-16.1922%2c30.4-15.5971%2c20.2667%2c12.4815%2c30.4%2c20.1714%2c20.2667%2c11.1833%2c30.4%2c9.734%2c20.2667-7.8411%2c30.4-14.1531S308.8667%2c28.26%2c319%2c22.0281V47.0353H15Z'/%3e %3cpath class='cls-4' d='M15%2c46.382c10.1333-2.0789%2c20.2667-4.1578%2c30.4%2c2.2551S65.6667%2c69.9548%2c75.8%2c71.8687s20.2667-9.1628%2c30.4-11.6761%2c20.2667%2c3.5367%2c30.4%2c6.4142%2c20.2667%2c2.5826%2c30.4-2.9132%2c20.2667-16.1921%2c30.4-15.5971S217.6667%2c60.578%2c227.8%2c68.268s20.2667%2c11.1832%2c30.4%2c9.734%2c20.2667-7.8411%2c30.4-14.1532S308.8667%2c51.3045%2c319%2c45.0723V70.08H15Z'/%3e %3c/g%3e %3cg id='negative-2' data-name='negative'%3e %3cpath class='cls-5' d='M15%2c.2937C25.1333-1.7852%2c35.2667-3.8641%2c45.4%2c2.5488S65.6667%2c23.8665%2c75.8%2c25.78s20.2667-9.1628%2c30.4-11.6761%2c20.2667%2c3.5367%2c30.4%2c6.4142%2c20.2667%2c2.5826%2c30.4-2.9132S187.2667%2c1.4132%2c197.4%2c2.0082%2c217.6667%2c14.49%2c227.8%2c22.18s20.2667%2c11.1832%2c30.4%2c9.734%2c20.2667-7.8411%2c30.4-14.1532S308.8667%2c5.2162%2c319-1.016V23.9912H15Z'/%3e %3cpath class='cls-5' d='M15-22.75c10.1333-2.0789%2c20.2667-4.1577%2c30.4%2c2.2552S65.6667.8223%2c75.8%2c2.7363%2c96.0667-6.4265%2c106.2-8.94s20.2667%2c3.5367%2c30.4%2c6.4143S156.8667.0569%2c167-5.4388s20.2667-16.1922%2c30.4-15.5971S217.6667-8.5544%2c227.8-.8645s20.2667%2c11.1833%2c30.4%2c9.734%2c20.2667-7.8411%2c30.4-14.1531S308.8667-17.8279%2c319-24.06V.947H15Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg class='cls-7'%3e %3cg id='c'%3e %3cg id='positive-3' data-name='positive'%3e %3cpath class='cls-4' d='M15%2c38.9249C25.1333%2c56.7657%2c35.2667%2c74.6065%2c45.4%2c78.6433s20.2667-5.73%2c30.4-9.0552%2c20.2667-.2074%2c30.4-4.4695S126.4667%2c49.215%2c136.6%2c48.08s20.2667%2c8.2371%2c30.4%2c9.2625%2c20.2667-6.2956%2c30.4-10.4326%2c20.2667-5.09%2c30.4%2c2.3365S248.0667%2c72.48%2c258.2%2c76.0882s20.2667-4.9824%2c30.4-10.0493%2c20.2667-6.61%2c30.4-8.154V71.0265H15Z'/%3e %3cpath class='cls-4' d='M15%2c61.9691C25.1333%2c79.81%2c35.2667%2c97.6506%2c45.4%2c101.6875s20.2667-5.73%2c30.4-9.0552%2c20.2667-.2075%2c30.4-4.47%2c20.2667-15.9036%2c30.4-17.0384%2c20.2667%2c8.2372%2c30.4%2c9.2626%2c20.2667-6.2956%2c30.4-10.4327%2c20.2667-5.09%2c30.4%2c2.3366%2c20.2667%2c23.2334%2c30.4%2c26.8415S278.4667%2c94.15%2c288.6%2c89.083s20.2667-6.61%2c30.4-8.1539V94.0706H15Z'/%3e %3c/g%3e %3cg id='negative-3' data-name='negative'%3e %3cpath class='cls-5' d='M15%2c15.8808C25.1333%2c33.7216%2c35.2667%2c51.5623%2c45.4%2c55.5992s20.2667-5.73%2c30.4-9.0552%2c20.2667-.2075%2c30.4-4.47%2c20.2667-15.9036%2c30.4-17.0384%2c20.2667%2c8.2372%2c30.4%2c9.2626%2c20.2667-6.2956%2c30.4-10.4327%2c20.2667-5.09%2c30.4%2c2.3366%2c20.2667%2c23.2334%2c30.4%2c26.8415%2c20.2667-4.9823%2c30.4-10.0493%2c20.2667-6.61%2c30.4-8.1539V47.9823H15Z'/%3e %3cpath class='cls-5' d='M15-7.1634C25.1333%2c10.6774%2c35.2667%2c28.5182%2c45.4%2c32.555s20.2667-5.73%2c30.4-9.0552%2c20.2667-.2074%2c30.4-4.4695S126.4667%2c3.1267%2c136.6%2c1.9919s20.2667%2c8.2371%2c30.4%2c9.2625S187.2667%2c4.9588%2c197.4.8218s20.2667-5.09%2c30.4%2c2.3365S248.0667%2c26.3918%2c258.2%2c30s20.2667-4.9824%2c30.4-10.0493%2c20.2667-6.6105%2c30.4-8.154V24.9382H15Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg class='cls-8'%3e %3cg id='d'%3e %3cg id='positive-4' data-name='positive'%3e %3cpath class='cls-4' d='M15%2c105.0326C25.1333%2c94.9538%2c35.2667%2c84.875%2c45.4%2c80.0953s20.2667-4.26%2c30.4-6.6391%2c20.2667-7.6555%2c30.4-4.022%2c20.2667%2c16.1776%2c30.4%2c22.2983S156.8667%2c97.5506%2c167%2c97.37s20.2667-.2376%2c30.4-1.78a99.8407%2c99.8407%2c0%2c0%2c0%2c30.4-9.7c10.1333-5.1313%2c20.2667-12.3673%2c30.4-11.66s20.2667%2c9.3586%2c30.4%2c7.32S308.8667%2c66.7851%2c319%2c54.0576v40.96H15Z'/%3e %3cpath class='cls-4' d='M15%2c128.0767c10.1333-10.0788%2c20.2667-20.1575%2c30.4-24.9372s20.2667-4.26%2c30.4-6.6392%2c20.2667-7.6555%2c30.4-4.0219%2c20.2667%2c16.1776%2c30.4%2c22.2983%2c20.2667%2c5.818%2c30.4%2c5.6379%2c20.2667-.2377%2c30.4-1.78a99.8409%2c99.8409%2c0%2c0%2c0%2c30.4-9.7c10.1333-5.1313%2c20.2667-12.3672%2c30.4-11.66s20.2667%2c9.3585%2c30.4%2c7.32S308.8667%2c89.8293%2c319%2c77.1018v40.96H15Z'/%3e %3c/g%3e %3cg id='negative-4' data-name='negative'%3e %3cpath class='cls-5' d='M15%2c81.9884C25.1333%2c71.91%2c35.2667%2c61.8309%2c45.4%2c57.0512s20.2667-4.26%2c30.4-6.6391%2c20.2667-7.6556%2c30.4-4.022%2c20.2667%2c16.1776%2c30.4%2c22.2983%2c20.2667%2c5.818%2c30.4%2c5.6379%2c20.2667-.2377%2c30.4-1.78a99.8409%2c99.8409%2c0%2c0%2c0%2c30.4-9.7c10.1333-5.1313%2c20.2667-12.3672%2c30.4-11.66s20.2667%2c9.3585%2c30.4%2c7.32S308.8667%2c43.741%2c319%2c31.0135v40.96H15Z'/%3e %3cpath class='cls-5' d='M15%2c58.9443C25.1333%2c48.8655%2c35.2667%2c38.7867%2c45.4%2c34.007s20.2667-4.26%2c30.4-6.6391%2c20.2667-7.6555%2c30.4-4.0219%2c20.2667%2c16.1775%2c30.4%2c22.2982%2c20.2667%2c5.8181%2c30.4%2c5.638%2c20.2667-.2377%2c30.4-1.78a99.8407%2c99.8407%2c0%2c0%2c0%2c30.4-9.7c10.1333-5.1313%2c20.2667-12.3673%2c30.4-11.66s20.2667%2c9.3586%2c30.4%2c7.32S308.8667%2c20.6969%2c319%2c7.9693v40.96H15Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg class='cls-9'%3e %3cg id='e'%3e %3cg id='positive-5' data-name='positive'%3e %3cpath class='cls-4' d='M15%2c100.075c10.1333.3285%2c20.2667.6571%2c30.4%2c3.0845s20.2667%2c6.9536%2c30.4%2c8.0448%2c20.2667-1.2526%2c30.4%2c3.015%2c20.2667%2c15.1466%2c30.4%2c13.1642%2c20.2667-16.8262%2c30.4-17.4265%2c20.2667%2c13.0427%2c30.4%2c17.9%2c20.2667.9277%2c30.4-4.7273%2c20.2667-13.0358%2c30.4-10.231%2c20.2667%2c15.7953%2c30.4%2c13.4734%2c20.2667-19.9559%2c30.4-37.59v30.227H15Z'/%3e %3cpath class='cls-4' d='M15%2c123.1191c10.1333.3286%2c20.2667.6571%2c30.4%2c3.0845s20.2667%2c6.9537%2c30.4%2c8.0449%2c20.2667-1.2527%2c30.4%2c3.0149%2c20.2667%2c15.1466%2c30.4%2c13.1642%2c20.2667-16.8261%2c30.4-17.4265%2c20.2667%2c13.0428%2c30.4%2c17.9%2c20.2667.9277%2c30.4-4.7273%2c20.2667-13.0358%2c30.4-10.231%2c20.2667%2c15.7953%2c30.4%2c13.4735%2c20.2667-19.956%2c30.4-37.59v30.227H15Z'/%3e %3c/g%3e %3cg id='negative-5' data-name='negative'%3e %3cpath class='cls-5' d='M15%2c77.0308c10.1333.3286%2c20.2667.6571%2c30.4%2c3.0845S65.6667%2c87.069%2c75.8%2c88.16s20.2667-1.2527%2c30.4%2c3.0149%2c20.2667%2c15.1466%2c30.4%2c13.1642S156.8667%2c87.5132%2c167%2c86.9128s20.2667%2c13.0428%2c30.4%2c17.9%2c20.2667.9277%2c30.4-4.7273%2c20.2667-13.0358%2c30.4-10.231%2c20.2667%2c15.7953%2c30.4%2c13.4735%2c20.2667-19.956%2c30.4-37.59v30.227H15Z'/%3e %3cpath class='cls-5' d='M15%2c53.9867c10.1333.3285%2c20.2667.6571%2c30.4%2c3.0845s20.2667%2c6.9536%2c30.4%2c8.0448%2c20.2667-1.2526%2c30.4%2c3.015%2c20.2667%2c15.1466%2c30.4%2c13.1642S156.8667%2c64.469%2c167%2c63.8687s20.2667%2c13.0427%2c30.4%2c17.9%2c20.2667.9277%2c30.4-4.7273%2c20.2667-13.0358%2c30.4-10.231%2c20.2667%2c15.7953%2c30.4%2c13.4734%2c20.2667-19.9559%2c30.4-37.59v30.227H15Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg class='cls-10'%3e %3cg id='f'%3e %3cg id='positive-6' data-name='positive'%3e %3cpath class='cls-4' d='M15%2c167.2834c10.1333%2c9.3126%2c20.2667%2c18.6252%2c30.4%2c14.9864s20.2667-20.2291%2c30.4-29.5753%2c20.2667-11.4483%2c30.4-7.6977%2c20.2667%2c13.3537%2c30.4%2c12.28%2c20.2667-12.8235%2c30.4-12.1255%2c20.2667%2c13.8442%2c30.4%2c16.2806%2c20.2667-5.8367%2c30.4-6.8938%2c20.2667%2c5.1019%2c30.4%2c5.0833%2c20.2667-6.2148%2c30.4-7.7862%2c20.2667%2c1.482%2c30.4%2c4.5354V143H15Z'/%3e %3c/g%3e %3cg id='negative-6' data-name='negative'%3e %3cpath class='cls-5' d='M15%2c144.2393c10.1333%2c9.3126%2c20.2667%2c18.6252%2c30.4%2c14.9863S65.6667%2c138.9965%2c75.8%2c129.65s20.2667-11.4482%2c30.4-7.6977%2c20.2667%2c13.3538%2c30.4%2c12.28%2c20.2667-12.8235%2c30.4-12.1254%2c20.2667%2c13.8441%2c30.4%2c16.2806%2c20.2667-5.8367%2c30.4-6.8938%2c20.2667%2c5.1018%2c30.4%2c5.0833%2c20.2667-6.2148%2c30.4-7.7862%2c20.2667%2c1.482%2c30.4%2c4.5354v-13.371H15Z'/%3e %3cpath class='cls-5' d='M15%2c121.1951c10.1333%2c9.3126%2c20.2667%2c18.6252%2c30.4%2c14.9864s20.2667-20.2291%2c30.4-29.5753%2c20.2667-11.4483%2c30.4-7.6977%2c20.2667%2c13.3537%2c30.4%2c12.28S156.8667%2c98.3653%2c167%2c99.0633s20.2667%2c13.8442%2c30.4%2c16.2806%2c20.2667-5.8367%2c30.4-6.8938%2c20.2667%2c5.1019%2c30.4%2c5.0833%2c20.2667-6.2148%2c30.4-7.7862%2c20.2667%2c1.482%2c30.4%2c4.5354V96.9117H15Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg id='axis'%3e %3cg%3e %3cpath class='cls-11' d='M15.5.5v143'/%3e %3cg%3e %3cline class='cls-11' x1='15' y1='11.5221' x2='9' y2='11.5221'/%3e %3ctext class='cls-12' transform='translate(0.4385 14.722)'%3ea%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='15' y1='35.5132' x2='9' y2='35.5132'/%3e %3ctext class='cls-12' transform='translate(0.4385 38.7133)'%3eb%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='15' y1='59.5044' x2='9' y2='59.5044'/%3e %3ctext class='cls-12' transform='translate(1 62.7044)'%3ec%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='15' y1='83.4956' x2='9' y2='83.4956'/%3e %3ctext class='cls-12' transform='translate(0.4385 86.6956)'%3ed%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='15' y1='107.4868' x2='9' y2='107.4868'/%3e %3ctext class='cls-12' transform='translate(0.4385 110.6868)'%3ee%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='15' y1='131.4779' x2='9' y2='131.4779'/%3e %3ctext class='cls-12' transform='translate(3.2217 134.6779)'%3ef%3c/text%3e %3c/g%3e %3c/g%3e %3cg%3e %3cpath class='cls-11' d='M15.5%2c143.5h304'/%3e %3cg%3e %3cline class='cls-11' x1='15.5' y1='143' x2='15.5' y2='149'/%3e %3ctext class='cls-12' transform='translate(12.7192 159.1)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='45.9' y1='143' x2='45.9' y2='149'/%3e %3ctext class='cls-12' transform='translate(43.1192 159.1)'%3e1%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='76.3' y1='143' x2='76.3' y2='149'/%3e %3ctext class='cls-12' transform='translate(73.5192 159.1)'%3e2%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='106.7' y1='143' x2='106.7' y2='149'/%3e %3ctext class='cls-12' transform='translate(103.9192 159.1)'%3e3%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='137.1' y1='143' x2='137.1' y2='149'/%3e %3ctext class='cls-12' transform='translate(134.3192 159.1)'%3e4%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='167.5' y1='143' x2='167.5' y2='149'/%3e %3ctext class='cls-12' transform='translate(164.7192 159.1)'%3e5%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='197.9' y1='143' x2='197.9' y2='149'/%3e %3ctext class='cls-12' transform='translate(195.1192 159.1)'%3e6%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='228.3' y1='143' x2='228.3' y2='149'/%3e %3ctext class='cls-12' transform='translate(225.5192 159.1)'%3e7%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='258.7' y1='143' x2='258.7' y2='149'/%3e %3ctext class='cls-12' transform='translate(255.9193 159.1)'%3e8%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='289.1' y1='143' x2='289.1' y2='149'/%3e %3ctext class='cls-12' transform='translate(286.3192 159.1)'%3e9%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-11' x1='319.5' y1='143' x2='319.5' y2='149'/%3e %3ctext class='cls-12' transform='translate(307.8159 159.1)'%3e10%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$i = {\n  name: 'Horizon graph',\n  id: 'rawgraphs.horizongraph',\n  thumbnail: img$z,\n  icon: img$y,\n  categories: ['time series', 'correlations'],\n  description: 'It displays a quantitative dimension over a continuous interval or time period. Horizon graphs combine position and color to reduce vertical space.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/horizongraph',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-horizon-graph/'\n};\n\nconst dimensions$i = [{\n  id: 'x',\n  name: 'x axis',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'y',\n  name: 'y axis',\n  validTypes: ['number'],\n  aggregation: true,\n  aggregationDefault: 'sum',\n  required: false\n}, {\n  id: 'group',\n  name: 'Groups',\n  validTypes: ['number', 'date', 'string'],\n  required: false\n}];\n\nconst mapData$i = function (data, mapping, dataTypes, dimensions) {\n  const yAggregator = getDimensionAggregator('y', mapping, dataTypes, dimensions);\n  let results = [];\n  rollups(data, v => {\n    const item = {\n      group: v[0][mapping.group.value],\n      x: v[0][mapping.x.value],\n      y: yAggregator(v.map(d => d[mapping.y.value])),\n      color: yAggregator(v.map(d => d[mapping.y.value])) < 0 ? 'negative' : 'positive'\n    };\n    results.push(item);\n  }, d => d[mapping.group.value], // series grouping\n  d => d[mapping.x.value] // group functions\n  );\n  return results;\n};\n\nfunction render$i(node, data, visualOptions, mapping, originalData, styles) {\n  // destructurate visual visualOptions\n  const {\n    // default options\n    width,\n    height,\n    background,\n    showLegend = false,\n    //margins\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // chart options\n    padding,\n    interpolation,\n    bands,\n    negativeStyle,\n    // color\n    colorScale\n  } = visualOptions; // Margin convention\n\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  }; // select the SVG element\n\n  const svg = select(node); // nest data\n\n  let nestedData = groups(data, d => d.group);\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom;\n  const groupsDomain = nestedData.map(d => d[0]);\n  const groupsScale = scaleBand().range([0, chartHeight]).domain(groupsDomain).paddingOuter(0).paddingInner(padding / (chartWidth / groupsDomain.length)); // x scale\n\n  const xDomain = extent(data, e => e.x);\n  const xScale = mapping.x.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  xScale.domain(xDomain).range([0, chartWidth]); // y scale\n\n  const yDomain = [0, max([-min(data, e => e.y), max(data, e => e.y)]) / bands];\n  const yScale = scaleLinear().domain(yDomain).range([groupsScale.bandwidth(), 0]); // area function\n\n  let area$1 = area().curve(d3[interpolation]).x(d => xScale(d.x)).y0(groupsScale.bandwidth()).y1(d => yScale(d.y)); // create the clip path\n\n  svg.append('clipPath').attr('id', 'groupClipPath').append('rect').attr('x', 0).attr('y', 0).attr('width', chartWidth).attr('height', groupsScale.bandwidth()); // add background\n\n  svg.append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // append areas\n\n  let viz = svg.append('g').attr('transform', d => 'translate(' + margin.left + ',' + margin.top + ')');\n  let horizons = viz.attr('id', 'areas').selectAll('g').data(nestedData).join('g').attr('transform', d => 'translate(0,' + groupsScale(d[0]) + ')').attr('id', d => d[0]).attr('clip-path', 'url(#groupClipPath)'); //draw the positive areas\n\n  horizons.append('g').attr('id', 'positive').selectAll('path') // create an array corresponding to the amount of required bands\n  .data(d => [...Array(bands).keys()].map((e, i) => ({\n    index: i,\n    data: d\n  }))).join('path').attr('d', d => area$1(d.data[1])).attr('fill', colorScale('positive')).attr('opacity', 1 / bands).attr('transform', d => `translate(0, ${groupsScale.bandwidth() * d.index})`); // draw the negative areas\n\n  horizons.append('g').attr('id', 'negative').selectAll('path').data(d => [...Array(bands).keys()].map((e, i) => ({\n    index: i,\n    data: d\n  }))).join('path').attr('d', d => area$1(d.data[1])).attr('fill', colorScale('negative')).attr('opacity', 1 / bands) // if negative style is \"top\", just translate it.\n  // otherwise, flip it and move to bottm.\n  .attr('transform', d => {\n    if (negativeStyle == 'top') {\n      return `translate(0, ${-groupsScale.bandwidth() - groupsScale.bandwidth() * d.index})`;\n    } else if (negativeStyle == 'mirrored') {\n      return `scale(1,-1) translate(0, ${-2 * groupsScale.bandwidth() - groupsScale.bandwidth() * d.index})`;\n    }\n  });\n\n  const yAxis = g => {\n    return g.call(axisLeft(groupsScale).tickSizeOuter(0));\n  };\n\n  const xAxis = g => {\n    return g.attr('transform', `translate(0,${chartHeight})`).call(axisBottom(xScale).tickSizeOuter(0)).call(g => g.append('text').attr('x', chartWidth).attr('dy', -5).attr('text-anchor', 'end').text(mapping['x'].value).styles(styles.axisLabel));\n  };\n\n  const axisLayer = viz.append('g').attr('id', 'axis');\n  axisLayer.append('g').call(yAxis);\n  axisLayer.append('g').call(xAxis);\n}\n\nconst visualOptions$i = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 20,\n    group: 'artboard'\n  },\n  bands: {\n    type: 'number',\n    label: 'Number of bands',\n    default: 4,\n    group: 'chart'\n  },\n  padding: {\n    type: 'number',\n    label: 'Padding',\n    default: 1,\n    group: 'chart'\n  },\n  interpolation: {\n    type: 'text',\n    label: 'Curve type',\n    default: 'curveBumpX',\n    options: [{\n      label: 'Basis',\n      value: 'curveBasis'\n    }, {\n      label: 'Bump',\n      value: 'curveBumpX'\n    }, {\n      label: 'Cardinal',\n      value: 'curveCardinal'\n    }, {\n      label: 'CatmullRom',\n      value: 'curveCatmullRom'\n    }, {\n      label: 'Linear',\n      value: 'curveLinear'\n    }, {\n      label: 'Monotone X',\n      value: 'curveMonotoneX'\n    }, {\n      label: 'Natural',\n      value: 'curveNatural'\n    }, {\n      label: 'Step',\n      value: 'curveStep'\n    }, {\n      label: 'Step After',\n      value: 'curveStepAfter'\n    }, {\n      label: 'Step Before',\n      value: 'curveStepBefore'\n    }],\n    group: 'chart'\n  },\n  negativeStyle: {\n    type: 'text',\n    label: 'Show negative values as',\n    group: 'chart',\n    options: [{\n      label: 'Mirrored',\n      value: 'mirrored'\n    }, {\n      label: 'Offset',\n      value: 'top'\n    }],\n    default: 'mirrored'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  }\n};\n\nvar horizongraph = {\n  metadata: metadata$i,\n  dimensions: dimensions$i,\n  mapData: mapData$i,\n  render: render$i,\n  visualOptions: visualOptions$i,\n  styles: styles$1\n};\n\nvar img$A = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpolygon class='cls-1' points='24.671 41.145 16.489 37.054 7.706 41.026 7.294 40.114 16.511 35.946 24.329 39.855 32.235 28.076 40.156 23.125 46.1 15.2 46.9 15.8 40.765 23.924 32.856 28.867 24.671 41.145'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 8 48 8 9.939 9.195 11.135 9.195 9.695 7.5 8 5.805 9.695 5.805 11.135 7 9.939 7 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3cpolygon class='cls-2' points='40.639 35 32.312 35 24.34 28.024 16.562 28.996 7.613 31.084 7.387 30.109 16.387 28.013 24.66 26.976 32.687 34 40.361 34 45.243 31.071 45.757 31.929 40.639 35'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$B = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-10%2c .cls-11%2c .cls-2%2c .cls-5%2c .cls-7%2c .cls-8%2c .cls-9 %7b fill: none%3b stroke-linejoin: round%3b stroke-width: 1.5px%3b %7d .cls-2 %7b stroke: %23161616%3b %7d .cls-3%2c .cls-4 %7b font-size: 10px%3b %7d .cls-12%2c .cls-3%2c .cls-4%2c .cls-6 %7b font-family: Helvetica%3b %7d .cls-12%2c .cls-4%2c .cls-6 %7b isolation: isolate%3b %7d .cls-5 %7b stroke: %2369bda9%3b %7d .cls-10%2c .cls-11%2c .cls-5%2c .cls-7%2c .cls-8%2c .cls-9 %7b stroke-linecap: round%3b %7d .cls-12%2c .cls-6 %7b font-size: 12px%3b fill: %23161616%3b %7d .cls-7 %7b stroke: %239e0142%3b %7d .cls-8 %7b stroke: %23f0704a%3b %7d .cls-9 %7b stroke: %23fedd8d%3b %7d .cls-10 %7b stroke: %23e0f3a1%3b %7d .cls-11 %7b stroke: %235e4fa2%3b %7d .cls-12 %7b letter-spacing: -0.0547em%3b %7d %3c/style%3e %3c/defs%3e %3crect id='backgorund' class='cls-1' width='320' height='160'/%3e %3cg id='viz'%3e %3cg%3e %3cg id='axes'%3e %3cg%3e %3cpath class='cls-2' d='M30.5%2c150v-5.5h280V150'/%3e %3cg%3e %3cline class='cls-2' x1='30' y1='144' x2='30' y2='150'/%3e %3ctext class='cls-3' transform='translate(18.7539 160.1)'%3e1970%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='86.4939' y1='144' x2='86.4939' y2='150'/%3e %3ctext class='cls-4' transform='translate(75.3708 160.1)'%3e1980%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='142.5031' y1='144' x2='142.5031' y2='150'/%3e %3ctext class='cls-4' transform='translate(131.38 160.1)'%3e1990%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='198.4969' y1='144' x2='198.4969' y2='150'/%3e %3ctext class='cls-4' transform='translate(187.3739 160.1)'%3e2000%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='254.5061' y1='144' x2='254.5061' y2='150'/%3e %3ctext class='cls-4' transform='translate(243.3831 160.1)'%3e2010%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='310.5' y1='144' x2='310.5' y2='150'/%3e %3ctext class='cls-4' transform='translate(299.377 160.1)'%3e2020%3c/text%3e %3c/g%3e %3c/g%3e %3cg%3e %3cpath class='cls-2' d='M24%2c144.5h6.5V7.5H24'/%3e %3cg%3e %3cline class='cls-2' x1='30' y1='144.5' x2='24' y2='144.5'/%3e %3ctext class='cls-3' transform='translate(15.4385 147.7)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='132.0455' x2='24' y2='132.0455'/%3e %3ctext class='cls-3' transform='translate(9.877 135.2455)'%3e20%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='119.5909' x2='24' y2='119.5909'/%3e %3ctext class='cls-3' transform='translate(9.877 122.7909)'%3e40%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='107.1364' x2='24' y2='107.1364'/%3e %3ctext class='cls-3' transform='translate(9.877 110.3364)'%3e60%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='94.6818' x2='24' y2='94.6818'/%3e %3ctext class='cls-3' transform='translate(9.877 97.8818)'%3e80%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='82.2273' x2='24' y2='82.2273'/%3e %3ctext class='cls-3' transform='translate(4.3154 85.4273)'%3e100%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='69.7727' x2='24' y2='69.7727'/%3e %3ctext class='cls-3' transform='translate(4.3154 72.9727)'%3e120%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='57.3182' x2='24' y2='57.3182'/%3e %3ctext class='cls-3' transform='translate(4.3154 60.5182)'%3e140%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='44.8636' x2='24' y2='44.8636'/%3e %3ctext class='cls-3' transform='translate(4.3154 48.0636)'%3e160%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='32.4091' x2='24' y2='32.4091'/%3e %3ctext class='cls-3' transform='translate(4.3154 35.6091)'%3e180%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='19.9545' x2='24' y2='19.9545'/%3e %3ctext class='cls-3' transform='translate(4.3154 23.1545)'%3e200%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='30' y1='7.5' x2='24' y2='7.5'/%3e %3ctext class='cls-3' transform='translate(4.3154 10.7)'%3e220%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg id='viz-2' data-name='viz'%3e %3cg id='Tape'%3e %3cpath class='cls-5' d='M46.8043%2c123.1815s3.7309-.2191%2c5.5963-.1623%2c3.7309.8722%2c5.5963.5032a16.7749%2c16.7749%2c0%2c0%2c0%2c5.5964-2.7176%2c39.0713%2c39.0713%2c0%2c0%2c0%2c5.6116-4.6682c1.868-1.8227%2c3.7309-6.2888%2c5.5963-6.2679s3.7309%2c4.672%2c5.5963%2c6.3933%2c3.7284%2c3.3276%2c5.5964%2c3.9346%2c3.7436-.3541%2c5.6116-.2927%2c3.7309%2c1.4692%2c5.5963.6609%2c3.7309-3.3288%2c5.5964-5.5109%2c3.7283-6.46%2c5.5963-7.5821%2c3.7436.811%2c5.6116.8477%2c3.7309.3726%2c5.5964-.6272%2c3.7308-3.7015%2c5.5963-5.3714%2c3.7283-4.0183%2c5.5963-4.6477%2c3.7436.7233%2c5.6116.8713%2c3.7309-1.2273%2c5.5964.017%2c3.7308%2c6.3348%2c5.5963%2c7.4492%2c3.7283-1.1926%2c5.5963-.7633%2c3.7437%2c2.7011%2c5.6117%2c3.3387%2c3.7308-.9935%2c5.5963.4866%2c3.7309%2c6.1153%2c5.5963%2c8.3942a45.4179%2c45.4179%2c0%2c0%2c0%2c5.5963%2c5.2794c1.868%2c1.6842%2c3.7437%2c3.7482%2c5.6117%2c4.8254s3.7309.6671%2c5.5963%2c1.6379a38.9481%2c38.9481%2c0%2c0%2c1%2c5.5963%2c4.187c1.8655%2c1.4933%2c3.7283%2c3.55%2c5.5963%2c4.7733a24.9565%2c24.9565%2c0%2c0%2c0%2c5.6117%2c2.5633%2c41.9942%2c41.9942%2c0%2c0%2c0%2c5.5963%2c1.41c1.8654.3885%2c3.7309.6451%2c5.5963.9213s3.7284.5975%2c5.5964.7356%2c3.7436.0645%2c5.6116.0929%2c3.7309.0636%2c5.5963.0776%2c3.7309.0024%2c5.5963.0062%2c5.5964.0163%2c5.5964.0163'/%3e %3ctext class='cls-6' transform='translate(127.13 91.6732)'%3eB%3c/text%3e %3c/g%3e %3cg id='Disc'%3e %3cpath class='cls-7' d='M102.7982%2c143.7251a22.0942%2c22.0942%2c0%2c0%2c0%2c5.5963-1.308%2c19.035%2c19.035%2c0%2c0%2c0%2c5.6116-4.18%2c66.8337%2c66.8337%2c0%2c0%2c0%2c5.5964-7.7476c1.8654-2.7617%2c3.7308-6.3651%2c5.5963-8.8229a49.9309%2c49.9309%2c0%2c0%2c1%2c5.5963-5.9236c1.868-1.8151%2c3.7436-2.6566%2c5.6116-4.9666s3.7309-5.9114%2c5.5964-8.893%2c3.7308-5.8576%2c5.5963-8.9971%2c3.7283-6.3183%2c5.5963-9.84%2c3.7437-6.1943%2c5.6117-11.2908%2c3.7308-14.8091%2c5.5963-19.2883%2c3.7309-5.73%2c5.5963-7.5865%2c3.7283-3.2321%2c5.5963-3.5548%2c3.7437%2c3.4369%2c5.6117%2c1.6186%2c3.7309-8.6046%2c5.5963-12.5285%2c3.7309-9.3636%2c5.5963-11.0149%2c3.7283-.1986%2c5.5963%2c1.1074%2c3.7437%2c3.94%2c5.6117%2c6.7285%2c3.7309%2c6.832%2c5.5963%2c10.0041%2c3.7309%2c7.3579%2c5.5963%2c9.0282%2c3.7284-.9733%2c5.5964.9937%2c3.7436%2c7.0388%2c5.6116%2c10.8083%2c3.7309%2c7.0463%2c5.5963%2c11.8087%2c3.7309%2c11.1635%2c5.5963%2c16.7658%2c3.7284%2c12.6376%2c5.5964%2c16.8484%2c3.7436%2c5.795%2c5.6116%2c8.416%2c3.7309%2c5.6253%2c5.5963%2c7.31%2c3.7309%2c1.5467%2c5.5963%2c2.7988%2c3.7284%2c3.4926%2c5.5964%2c4.7137a41.6052%2c41.6052%2c0%2c0%2c0%2c5.6116%2c2.6128c1.868.8821%2c3.7309%2c1.8576%2c5.5964%2c2.68s3.7308%2c1.51%2c5.5963%2c2.2536a47.7586%2c47.7586%2c0%2c0%2c0%2c5.5963%2c2.2106c1.868.4731%2c3.7436.1154%2c5.6116.6281s3.7309%2c1.9395%2c5.5964%2c2.4481a32.3769%2c32.3769%2c0%2c0%2c0%2c5.5963.6037'/%3e %3ctext class='cls-6' transform='translate(188.0676 13.4009)'%3eC%3c/text%3e %3c/g%3e %3cg id='Download'%3e %3cpath class='cls-8' d='M220.3976%2c142.4535s3.7436-4.0743%2c5.6116-5.9882%2c3.7309-3.689%2c5.5963-5.4954%2c3.7309-4.2049%2c5.5963-5.3433a12.8413%2c12.8413%2c0%2c0%2c1%2c5.5964-1.4873%2c40.3869%2c40.3869%2c0%2c0%2c1%2c5.6116.1213c1.868.0326%2c3.7309.2077%2c5.5963.0747s3.7309-.6649%2c5.5963-.8733a34.4892%2c34.4892%2c0%2c0%2c1%2c5.5964-.3771%2c20.8728%2c20.8728%2c0%2c0%2c1%2c5.6116.9575c1.868.6243%2c3.7309%2c2.0485%2c5.5964%2c2.7879s3.7308.8287%2c5.5963%2c1.6489%2c3.7283%2c2.2034%2c5.5963%2c3.2723%2c3.7436%2c2.1957%2c5.6116%2c3.1412a44.15%2c44.15%2c0%2c0%2c0%2c5.5964%2c2.532%2c49.43%2c49.43%2c0%2c0%2c0%2c5.5963%2c1.2563'/%3e %3ctext class='cls-6' transform='translate(260.8657 117.0849)'%3eE%3c/text%3e %3c/g%3e %3cg id='Other'%3e %3cpath class='cls-9' d='M136.4067%2c142.5184a44.91%2c44.91%2c0%2c0%2c1%2c5.5964-.6172c1.8654.0169%2c3.7308.6662%2c5.5963.7183a49.32%2c49.32%2c0%2c0%2c0%2c5.5963-.4056c1.868-.1616%2c3.7437-.4479%2c5.6117-.564s3.7308-.1406%2c5.5963-.1325%2c3.7309.1667%2c5.5963.1812%2c3.7283.0576%2c5.5963-.0943a39.3276%2c39.3276%2c0%2c0%2c0%2c5.6117-.8172c1.868-.4276%2c3.7309-1.6843%2c5.5963-1.7488s3.7309.9693%2c5.5963%2c1.3619a37.0841%2c37.0841%2c0%2c0%2c0%2c5.5963.9935c1.868.0978%2c3.7437-.4035%2c5.6117-.407s3.7309.4719%2c5.5963.3858a32.1484%2c32.1484%2c0%2c0%2c0%2c5.5963-.9018c1.8655-.4242%2c3.7284-1.3964%2c5.5964-1.643a20.74%2c20.74%2c0%2c0%2c1%2c5.6116.1638c1.868.2627%2c3.7309%2c1.205%2c5.5963%2c1.4122s3.7309-.4837%2c5.5963-.1692%2c3.7284%2c1.9469%2c5.5964%2c2.0566%2c3.7436-1.2284%2c5.6116-1.3982a38.362%2c38.362%2c0%2c0%2c1%2c5.5963.3794c1.8655.1044%2c3.7309.1518%2c5.5963.247s3.7284.2545%2c5.5964.3238%2c3.7436.051%2c5.6116.092%2c3.7309.1261%2c5.5964.1541%2c3.7308.0017%2c5.5963.0133%2c3.7283.0385%2c5.5963.0565%2c3.7436.0808%2c5.6116.0512%2c3.7309-.2087%2c5.5964-.2286%2c5.5963.109%2c5.5963.109'/%3e %3ctext class='cls-6' transform='translate(215.7306 132.8277)'%3eD%3c/text%3e %3c/g%3e %3cg id='Streaming'%3e %3cpath class='cls-10' d='M220.3976%2c143.9418s3.7436-1.0195%2c5.6116-1.3243a55.8679%2c55.8679%2c0%2c0%2c1%2c5.5963-.5049c1.8655-.1154%2c3.7309-.1062%2c5.5963-.1877s3.7284-.2%2c5.5964-.3015%2c3.7436-.1419%2c5.6116-.3075%2c3.7309-.3624%2c5.5963-.6861a36.49%2c36.49%2c0%2c0%2c0%2c5.5963-1.2558%2c54.687%2c54.687%2c0%2c0%2c0%2c5.5964-2.5357c1.868-.8859%2c3.7436-1.9245%2c5.6116-2.7791s3.7309-1.3958%2c5.5964-2.3489%2c3.7308-1.0377%2c5.5963-3.37%2c3.7283-7.1%2c5.5963-10.6222%2c3.7436-7.1053%2c5.6116-10.5094%2c3.7309-6.8811%2c5.5964-9.9151%2c5.5963-8.2889%2c5.5963-8.2889'/%3e %3ctext class='cls-6' transform='translate(300.4017 83.005)'%3eF%3c/text%3e %3c/g%3e %3cg id='Vinyl'%3e %3cpath class='cls-11' d='M46.8043%2c92.51a41.0066%2c41.0066%2c0%2c0%2c0%2c5.5963%2c1.4363%2c13.7111%2c13.7111%2c0%2c0%2c0%2c5.5963-.1485c1.8655-.5557%2c3.7284-.8679%2c5.5964-3.1854s3.7436-8.4926%2c5.6116-10.7193%2c3.7309-4.5155%2c5.5963-2.6413%2c3.7309%2c10.6512%2c5.5963%2c13.8866a14.4226%2c14.4226%2c0%2c0%2c0%2c5.5964%2c5.5258c1.868%2c1.2264%2c3.7436.0146%2c5.6116%2c1.8325s3.7309%2c6.7079%2c5.5963%2c9.0748a25.7173%2c25.7173%2c0%2c0%2c0%2c5.5964%2c5.1268c1.8654%2c1.3533%2c3.7283%2c1.6268%2c5.5963%2c2.9932a63.47%2c63.47%2c0%2c0%2c1%2c5.6116%2c5.2051c1.868%2c1.7861%2c3.7309%2c3.9882%2c5.5964%2c5.5115s3.7308%2c2.2946%2c5.5963%2c3.6284%2c3.7283%2c2.7672%2c5.5963%2c4.374%2c3.7436%2c4.036%2c5.6116%2c5.2671a18.5641%2c18.5641%2c0%2c0%2c0%2c5.5964%2c2.1194%2c34.354%2c34.354%2c0%2c0%2c0%2c5.5963%2c1.1129c1.8654.2162%2c3.7283.1157%2c5.5963.1839s3.7437.1911%2c5.6117.2258%2c3.7308-.0058%2c5.5963-.0174%2c3.7309-.0256%2c5.5963-.0518%2c3.7283-.1164%2c5.5963-.1053%2c3.7437.1266%2c5.6117.172%2c3.7309.0815%2c5.5963.1%2c3.7309-.0014%2c5.5963.0126%2c3.7283.0643%2c5.5963.0712%2c3.7437-.0455%2c5.6117-.0293%2c3.7309.101%2c5.5963.1268%2c3.7309.0161%2c5.5963.028%2c3.7284.0183%2c5.5964.0434%2c3.7436.0857%2c5.6116.107%2c3.7309.0184%2c5.5963.0212%2c3.7309.0354%2c5.5963-.0044%2c3.7284-.1865%2c5.5964-.2341%2c3.7436-.0138%2c5.6116-.0513%2c3.7309-.11%2c5.5963-.1739%2c3.7309-.1315%2c5.5963-.2117%2c3.7284-.1726%2c5.5964-.27%2c3.7436-.2249%2c5.6116-.3132%2c3.7309-.08%2c5.5964-.2162%2c3.7308-.4823%2c5.5963-.6012%2c3.7283-.0646%2c5.5963-.1121%2c3.7436-.1225%2c5.6116-.1728%2c3.7309-.0322%2c5.5964-.1286%2c5.5963-.4494%2c5.5963-.4494'/%3e %3ctext class='cls-12' transform='translate(70.7993 71.2513)'%3eA%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$j = {\n  name: 'Line chart',\n  id: 'rawgraphs.linechart',\n  thumbnail: img$B,\n  icon: img$A,\n  categories: ['time series', 'correlations'],\n  description: 'It displays a quantitative dimension over a continuous interval or time period. Colour can be optionally used to encode an additional quantitative or categorical dimension.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/linechart',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-line-chart/'\n};\n\nconst dimensions$j = [{\n  id: 'x',\n  name: 'X Axis',\n  operation: 'get',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'y',\n  name: 'Y Axis',\n  operation: 'get',\n  validTypes: ['number', 'date'],\n  required: true,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'lines',\n  name: 'Lines',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}, {\n  id: 'color',\n  name: 'Color',\n  operation: 'get',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}];\n\nconst mapData$j = function (data, mapping, dataTypes, dimensions) {\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions);\n  const yAggregator = getDimensionAggregator('y', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  };\n  'series' in mapping ? null : mapping.series = {\n    value: undefined\n  };\n  'lines' in mapping ? null : mapping.lines = {\n    value: undefined\n  };\n  let results = [];\n  rollups(data, v => rollups(v, vv => {\n    const item = {\n      x: vv[0][mapping.x.value],\n      //get the first one since it's grouped\n      y: yAggregator(vv.map(d => d[mapping.y.value])),\n      // aggregate\n      color: colorAggregator(v.map(d => d[mapping.color.value])),\n      // aggregate\n      series: vv[0][mapping.series.value],\n      //get the first one since it's grouped\n      lines: vv[0][mapping.lines.value] //get the first one since it's grouped\n\n    };\n    results.push(item);\n  }, d => d[mapping.x.value].toString() // sub-group functions. toString() to enable grouping on dates\n  ), d => d[mapping.series.value], // series grouping\n  d => d[mapping.lines.value] // group functions\n  );\n  return results;\n};\n\nfunction render$j(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // chart options\n    interpolation,\n    showPoints,\n    dotsDiameter,\n    yOrigin,\n    // ticks options\n    xTicksAuto,\n    xTicksAmount,\n    xTicksOuter,\n    // series options\n    columnsNumber,\n    useSameScale,\n    // @TODO: add\n    sortSeriesBy,\n    showSeriesLabels,\n    repeatAxesLabels,\n    showGrid,\n    // labels options\n    showLabels,\n    labelsPosition,\n    // color options\n    colorScale,\n    // legend\n    showLegend,\n    legendWidth\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  }; // create nest structure\n\n  const nestedData = rollups(data, v => v.sort((a, b) => ascending(a.x, b.x)), d => d.series, d => d.lines); // comupte max values for series\n  // will add it as property to each series.\n\n  nestedData.forEach(function (serie) {\n    serie.totalValue = data.filter(item => item.series == serie[0]).reduce((result, item) => result + item.y, 0);\n  }); // series sorting functions\n\n  const seriesSortings = {\n    'Total value (descending)': function (a, b) {\n      return descending(a.totalValue, b.totalValue);\n    },\n    'Total value (ascending)': function (a, b) {\n      return ascending(a.totalValue, b.totalValue);\n    },\n    Name: function (a, b) {\n      return ascending(a[0], b[0]);\n    }\n  }; // sort series\n\n  nestedData.sort(seriesSortings[sortSeriesBy]); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(mapping.series.value ? columnsNumber : 1);\n  const griddingData = gridding$1(nestedData);\n  const svg = select(svgNode).append('g').attr('id', 'viz'); // create the clip path\n\n  svg.append('clipPath').attr('id', 'serieClipPath').append('rect').attr('x', -margin.left).attr('y', -margin.top).attr('width', griddingData[0].width).attr('height', griddingData[0].height);\n  const series = svg.selectAll('g').data(griddingData).join('g').attr('id', d => d[0]).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')');\n  mapping.x.dataType === 'number' ? mapping.x.dataType = {\n    type: 'number'\n  } : null; // @TODO it should be better to have always the same kind of object in mapping\n  // add grid\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  } // now add everything to each series\n\n\n  series.each(function (d, serieIndex) {\n    // load the single selection\n    const selection = select(this).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); // add the clip path\n    // clip-path: url(#clipPath);\n\n    selection.attr('clip-path', 'url(#serieClipPath)'); // compute each serie width and height\n\n    const serieWidth = d.width - margin.right - margin.left;\n    const serieHeight = d.height - margin.top - margin.bottom; // get domains\n\n    const xDomain = extent(data, e => e.x);\n    const yDomain = useSameScale ? // compute extent of the whole dataset\n    extent(data, e => e.y) : // compute extent of the single serie\n    extent(d[1].map(e => e[1]).flat(2), e => e.y);\n\n    if (yOrigin) {\n      yDomain[0] = 0;\n    } // define the x scale\n\n\n    let xScale;\n\n    switch (mapping.x.dataType.type) {\n      case 'number':\n        xScale = scaleLinear().domain(xDomain).nice().range([0, serieWidth]);\n        break;\n\n      case 'date':\n        xScale = scaleTime().domain(xDomain).nice().range([0, serieWidth]);\n        break;\n    } // define the y scale\n\n\n    const yScale = scaleLinear().domain(yDomain).nice().range([serieHeight, 0]); // define the line path function\n\n    const line$1 = line().x(function (d) {\n      return xScale(d.x);\n    }).y(function (d) {\n      return yScale(d.y);\n    }).curve(d3[interpolation]);\n\n    const xAxis = g => {\n      return g.attr('transform', d => 'translate(0,' + (yDomain[0] >= 0 ? serieHeight : yScale(0)) + ')').call(axisBottom(xScale).tickValues(xTicksAuto ? xScale.ticks() : xTicksOuter ? xScale.ticks(xTicksAmount).concat(xScale.domain()) : xScale.ticks(xTicksAmount))).call(g => g.append('text').attr('x', serieWidth).attr('dy', -5).attr('text-anchor', 'end').attr('display', serieIndex == 0 || repeatAxesLabels ? null : 'none').text(mapping['x'].value).styles(styles.axisLabel));\n    };\n\n    const yAxis = g => {\n      return g.attr('transform', d => 'translate(' + (mapping.x.dataType.type === 'date' || xDomain[0] >= 0 ? 0 : xScale(0)) + ',0)').call(axisLeft(yScale).tickSizeOuter(0)).call(g => g.append('text').attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').attr('display', serieIndex == 0 || repeatAxesLabels ? null : 'none').text(mapping['y'].value).styles(styles.axisLabel));\n    };\n\n    const axisLayer = selection.append('g').attr('id', 'axis');\n    axisLayer.append('g').call(xAxis);\n    axisLayer.append('g').call(yAxis); // create a group for each line.\n    // the group will contain the line and the dots.\n\n    const groups = selection.append('g').attr('id', 'viz').selectAll('g').data(d => d[1]) // pass the single line\n    .join('g').attr('id', d => d[0]);\n    groups.append('path').attr('d', d => line$1(d[1])).attr('stroke', d => colorScale(d[1][0].color)).attr('fill', 'none');\n\n    if (showPoints) {\n      groups.append('g').selectAll('circle').data(d => d[1]).join('circle').attr('class', 'dot').attr('cx', d => xScale(d.x)).attr('cy', d => yScale(d.y)).attr('r', dotsDiameter / 2).attr('fill', d => colorScale(d.color));\n    } // add lines labels\n\n\n    if (showLabels) {\n      let labels = groups.append('text').attr('font-family', 'sans-serif').attr('font-size', 10).attr('class', 'labels').text(d => d[0]);\n\n      if (labelsPosition == 'side') {\n        labels.attr('x', d => xScale(d[1].slice(-1)[0].x)) // get last x\n        .attr('y', d => yScale(d[1].slice(-1)[0].y)) // get last y\n        .attr('dx', 5).attr('dy', 4).attr('text-anchor', 'start');\n      } else if (labelsPosition == 'inline') {\n        labels.attr('x', d => {\n          const maxPos = greatest(d[1], e => e.y);\n          return xScale(maxPos.x);\n        }).attr('y', d => {\n          const maxPos = greatest(d[1], e => e.y);\n          return yScale(maxPos.y);\n        }).attr('dx', 0).attr('dy', -4).attr('text-anchor', 'middle');\n      }\n    } // add series titles\n\n\n    if (showSeriesLabels) {\n      select(this).append('text').attr('y', 4).attr('x', 4).text(d => d[0]).styles(styles.seriesLabel);\n    }\n  });\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$j = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 15,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  showPoints: {\n    type: 'boolean',\n    label: 'Show dots on data values',\n    default: false,\n    group: 'chart'\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    default: 2,\n    group: 'chart',\n    disabled: {\n      showPoints: false\n    }\n  },\n  interpolation: {\n    type: 'text',\n    label: 'Curve type',\n    default: 'curveBumpX',\n    options: [{\n      label: 'Basis',\n      value: 'curveBasis'\n    }, {\n      label: 'Bundle',\n      value: 'curveBundle'\n    }, {\n      label: 'Bump',\n      value: 'curveBumpX'\n    }, {\n      label: 'Cardinal',\n      value: 'curveCardinal'\n    }, {\n      label: 'CatmullRom',\n      value: 'curveCatmullRom'\n    }, {\n      label: 'Linear',\n      value: 'curveLinear'\n    }, {\n      label: 'Monotone X',\n      value: 'curveMonotoneX'\n    }, {\n      label: 'Natural',\n      value: 'curveNatural'\n    }, {\n      label: 'Step',\n      value: 'curveStep'\n    }, {\n      label: 'Step After',\n      value: 'curveStepAfter'\n    }, {\n      label: 'Step Before',\n      value: 'curveStepBefore'\n    }],\n    group: 'chart'\n  },\n  yOrigin: {\n    type: 'boolean',\n    label: 'Set Y origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['y']\n  },\n  columnsNumber: {\n    type: 'number',\n    label: 'Number of columns',\n    default: 0,\n    group: 'series'\n  },\n  xTicksAuto: {\n    type: 'boolean',\n    label: 'Auto-place ticks on x axis',\n    default: true,\n    group: 'axes'\n  },\n  xTicksAmount: {\n    type: 'number',\n    label: 'Max. ticks on x axis',\n    default: 1,\n    group: 'axes',\n    disabled: {\n      xTicksAuto: true\n    }\n  },\n  xTicksOuter: {\n    type: 'boolean',\n    label: 'Show min/max on x axis',\n    default: false,\n    group: 'axes',\n    disabled: {\n      xTicksAuto: true\n    }\n  },\n  sortSeriesBy: {\n    type: 'text',\n    label: 'Sort series by',\n    group: 'series',\n    options: ['Total value (descending)', 'Total value (ascending)', 'Name', 'Original'],\n    default: 'Total value (descending)'\n  },\n  useSameScale: {\n    type: 'boolean',\n    label: 'Use same scale',\n    default: true,\n    group: 'series'\n  },\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show series titles',\n    default: true,\n    group: 'series'\n  },\n  repeatAxesLabels: {\n    type: 'boolean',\n    label: 'Repeat axis labels for each series',\n    default: false,\n    group: 'series'\n  },\n  showLabels: {\n    type: 'boolean',\n    label: 'Show labels',\n    default: true,\n    group: 'labels'\n  },\n  labelsPosition: {\n    type: 'text',\n    label: 'Labels position',\n    options: ['inline', 'side'],\n    default: 'inline',\n    group: 'labels',\n    disabled: {\n      showLabels: false\n    }\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show series grid',\n    default: true,\n    group: 'series'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  }\n};\n\nvar linechart = {\n  metadata: metadata$j,\n  dimensions: dimensions$j,\n  mapData: mapData$j,\n  render: render$j,\n  visualOptions: visualOptions$j,\n  styles: styles$1\n};\n\nvar img$C = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3crect class='cls-1' x='34' y='10' width='4' height='4'/%3e %3crect class='cls-1' x='27' y='19' width='2' height='2'/%3e %3crect class='cls-1' x='26' y='26' width='4' height='4'/%3e %3crect class='cls-1' x='32' y='24' width='8' height='8'/%3e %3crect class='cls-1' x='42' y='26' width='4' height='4'/%3e %3crect class='cls-1' x='19' y='35' width='2' height='2'/%3e %3crect class='cls-1' x='8' y='40' width='8' height='8'/%3e %3crect class='cls-1' x='32' y='40' width='8' height='8'/%3e %3c/g%3e %3cg id='primary'%3e %3crect class='cls-2' x='8' y='8' width='8' height='8'/%3e %3crect class='cls-2' x='18' y='10' width='4' height='4'/%3e %3crect class='cls-2' x='24' y='8' width='8' height='8'/%3e %3crect class='cls-2' x='43' y='11' width='2' height='2'/%3e %3crect class='cls-2' x='10' y='18' width='4' height='4'/%3e %3crect class='cls-2' x='19' y='19' width='2' height='2'/%3e %3crect class='cls-2' x='42' y='18' width='4' height='4'/%3e %3crect class='cls-2' x='34' y='18' width='4' height='4'/%3e %3crect class='cls-2' x='9' y='25' width='6' height='6'/%3e %3crect class='cls-2' x='17' y='25' width='6' height='6'/%3e %3crect class='cls-2' x='10' y='34' width='4' height='4'/%3e %3crect class='cls-2' x='27' y='35' width='2' height='2'/%3e %3crect class='cls-2' x='34' y='34' width='4' height='4'/%3e %3crect class='cls-2' x='43' y='35' width='2' height='2'/%3e %3crect class='cls-2' x='19' y='43' width='2' height='2'/%3e %3crect class='cls-2' x='26' y='42' width='4' height='4'/%3e %3crect class='cls-2' x='42' y='42' width='4' height='4'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$D = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-2%2c .cls-3 %7b fill: none%3b %7d .cls-2 %7b stroke: black%3b %7d .cls-3 %7b stroke: %23e5e5e5%3b %7d .cls-4 %7b isolation: isolate%3b font-size: 10px%3b font-family: Helvetica%3b %7d .cls-5 %7b fill: %23feea9e%3b %7d .cls-6 %7b fill: %23d5ee9f%3b %7d .cls-7 %7b fill: %2389cfa5%3b %7d .cls-8 %7b fill: %23fdc374%3b %7d .cls-9 %7b fill: %23f6faae%3b %7d .cls-10 %7b fill: %23ce384b%3b %7d .cls-11 %7b fill: %23eef8a8%3b %7d .cls-12 %7b fill: %23fdf3aa%3b %7d .cls-13 %7b fill: %23fed281%3b %7d .cls-14 %7b fill: %23ee6949%3b %7d .cls-15 %7b fill: %2361b7ab%3b %7d .cls-16 %7b fill: %23af1446%3b %7d .cls-17 %7b fill: %23b1e0a1%3b %7d .cls-18 %7b fill: %23fba05c%3b %7d .cls-19 %7b fill: %234285b4%3b %7d .cls-20 %7b fill: %23e3f4a1%3b %7d .cls-21 %7b fill: %23f47b4c%3b %7d .cls-22 %7b fill: %23f88e53%3b %7d .cls-23 %7b fill: %235e4fa2%3b %7d .cls-24 %7b fill: %2374c4a7%3b %7d .cls-25 %7b fill: %234673b1%3b %7d .cls-26 %7b fill: %23e55949%3b %7d .cls-27 %7b fill: %23c4e79f%3b %7d .cls-28 %7b fill: %23bf2749%3b %7d .cls-29 %7b fill: %23db494a%3b %7d .cls-30 %7b fill: %235161aa%3b %7d .cls-31 %7b fill: %23fedf90%3b %7d .cls-32 %7b fill: %239dd8a3%3b %7d .cls-33 %7b fill: %2351a8af%3b %7d .cls-34 %7b fill: %239e0142%3b %7d .cls-35 %7b fill: %23fbf8b0%3b %7d .cls-36 %7b fill: %234696b3%3b %7d .cls-37 %7b fill: %23fcb368%3b %7d %3c/style%3e %3c/defs%3e %3crect id='backgorund' class='cls-1' width='320' height='160'/%3e %3cg id='viz'%3e %3cg%3e %3cpath class='cls-2' d='M20.5%2c20.5h290'/%3e %3cg%3e %3cline class='cls-3' x1='37.0519' y1='20' x2='37.0519' y2='14'/%3e %3ctext class='cls-4' transform='translate(35.6404 13.6366) rotate(-45)'%3ea%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='69.0389' y1='20' x2='69.0389' y2='14'/%3e %3ctext class='cls-4' transform='translate(67.6275 13.6366) rotate(-45)'%3eb%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='101.026' y1='20' x2='101.026' y2='14'/%3e %3ctext class='cls-4' transform='translate(99.6143 13.6366) rotate(-45)'%3ec%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='133.013' y1='20' x2='133.013' y2='14'/%3e %3ctext class='cls-4' transform='translate(131.6014 13.6366) rotate(-45)'%3ed%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='165' y1='20' x2='165' y2='14'/%3e %3ctext class='cls-4' transform='translate(163.5884 13.6366) rotate(-45)'%3ee%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='196.987' y1='20' x2='196.987' y2='14'/%3e %3ctext class='cls-4' transform='translate(195.5755 13.6366) rotate(-45)'%3ef%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='228.974' y1='20' x2='228.974' y2='14'/%3e %3ctext class='cls-4' transform='translate(227.5625 13.6366) rotate(-45)'%3eg%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='260.9611' y1='20' x2='260.9611' y2='14'/%3e %3ctext class='cls-4' transform='translate(259.5496 13.6366) rotate(-45)'%3eh%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='292.9481' y1='20' x2='292.9481' y2='14'/%3e %3ctext class='cls-4' transform='translate(291.5367 13.6366) rotate(-45)'%3ei%3c/text%3e %3c/g%3e %3c/g%3e %3cg%3e %3cpath class='cls-2' d='M20.5%2c20.5V149.3889'/%3e %3cg%3e %3cline class='cls-3' x1='20' y1='36.8977' x2='14' y2='36.8977'/%3e %3ctext class='cls-4' transform='translate(4.8916 40.0977)'%3e%ce%b1%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='20' y1='68.5955' x2='14' y2='68.5955'/%3e %3ctext class='cls-4' transform='translate(4.8916 71.7955)'%3e%ce%b2%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='20' y1='100.2934' x2='14' y2='100.2934'/%3e %3ctext class='cls-4' transform='translate(5.4385 103.4933)'%3e%ce%b3%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-3' x1='20' y1='131.9912' x2='14' y2='131.9912'/%3e %3ctext class='cls-4' transform='translate(4.8916 135.1912)'%3e%ce%b4%3c/text%3e %3c/g%3e %3c/g%3e %3crect class='cls-5' x='22.1168' y='22.0976' width='30.2222' height='30.2222'/%3e %3crect class='cls-6' x='54.8144' y='22.8082' width='28.8011' height='28.8011'/%3e %3crect class='cls-7' x='91.6693' y='27.6761' width='19.0654' height='19.0654'/%3e %3crect class='cls-8' x='128.3619' y='32.3817' width='9.6541' height='9.6541'/%3e %3crect class='cls-9' x='158.1809' y='30.2137' width='13.9902' height='13.9902'/%3e %3crect class='cls-10' x='188.2623' y='28.3081' width='17.8013' height='17.8013'/%3e %3crect class='cls-11' x='222.4964' y='30.5551' width='13.3073' height='13.3073'/%3e %3crect class='cls-12' x='256.5577' y='32.6294' width='9.1587' height='9.1587'/%3e %3crect class='cls-13' x='285.0468' y='29.1315' width='16.1544' height='16.1545'/%3e %3crect class='cls-14' x='23.3213' y='54.9999' width='27.8133' height='27.8133'/%3e %3crect class='cls-15' x='59.9299' y='59.6215' width='18.5701' height='18.5701'/%3e %3crect class='cls-16' x='94.9082' y='62.6128' width='12.5874' height='12.5875'/%3e %3crect class='cls-17' x='120.0579' y='55.7755' width='26.2621' height='26.2621'/%3e %3crect class='cls-16' x='153.3521' y='57.0827' width='23.6477' height='23.6477'/%3e %3crect class='cls-18' x='193.7498' y='65.4933' width='6.8265' height='6.8265'/%3e %3crect class='cls-19' x='224.323' y='64.0795' width='9.6541' height='9.6541'/%3e %3crect class='cls-20' x='250.5615' y='58.331' width='21.1512' height='21.1511'/%3e %3crect class='cls-21' x='283.1145' y='58.8969' width='20.0192' height='20.0192'/%3e %3crect class='cls-22' x='31.5164' y='94.8929' width='11.4229' height='11.4229'/%3e %3crect class='cls-23' x='56.5353' y='87.9247' width='25.3593' height='25.3593'/%3e %3crect class='cls-24' x='87.8074' y='87.2098' width='26.7891' height='26.7891'/%3e %3crect class='cls-18' x='126.8952' y='94.3107' width='12.5875' height='12.5874'/%3e %3crect class='cls-25' x='160.5966' y='96.025' width='9.1587' height='9.1587'/%3e %3crect class='cls-14' x='192.8456' y='96.2869' width='8.6349' height='8.6349'/%3e %3crect class='cls-26' x='219.1404' y='90.5948' width='20.0192' height='20.0192'/%3e %3crect class='cls-27' x='249.3132' y='88.7805' width='23.6477' height='23.6477'/%3e %3crect class='cls-28' x='278.2461' y='85.7264' width='29.756' height='29.756'/%3e %3crect class='cls-29' x='30.2328' y='125.3071' width='13.9902' height='13.9902'/%3e %3crect class='cls-30' x='54.6535' y='117.7408' width='29.1229' height='29.1229'/%3e %3crect class='cls-31' x='91.9169' y='123.0171' width='18.5701' height='18.5701'/%3e %3crect class='cls-32' x='126.8952' y='126.0085' width='12.5875' height='12.5875'/%3e %3crect class='cls-33' x='154.0632' y='121.1894' width='22.2255' height='22.2255'/%3e %3crect class='cls-34' x='195.6366' y='130.7757' width='3.0529' height='3.0529'/%3e %3crect class='cls-35' x='220.3812' y='123.5334' width='17.5376' height='17.5376'/%3e %3crect class='cls-36' x='250.236' y='121.4011' width='21.8021' height='21.8021'/%3e %3crect class='cls-37' x='279.1339' y='118.312' width='27.9803' height='27.9803'/%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$k = {\n  name: 'Matrix Plot',\n  id: 'rawgraphs.matrixplot',\n  thumbnail: img$D,\n  icon: img$C,\n  categories: ['correlations', 'time series', 'proportions'],\n  description: 'It allows comparison of two categorical dimensions, disposing them on the horizontal and vertical axes. Each glyph (square or circle) represents a possible correlation among the two dimensions. Associated quantitative variables can be represented with size and/or color.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/matrixplot',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-matrix-plot/'\n};\n\nconst dimensions$k = [{\n  id: 'x',\n  name: 'X Axis',\n  validTypes: ['number', 'date', 'string'],\n  required: true\n}, {\n  id: 'y',\n  name: 'Y Axis',\n  validTypes: ['number', 'date', 'string'],\n  required: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true,\n  aggregation: true,\n  aggregationDefault: 'csvDistinct'\n}];\n\nconst mapData$k = function (data, mapping, dataTypes, dimensions) {\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions);\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const labelAggregators = getDimensionAggregator('label', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  };\n  'size' in mapping ? null : mapping.size = {\n    value: undefined\n  };\n  'label' in mapping ? null : mapping.label = {\n    value: undefined\n  };\n  const result = rollups(data, v => {\n    return {\n      x: v[0][mapping.x.value],\n      // get the first one since it's grouped\n      y: v[0][mapping.y.value],\n      // get the first one since it's grouped\n      size: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : v.length,\n      // aggregate. If not mapped, give 1 as size\n      color: mapping.color.value ? colorAggregator(v.map(d => d[mapping.color.value])) : undefined,\n      // aggregate, by default single color.\n      label: mapping.label.value ? mapping.label.value.map((label, i) => {\n        return labelAggregators[i](v.map(d => d[label]));\n      }) : undefined // create array of strings\n\n    };\n  }, d => d[mapping.x.value] + '_' + d[mapping.y.value] // crossgrup functions\n  );\n  return result.map(d => d[1]);\n};\n\nfunction render$k(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    padding,\n    rounding,\n    sortXAxisBy,\n    sortYAxisBy,\n    showGrid,\n    colorScale,\n    labelStyles,\n    showLabelsOutline,\n    // legend\n    showLegend,\n    legendWidth\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  let chartWidth = width - margin.left - margin.right;\n  let chartHeight = height - margin.top - margin.bottom; // sort data\n\n  let rowsValues = rollups(data, v => sum(v, d => d.size), d => d.y).map(d => ({\n    key: d[0],\n    value: d[1]\n  }));\n  const colsValues = rollups(data, v => sum(v, d => d.size), d => d.x).map(d => ({\n    key: d[0],\n    value: d[1]\n  }));\n\n  switch (sortXAxisBy) {\n    case 'Total value (descending)':\n      colsValues.sort((a, b) => descending(a.value, b.value));\n      break;\n\n    case 'Total value (ascending)':\n      colsValues.sort((a, b) => ascending(a.value, b.value));\n      break;\n\n    case 'Name':\n      colsValues.sort((a, b) => ascending(a.key, b.key));\n  }\n\n  switch (sortYAxisBy) {\n    case 'Total value (descending)':\n      rowsValues.sort((a, b) => descending(a.value, b.value));\n      break;\n\n    case 'Total value (ascending)':\n      rowsValues.sort((a, b) => ascending(a.value, b.value));\n      break;\n\n    case 'Name':\n      rowsValues.sort((a, b) => ascending(a.key, b.key));\n  } // first thing, understand if there are more rows or lines\n\n\n  const rows = [...new Set(rowsValues.map(d => d.key))];\n  const cols = [...new Set(colsValues.map(d => d.key))];\n  let cellSize;\n\n  if (rows.length > cols.length) {\n    cellSize = (chartHeight - rows.length * padding) / rows.length;\n    chartWidth = (cellSize + padding) * cols.length;\n  } else {\n    cellSize = (chartWidth - cols.length * padding) / cols.length;\n    chartHeight = (cellSize + padding) * rows.length;\n  }\n\n  const x = scaleBand().range([0, chartWidth]).domain(cols).padding(padding / cellSize); // d3 expects padding expressed in % (0-1)\n\n  const y = scaleBand().range([0, chartHeight]).domain(rows).padding(padding / cellSize); // d3 expects padding expressed in % (0-1)\n\n  const sizeScale = scaleSqrt().domain([0, max(data, d => d.size)]).range([0, cellSize]);\n  const roundingScale = scaleLinear().domain([0, 100]).rangeRound([0, 50]); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'viz');\n\n  if (showGrid) {\n    // add the X gridlines\n    svg.append('g').attr('class', 'grid').attr('transform', 'translate(' + (cellSize / 2 + 1) + ',0)') // not clear why there is an offset of 2px\n    .call(axisTop(x).tickSize(Math.round(-chartHeight + 1)).tickSizeOuter(0)); // add the Y gridlines\n\n    svg.append('g').attr('class', 'grid').attr('transform', 'translate(0,' + (cellSize / 2 + 1) + ')') // not clear why there is an offset of 2px\n    .call(axisLeft(y).tickSize(Math.round(-chartWidth + 1)).tickSizeOuter(0));\n  } // add top x axis\n\n\n  svg.append('g').call(axisTop(x).tickSizeOuter(0)).selectAll('text').attr('dx', Math.sqrt(12)) // proportional to text size. @TODO we should use a variable.\n  .attr('dy', Math.sqrt(12)) // proportional to text size. @TODO we should use a variable\n  .attr('text-anchor', 'start').attr('transform', 'rotate(-45)'); // add left y axis\n\n  svg.append('g').call(axisLeft(y).tickSizeOuter(0)).selectAll('text'); // add y axis title\n\n  svg.append('text').attr('dx', -9) // proportional to tick lines\n  .attr('dy', -9) // proportional to tick lines\n  .style('text-anchor', 'end').text(mapping.y.value).styles(styles.axisLabel); // add x axis title\n\n  svg.append('text').attr('x', (chartWidth + 9) / Math.sqrt(2)) // proportional to tick lines\n  .attr('y', (chartWidth + 9) / Math.sqrt(2)) // proportional to tick lines\n  .attr('dx', Math.sqrt(12)) // proportional to text size. @TODO we should use a variable.\n  .attr('dy', -Math.sqrt(12)) // proportional to text size. @TODO we should use a variable.\n  .attr('transform', 'rotate(-45)').style('text-anchor', 'start').text(mapping.x.value).styles(styles.axisLabel); // draw squares or circles for each value\n\n  svg.selectAll().data(data).enter().append('rect').attr('x', d => x(d.x) + (cellSize - sizeScale(d.size)) / 2).attr('y', d => y(d.y) + (cellSize - sizeScale(d.size)) / 2).attr('rx', d => roundingScale(rounding) * sizeScale(d.size) / 100).attr('ry', d => roundingScale(rounding) * sizeScale(d.size) / 100).attr('width', d => sizeScale(d.size)).attr('height', d => sizeScale(d.size)).style('fill', d => colorScale(d.color));\n  const labelsLayer = svg.append('g').attr('id', 'labels');\n  labelsLayer.selectAll('g').data(mapping.label.value ? data : []).join('g').attr('transform', d => `translate(${x(d.x) + cellSize / 2},${y(d.y) + cellSize / 2})`).append('text').attr('x', 0).attr('y', 0).attr('text-anchor', 'middle').attr('dominant-baseline', 'text-before-edge').selectAll('tspan').data(d => Array.isArray(d.label) ? d.label : [d.label]).join('tspan').attr('x', 0).attr('y', 0).attr('dy', (d, i) => i * (+styles[labelStyles[i]].fontSize.replace('px', '') + 2)).text((d, i) => {\n    if (d && mapping.label.dataType[i].type === 'date') {\n      return timeFormat(dateFormats[mapping.label.dataType[i].dateFormat])(d);\n    } else {\n      return d;\n    }\n  }).styles((d, i) => styles[labelStyles[i]]);\n  labelsLayer.selectAll('text').call(sel => {\n    return sel.attr('transform', function (d) {\n      const height = sel.node().getBBox().height;\n      return `translate(0,${-height / 2})`;\n    });\n  });\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    labelsLayer.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    if (mapping.size.value) {\n      const legendSizeScale = sizeScale.copy();\n      const maxSize = sizeScale(max(data, d => d.size)) > legendWidth * 0.66 ? legendWidth * 0.66 : sizeScale(max(data, d => d.size));\n      const shape = rounding >= 100 ? 'circle' : 'square';\n      legendSizeScale.domain(extent(data, d => d.size)).rangeRound([sizeScale(min(data, d => d.size)), maxSize]);\n\n      if (shape === 'circle') {\n        legendSizeScale.rangeRound(legendSizeScale.range().map(d => d / 2));\n      }\n\n      chartLegend.addSize(mapping.size.value, legendSizeScale, shape);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$k = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 100,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  rounding: {\n    type: 'number',\n    label: 'Round Corners',\n    default: 0,\n    min: 0,\n    max: 100,\n    step: 1,\n    group: 'chart'\n  },\n  padding: {\n    type: 'number',\n    label: 'Padding',\n    default: 2,\n    group: 'chart'\n  },\n  sortXAxisBy: {\n    type: 'text',\n    label: 'Sort X axis by',\n    group: 'chart',\n    options: ['Total value (descending)', 'Total value (ascending)', 'Name', 'Original'],\n    default: 'Original'\n  },\n  sortYAxisBy: {\n    type: 'text',\n    label: 'Sort Y axis by',\n    group: 'chart',\n    options: ['Total value (descending)', 'Total value (ascending)', 'Name', 'Original'],\n    default: 'Original'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show grid',\n    default: false,\n    group: 'chart'\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  }\n};\n\nvar matrixplot = {\n  metadata: metadata$k,\n  dimensions: dimensions$k,\n  mapData: mapData$k,\n  render: render$k,\n  visualOptions: visualOptions$k,\n  styles: styles$1\n};\n\nvar img$E = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3crect class='cls-1' x='8' y='8' width='1' height='40'/%3e %3crect class='cls-1' x='47' y='8' width='1' height='40'/%3e %3crect class='cls-1' x='21' y='8' width='1' height='40'/%3e %3crect class='cls-1' x='34' y='8' width='1' height='40'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='34.34 30.518 21.356 17.91 8.148 21.497 7.886 20.532 21.644 16.796 34.66 29.435 47.894 26.822 48.087 27.803 34.34 30.518'/%3e %3cpolygon class='cls-2' points='8.567 42.77 7.796 42.132 21.115 26.021 34.419 14.916 48.161 21.059 47.752 21.972 34.581 16.084 21.82 26.723 8.567 42.77'/%3e %3cpolygon class='cls-2' points='8.2 45.594 7.86 44.654 21.455 39.732 34.585 42.007 48.064 43.886 47.926 44.876 34.431 42.995 21.545 40.762 8.2 45.594'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$F = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-3%2c .cls-4%2c .cls-5%2c .cls-6%2c .cls-7 %7b fill: none%3b %7d .cls-1 %7b stroke: %235e4fa2%3b %7d .cls-1%2c .cls-2%2c .cls-3%2c .cls-4%2c .cls-5%2c .cls-6 %7b stroke-miterlimit: 10%3b stroke-width: 0.5px%3b %7d .cls-2 %7b stroke: %239e0142%3b %7d .cls-3 %7b stroke: %2369bda9%3b %7d .cls-4 %7b stroke: %23e0f3a1%3b %7d .cls-5 %7b stroke: %23fedd8d%3b %7d .cls-6 %7b stroke: %23f0704a%3b %7d .cls-7 %7b stroke: black%3b %7d .cls-8 %7b isolation: isolate%3b font-size: 12.0609px%3b font-family: ArialMT%2c Arial%3b %7d %3c/style%3e %3c/defs%3e %3cg%3e %3cpath class='cls-1' d='M28.65%2c150.6186l96.5822-60.3047%2c96.5822%2c57.8516%2c96.5821%2c2.4531'/%3e %3cpath class='cls-1' d='M28.65%2c146.5983l96.5822-50.2539%2c96.5822%2c44.4619%2c96.5821%2c3.7818'/%3e %3cpath class='cls-1' d='M28.65%2c146.5983l96.5822-56.2844%2c96.5822%2c52.9455%2c96.5821%2c1.3287'/%3e %3cpath class='cls-1' d='M28.65%2c146.5983l96.5822-68.3454%2c96.5822%2c65.0065%2c96.5821%2c1.3287'/%3e %3cpath class='cls-1' d='M28.65%2c142.578l96.5822-10.0508%2c96.5822%2c10.7322%2c96.5821-4.7018'/%3e %3cpath class='cls-1' d='M28.65%2c138.5576l96.5822-54.2742%2c96.5822%2c54.07%2c96.5821%2c6.2349'/%3e %3cpath class='cls-1' d='M28.65%2c138.5576%2c125.2325%2c66.192l96.5822%2c74.6143%2c96.5821-2.2487'/%3e %3cpath class='cls-2' d='M28.65%2c138.5576l96.5822-84.4265%2c96.5822%2c96.4875%2c96.5821-6.03'/%3e %3cpath class='cls-1' d='M28.65%2c138.5576l96.5822-60.3047%2c96.5822%2c62.5534%2c96.5821%2c3.7818'/%3e %3cpath class='cls-1' d='M28.65%2c134.5373l96.5822-56.2844%2c96.5822%2c65.0065%2c96.5821%2c1.3287'/%3e %3cpath class='cls-1' d='M28.65%2c134.5373l96.5822-56.2844L221.8147%2c135.9l96.5821%2c8.688'/%3e %3cpath class='cls-2' d='M28.65%2c130.517l96.5822-64.325L221.8147%2c135.9l96.5821%2c8.688'/%3e %3cpath class='cls-1' d='M28.65%2c130.517l96.5822-40.2031%2c96.5822%2c50.4924%2c96.5821%2c9.8123'/%3e %3cpath class='cls-2' d='M28.65%2c130.517l96.5822-64.325%2c96.5822%2c62.3489%2c96.5821%2c16.0472'/%3e %3cpath class='cls-2' d='M28.65%2c130.517l96.5822-46.2336L221.8147%2c135.9l96.5821%2c8.688'/%3e %3cpath class='cls-1' d='M28.65%2c130.517l96.5822-40.2031%2c96.5822%2c50.4924%2c96.5821-2.2487'/%3e %3cpath class='cls-2' d='M28.65%2c126.4967l96.5822-36.1828%2c96.5822%2c50.4924%2c96.5821%2c3.7818'/%3e %3cpath class='cls-2' d='M28.65%2c126.4967l96.5822-42.2133%2c96.5822%2c54.07%2c96.5821%2c12.2654'/%3e %3cpath class='cls-2' d='M28.65%2c126.4967l96.5822-42.2133%2c96.5822%2c54.07%2c96.5821%2c12.2654'/%3e %3cpath class='cls-2' d='M28.65%2c126.4967l96.5822-42.2133%2c96.5822%2c54.07%2c96.5821%2c12.2654'/%3e %3cpath class='cls-1' d='M28.65%2c126.4967h96.5822l96.5822-32.2988%2c96.5821%2c2.1465'/%3e %3cpath class='cls-1' d='M28.65%2c126.4967l96.5822-6.0305L221.8147%2c64.761l96.5821-10.63'/%3e %3cpath class='cls-2' d='M28.65%2c122.4764l96.5822-68.3453%2c96.5822%2c86.6752%2c96.5821%2c3.7818'/%3e %3cpath class='cls-2' d='M28.65%2c122.4764%2c125.2325%2c66.192l96.5822%2c72.1612%2c96.5821%2c6.2349'/%3e %3cpath class='cls-2' d='M28.65%2c122.4764l96.5822-32.1625L221.8147%2c135.9l96.5821%2c8.688'/%3e %3cpath class='cls-2' d='M28.65%2c122.4764%2c125.2325%2c66.192%2c221.8147%2c135.9l96.5821-3.3729'/%3e %3cpath class='cls-2' d='M28.65%2c122.4764l96.5822-44.2235%2c96.5822%2c67.46%2c96.5821-1.1243'/%3e %3cpath class='cls-2' d='M28.65%2c122.4764l96.5822-62.3149%2c96.5822%2c83.0979%2c96.5821-4.7018'/%3e %3cpath class='cls-2' d='M28.65%2c122.4764l96.5822-62.3149L221.8147%2c135.9l96.5821-15.4339'/%3e %3cpath class='cls-2' d='M28.65%2c122.4764l96.5822-50.2539%2c96.5822%2c68.5838%2c96.5821%2c3.7818'/%3e %3cpath class='cls-1' d='M28.65%2c122.4764l96.5822%2c28.1422%2c96.5822-61.3268%2c96.5821%2c7.0526'/%3e %3cpath class='cls-1' d='M28.65%2c122.4764l96.5822%2c10.0508%2c96.5822-38.3293%2c96.5821%2c2.1465'/%3e %3cpath class='cls-2' d='M28.65%2c118.4561l96.5822-58.2946%2c96.5822%2c80.6448%2c96.5821%2c3.7818'/%3e %3cpath class='cls-2' d='M28.65%2c118.4561l96.5822-58.2946%2c96.5822%2c80.6448%2c96.5821-2.2487'/%3e %3cpath class='cls-2' d='M28.65%2c118.4561%2c125.2325%2c42.07l96.5822%2c96.2831%2c96.5821.2044'/%3e %3cpath class='cls-2' d='M28.65%2c118.4561l96.5822-70.3555%2c96.5822%2c90.2526%2c96.5821-5.826'/%3e %3cpath class='cls-2' d='M28.65%2c118.4561l96.5822-46.2336%2c96.5822%2c61.2246%2c96.5821-6.95'/%3e %3cpath class='cls-2' d='M28.65%2c118.4561%2c125.2325%2c66.192l96.5822%2c72.1612%2c96.5821%2c6.2349'/%3e %3cpath class='cls-2' d='M28.65%2c118.4561%2c125.2325%2c42.07l96.5822%2c86.4708%2c96.5821%2c3.9863'/%3e %3cpath class='cls-2' d='M28.65%2c118.4561%2c125.2325%2c42.07l96.5822%2c93.83%2c96.5821%2c8.688'/%3e %3cpath class='cls-1' d='M28.65%2c118.4561l96.5822%2c2.01%2c96.5822-18.9091%2c96.5821-11.2432'/%3e %3cpath class='cls-2' d='M28.65%2c114.4358l96.5822-54.2743%2c96.5822%2c78.1917%2c96.5821%2c6.2349'/%3e %3cpath class='cls-2' d='M28.65%2c114.4358%2c125.2325%2c66.192l96.5822%2c74.6143%2c96.5821%2c3.7818'/%3e %3cpath class='cls-2' d='M28.65%2c114.4358l96.5822-90.4571%2c96.5822%2c114.3745%2c96.5821%2c12.2654'/%3e %3cpath class='cls-3' d='M28.65%2c114.4358l96.5822-6.0305L221.8147%2c79.48l96.5821-7.257'/%3e %3cpath class='cls-2' d='M28.65%2c110.4154l96.5822-62.3148%2c96.5822%2c90.2526%2c96.5821%2c6.2349'/%3e %3cpath class='cls-2' d='M28.65%2c106.3951%2c125.2325%2c36.04l96.5822%2c97.4074%2c96.5821-.92'/%3e %3cpath class='cls-2' d='M28.65%2c106.3951l96.5822-58.2945%2c96.5822%2c90.2526%2c96.5821%2c6.2349'/%3e %3cpath class='cls-2' d='M28.65%2c106.3951%2c125.2325%2c36.04l96.5822%2c107.22%2c96.5821-10.7322'/%3e %3cpath class='cls-2' d='M28.65%2c106.3951%2c125.2325%2c66.192l96.5822%2c67.2551%2c96.5821%2c11.141'/%3e %3cpath class='cls-2' d='M28.65%2c106.3951%2c125.2325%2c66.192l96.5822%2c72.1612%2c96.5821-5.826'/%3e %3cpath class='cls-3' d='M28.65%2c106.3951l96.5822-16.0812L221.8147%2c64.761l96.5821%2c1.431'/%3e %3cpath class='cls-2' d='M28.65%2c102.3748l96.5822-84.4266%2c96.5822%2c122.8581%2c96.5821%2c3.7818'/%3e %3cpath class='cls-2' d='M28.65%2c102.3748l96.5822-42.2133%2c96.5822%2c83.0979%2c96.5821%2c1.3287'/%3e %3cpath class='cls-3' d='M28.65%2c102.3748l96.5822%2c30.1524%2c96.5822-55.5008%2c96.5821%2c1.2265'/%3e %3cpath class='cls-3' d='M28.65%2c102.3748l96.5822%2c24.1219%2c96.5822-44.5642%2c96.5821%2c8.3814'/%3e %3cpath class='cls-1' d='M28.65%2c102.3748l96.5822%2c24.1219%2c96.5822-42.1111%2c96.5821%2c11.9588'/%3e %3cpath class='cls-3' d='M28.65%2c102.3748l96.5822%2c18.0914%2c96.5822-43.44%2c96.5821%2c1.2265'/%3e %3cpath class='cls-3' d='M28.65%2c102.3748l96.5822%2c12.061%2c96.5822-47.2217%2c96.5821%2c17.0693'/%3e %3cpath class='cls-3' d='M28.65%2c98.3545l96.5822-2.01%2c96.5822-9.5057%2c96.5821-8.5858'/%3e %3cpath class='cls-3' d='M28.65%2c98.3545l96.5822-8.0406L221.8147%2c64.761l96.5821%2c1.431'/%3e %3cpath class='cls-3' d='M28.65%2c98.3545l96.5822%2c22.1117L221.8147%2c79.48l96.5821%2c10.8344'/%3e %3cpath class='cls-3' d='M28.65%2c98.3545l96.5822-8.0406%2c96.5822-15.7406%2c96.5821%2c3.68'/%3e %3cpath class='cls-3' d='M28.65%2c98.3545l96.5822%2c10.0508L221.8147%2c72.12l96.5821%2c6.1326'/%3e %3cpath class='cls-4' d='M28.65%2c98.3545l96.5822%2c4.02%2c96.5822-47.426L318.3968%2c36.04'/%3e %3cpath class='cls-2' d='M28.65%2c94.3342%2c125.2325%2c5.8873l96.5822%2c132.4659%2c96.5821-5.826'/%3e %3cpath class='cls-2' d='M28.65%2c94.3342%2c125.2325%2c42.07l96.5822%2c91.377%2c96.5821%2c5.1105'/%3e %3cpath class='cls-3' d='M28.65%2c94.3342l96.5822%2c8.0406L221.8147%2c64.761l96.5821%2c13.4919'/%3e %3cpath class='cls-1' d='M28.65%2c94.3342l96.5822%2c20.1016%2c96.5822-25.144%2c96.5821%2c7.0526'/%3e %3cpath class='cls-3' d='M28.65%2c94.3342l96.5822-4.02L221.8147%2c72.12l96.5821%2c12.1631'/%3e %3cpath class='cls-3' d='M28.65%2c94.3342l96.5822%2c2.01L221.8147%2c72.12l96.5821%2c6.1326'/%3e %3cpath class='cls-3' d='M28.65%2c94.3342l96.5822%2c8.0406%2c96.5822-27.8015%2c96.5821%2c3.68'/%3e %3cpath class='cls-4' d='M28.65%2c94.3342l96.5822%2c26.132%2c96.5822-67.97L318.3968%2c36.04'/%3e %3cpath class='cls-2' d='M28.65%2c90.3139l96.5822-60.3047%2c96.5822%2c115.7032%2c96.5821-1.1243'/%3e %3cpath class='cls-3' d='M28.65%2c90.3139l96.5822%2c18.0914%2c96.5822-33.832%2c96.5821%2c21.7711'/%3e %3cpath class='cls-3' d='M28.65%2c90.3139l96.5822%2c18.0914L221.8147%2c79.48l96.5821%2c4.8039'/%3e %3cpath class='cls-3' d='M28.65%2c90.3139l96.5822%2c24.1219%2c96.5822-37.4094%2c96.5821%2c7.257'/%3e %3cpath class='cls-4' d='M28.65%2c90.3139l96.5822%2c18.0914%2c96.5822-58.3627L318.3968%2c42.07'/%3e %3cpath class='cls-5' d='M28.65%2c90.3139l96.5822%2c12.0609%2c96.5822-52.3322%2c96.5821-38.1248'/%3e %3cpath class='cls-4' d='M28.65%2c90.3139l96.5822%2c18.0914%2c96.5822-58.3627L318.3968%2c42.07'/%3e %3cpath class='cls-3' d='M28.65%2c86.2936l96.5822%2c4.02L221.8147%2c72.12l96.5821-5.9283'/%3e %3cpath class='cls-4' d='M28.65%2c86.2936l96.5822-8.0407%2c96.5822-20.8511%2c96.5821-9.3012'/%3e %3cpath class='cls-4' d='M28.65%2c86.2936l96.5822%2c4.02%2c96.5822-40.2713%2c96.5821-1.942'/%3e %3cpath class='cls-3' d='M28.65%2c82.2733l96.5822%2c56.2843%2c96.5822-61.5312%2c96.5821%2c19.318'/%3e %3cpath class='cls-3' d='M28.65%2c82.2733l96.5822%2c14.0711L221.8147%2c64.761l96.5821%2c1.431'/%3e %3cpath class='cls-4' d='M28.65%2c82.2733l96.5822%2c26.132%2c96.5822-58.3627%2c96.5821%2c10.1189'/%3e %3cpath class='cls-3' d='M28.65%2c82.2733%2c125.2325%2c66.192l96.5822-1.431%2c96.5821-4.5995'/%3e %3cpath class='cls-4' d='M28.65%2c82.2733l96.5822%2c56.2843%2c96.5822-86.0619L318.3968%2c66.192'/%3e %3cpath class='cls-4' d='M28.65%2c82.2733l96.5822%2c8.0406%2c96.5822-32.9121%2c96.5821-9.3012'/%3e %3cpath class='cls-3' d='M28.65%2c78.2529l96.5822%2c18.0915%2c96.5822-36.4895%2c96.5821%2c12.3676'/%3e %3cpath class='cls-3' d='M28.65%2c78.2529l96.5822%2c24.1219%2c96.5822-25.3484%2c96.5821%2c1.2265'/%3e %3cpath class='cls-3' d='M28.65%2c78.2529l96.5822%2c24.1219%2c96.5822-42.52%2c96.5821%2c24.4285'/%3e %3cpath class='cls-3' d='M28.65%2c78.2529l96.5822%2c12.061L221.8147%2c62.308l96.5821%2c9.9145'/%3e %3cpath class='cls-4' d='M28.65%2c78.2529l96.5822%2c12.061%2c96.5822-35.3651%2c96.5821-6.8482'/%3e %3cpath class='cls-4' d='M28.65%2c78.2529l96.5822%2c36.1829%2c96.5822-76.6586%2c96.5821%2c34.4453'/%3e %3cpath class='cls-3' d='M28.65%2c74.2326l96.5822%2c64.325L221.8147%2c64.761l96.5821%2c1.431'/%3e %3cpath class='cls-3' d='M28.65%2c74.2326l96.5822%2c22.1118%2c96.5822-26.6772%2c96.5821%2c8.5857'/%3e %3cpath class='cls-4' d='M28.65%2c74.2326l96.5822%2c28.1422%2c96.5822-44.973%2c96.5821-9.3012'/%3e %3cpath class='cls-5' d='M28.65%2c74.2326l96.5822-8.0406%2c96.5822-23.5086%2c96.5821-24.7352'/%3e %3cpath class='cls-3' d='M28.65%2c70.2123l96.5822%2c2.01%2c96.5822-12.3676%2c96.5821.3066'/%3e %3cpath class='cls-3' d='M28.65%2c70.2123l96.5822%2c50.2539%2c96.5822-65.5174L318.3968%2c66.192'/%3e %3cpath class='cls-3' d='M28.65%2c70.2123l96.5822%2c62.3149%2c96.5822-65.3131%2c96.5821%2c11.0388'/%3e %3cpath class='cls-6' d='M28.65%2c70.2123l96.5822%2c2.01L221.8147%2c27.965%2c318.3968%2c5.8873'/%3e %3cpath class='cls-4' d='M28.65%2c70.2123l96.5822%2c26.1321%2c96.5822-58.5672%2c96.5821%2c10.3234'/%3e %3cpath class='cls-4' d='M28.65%2c70.2123l96.5822%2c38.193%2c96.5822-53.4565%2c96.5821-6.8482'/%3e %3cpath class='cls-4' d='M28.65%2c70.2123l96.5822%2c32.1625%2c96.5822-52.3322L318.3968%2c66.192'/%3e %3cpath class='cls-5' d='M28.65%2c70.2123l96.5822-4.02%2c96.5822-28.4148%2c96.5821-25.8594'/%3e %3cpath class='cls-4' d='M28.65%2c70.2123l96.5822%2c50.2539%2c96.5822-67.97L318.3968%2c42.07'/%3e %3cpath class='cls-3' d='M28.65%2c66.192l96.5822%2c12.0609L221.8147%2c64.761l96.5821%2c1.431'/%3e %3cpath class='cls-3' d='M28.65%2c66.192l96.5822%2c30.1524%2c96.5822-26.6772%2c96.5821%2c8.5857'/%3e %3cpath class='cls-4' d='M28.65%2c66.192l96.5822%2c42.2133%2c96.5822-63.2688L318.3968%2c42.07'/%3e %3cpath class='cls-5' d='M28.65%2c66.192l96.5822%2c12.0609%2c96.5822-33.1164%2c96.5821-27.1883'/%3e %3cpath class='cls-5' d='M28.65%2c66.192l96.5822%2c36.1828%2c96.5822-64.5976%2c96.5821-7.768'/%3e %3cpath class='cls-5' d='M28.65%2c66.192l96.5822%2c36.1828%2c96.5822-64.5976%2c96.5821-13.7985'/%3e %3cpath class='cls-4' d='M28.65%2c66.192l96.5822%2c18.0914L221.8147%2c40.23l96.5821%2c7.87'/%3e %3cpath class='cls-3' d='M28.65%2c62.1717l96.5822%2c40.2031L221.8147%2c62.308l96.5821%2c3.884'/%3e %3cpath class='cls-5' d='M28.65%2c62.1717l96.5822%2c28.1422%2c96.5822-57.4428%2c96.5821-8.8924'/%3e %3cpath class='cls-4' d='M28.65%2c62.1717l96.5822%2c16.0812%2c96.5822-28.21L318.3968%2c36.04'/%3e %3cpath class='cls-4' d='M28.65%2c62.1717l96.5822%2c28.1422L221.8147%2c40.23l96.5821%2c7.87'/%3e %3cpath class='cls-4' d='M28.65%2c62.1717l96.5822%2c28.1422L221.8147%2c47.59l96.5821-11.55'/%3e %3cpath class='cls-3' d='M28.65%2c58.1514l96.5822%2c38.193L221.8147%2c62.308l96.5821%2c15.9449'/%3e %3cpath class='cls-3' d='M28.65%2c58.1514l96.5822%2c32.1625%2c96.5822-23.1%2c96.5821%2c5.0084'/%3e %3cpath class='cls-3' d='M28.65%2c54.1311l96.5822%2c30.1523%2c96.5822-17.0693%2c96.5821%2c5.0084'/%3e %3cpath class='cls-4' d='M28.65%2c54.1311l96.5822%2c36.1828%2c96.5822-37.8182%2c96.5821%2c1.6354'/%3e %3cpath class='cls-3' d='M28.65%2c54.1311l96.5822%2c30.1523%2c96.5822-24.4285%2c96.5821%2c6.3371'/%3e %3cpath class='cls-5' d='M28.65%2c54.1311l96.5822%2c66.3351%2c96.5822-87.5951%2c96.5821%2c15.23'/%3e %3cpath class='cls-5' d='M28.65%2c54.1311l96.5822%2c18.0914%2c96.5822-36.8983%2c96.5821-5.315'/%3e %3cpath class='cls-5' d='M28.65%2c54.1311l96.5822%2c30.1523%2c96.5822-46.5062%2c96.5821-25.8594'/%3e %3cpath class='cls-6' d='M28.65%2c54.1311l96.5822%2c18.0914%2c96.5822-36.8983L318.3968%2c5.8873'/%3e %3cpath class='cls-5' d='M28.65%2c54.1311l96.5822%2c36.1828L221.8147%2c47.59l96.5821-29.6413'/%3e %3cpath class='cls-3' d='M28.65%2c50.1107l96.5822%2c52.2641%2c96.5822-44.973%2c96.5821%2c14.8207'/%3e %3cpath class='cls-5' d='M28.65%2c50.1107l96.5822%2c40.2032L221.8147%2c40.23l96.5821-10.2211'/%3e %3cpath class='cls-6' d='M28.65%2c50.1107l96.5822%2c28.1422L221.8147%2c30.418l96.5821-12.47'/%3e %3cpath class='cls-3' d='M28.65%2c46.09l96.5822%2c38.193%2c96.5822-29.3346L318.3968%2c66.192'/%3e %3cpath class='cls-5' d='M28.65%2c46.09l96.5822%2c32.1625%2c96.5822-42.9287%2c96.5821-17.376'/%3e %3cpath class='cls-5' d='M28.65%2c46.09l96.5822%2c38.193%2c96.5822-41.6%2c96.5821-12.6742'/%3e %3cpath class='cls-5' d='M28.65%2c46.09l96.5822%2c38.193%2c96.5822-34.2408%2c96.5821-32.0944'/%3e %3cpath class='cls-3' d='M28.65%2c42.07l96.5822%2c36.1828%2c96.5822-18.398%2c96.5821%2c12.3676'/%3e %3cpath class='cls-5' d='M28.65%2c38.05l96.5822%2c52.2641L221.8147%2c30.418l96.5821-.4088'/%3e %3cpath class='cls-6' d='M28.65%2c34.03l96.5822%2c20.1016%2c96.5822-28.6192L318.3968%2c5.8873'/%3e %3cpath class='cls-5' d='M28.65%2c34.03l96.5822%2c44.2234L221.8147%2c27.965l96.5821%2c20.1356'/%3e %3cpath class='cls-4' d='M28.65%2c34.03l96.5822%2c56.2844%2c96.5822-57.4428%2c96.5821%2c27.29'/%3e %3cpath class='cls-5' d='M28.65%2c30.0092l96.5822%2c66.3352%2c96.5822-75.7387%2c96.5821%2c27.4949'/%3e %3cpath class='cls-5' d='M28.65%2c25.9889l96.5822%2c76.3859%2c96.5822-76.8629L318.3968%2c42.07'/%3e %3cpath class='cls-6' d='M28.65%2c17.9482l96.5822%2c72.3657%2c96.5822-77.0674%2c96.5821%2c16.7627'/%3e %3cpath class='cls-6' d='M28.65%2c13.9279%2c125.2325%2c42.07l96.5822-31.2767%2c96.5821%2c13.1853'/%3e %3cpath class='cls-6' d='M28.65%2c13.9279l96.5822%2c100.5079L221.8147%2c5.8873l96.5821%2c12.0609'/%3e %3cpath class='cls-6' d='M28.65%2c13.9279l96.5822%2c88.4469%2c96.5822-91.5814L318.3968%2c36.04'/%3e %3cpath class='cls-6' d='M28.65%2c13.9279l96.5822%2c76.386%2c96.5822-64.802%2c96.5821-7.5637'/%3e %3cpath class='cls-6' d='M28.65%2c5.8873%2c125.2325%2c42.07l96.5822-23.9174L318.3968%2c36.04'/%3e %3cg%3e %3cpath class='cls-7' d='M21.4066%2c151.2216H29.254V6.49H21.4066'/%3e %3cline class='cls-7' x1='28.6503' y1='123.0794' x2='21.4066' y2='123.0794'/%3e %3cline class='cls-7' x1='28.6503' y1='82.8763' x2='21.4066' y2='82.8763'/%3e %3cline class='cls-7' x1='28.6503' y1='42.6732' x2='21.4066' y2='42.6732'/%3e %3cpath class='cls-7' d='M117.9888%2c151.2216h7.8473V6.49'/%3e %3cline class='cls-7' x1='125.2325' y1='151.2216' x2='117.9888' y2='151.2216'/%3e %3cline class='cls-7' x1='125.2325' y1='90.9169' x2='117.9888' y2='90.9169'/%3e %3cline class='cls-7' x1='125.2325' y1='30.6122' x2='117.9888' y2='30.6122'/%3e %3cline class='cls-7' x1='125.2325' y1='60.7646' x2='117.9888' y2='60.7646'/%3e %3cline class='cls-7' x1='125.8361' y1='6.4903' x2='118.5925' y2='6.4903'/%3e %3cline class='cls-7' x1='125.2325' y1='121.0693' x2='117.9888' y2='121.0693'/%3e %3cpath class='cls-7' d='M214.571%2c151.2216h7.8473V6.49H214.571'/%3e %3cline class='cls-7' x1='221.8147' y1='151.2216' x2='214.571' y2='151.2216'/%3e %3cline class='cls-7' x1='221.8147' y1='126.6909' x2='214.571' y2='126.6909'/%3e %3cline class='cls-7' x1='221.8147' y1='102.1602' x2='214.571' y2='102.1602'/%3e %3cline class='cls-7' x1='221.8147' y1='77.6295' x2='214.571' y2='77.6295'/%3e %3cline class='cls-7' x1='221.8147' y1='53.0987' x2='214.571' y2='53.0987'/%3e %3cline class='cls-7' x1='221.8147' y1='28.568' x2='214.571' y2='28.568'/%3e %3cpath class='cls-7' d='M311.1532%2c151.2216h7.8473V6.49h-7.8473'/%3e %3cline class='cls-7' x1='318.3968' y1='133.1302' x2='311.1532' y2='133.1302'/%3e %3cline class='cls-7' x1='318.3968' y1='109.0083' x2='311.1532' y2='109.0083'/%3e %3cline class='cls-7' x1='318.3968' y1='84.8865' x2='311.1532' y2='84.8865'/%3e %3cline class='cls-7' x1='318.3968' y1='60.7646' x2='311.1532' y2='60.7646'/%3e %3cline class='cls-7' x1='318.3968' y1='36.6427' x2='311.1532' y2='36.6427'/%3e %3cline class='cls-7' x1='318.3968' y1='12.5208' x2='311.1532' y2='12.5208'/%3e %3c/g%3e %3cg%3e %3ctext class='cls-8' transform='translate(12.2871 126.9392)'%3e5%3c/text%3e %3ctext class='cls-8' transform='translate(12.2871 86.7351)'%3e6%3c/text%3e %3ctext class='cls-8' transform='translate(12.2866 46.5327)'%3e6%3c/text%3e %3ctext class='cls-8' transform='translate(12.2861 10.3498)'%3e7%3c/text%3e %3ctext class='cls-8' transform='translate(108.8701 155.0818)'%3e2%3c/text%3e %3ctext class='cls-8' transform='translate(108.8701 94.7771)'%3e3%3c/text%3e %3ctext class='cls-8' transform='translate(108.8701 34.4724)'%3e4%3c/text%3e %3ctext class='cls-8' transform='translate(205.4512 155.0818)'%3e1%3c/text%3e %3ctext class='cls-8' transform='translate(205.4512 130.5515)'%3e2%3c/text%3e %3ctext class='cls-8' transform='translate(205.4512 106.0193)'%3e3%3c/text%3e %3ctext class='cls-8' transform='translate(205.4512 81.489)'%3e4%3c/text%3e %3ctext class='cls-8' transform='translate(205.4512 56.9587)'%3e5%3c/text%3e %3ctext class='cls-8' transform='translate(205.4512 32.4272)'%3e5%3c/text%3e %3ctext class='cls-8' transform='translate(205.4512 10.3498)'%3e6%3c/text%3e %3ctext class='cls-8' transform='translate(291.9648 136.989)'%3e0.4%3c/text%3e %3ctext class='cls-8' transform='translate(291.9648 112.8679)'%3e0.8%3c/text%3e %3ctext class='cls-8' transform='translate(291.9648 88.7458)'%3e1.2%3c/text%3e %3ctext class='cls-8' transform='translate(291.9648 64.6242)'%3e1.6%3c/text%3e %3ctext class='cls-8' transform='translate(291.9648 40.5027)'%3e2.0%3c/text%3e %3ctext class='cls-8' transform='translate(291.9648 16.3811)'%3e2.4%3c/text%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$l = {\n  name: 'Parallel coordinates',\n  id: 'rawgraphs.parallelcoordinates',\n  thumbnail: img$F,\n  icon: img$E,\n  categories: ['correlations', 'distributions'],\n  description: 'It displays multiple continuous dimensions as axes, and each row in the dataset produces a line connecting its values across the axes.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/parallelcoordinates',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-parallel-coordinates/'\n};\n\nconst dimensions$l = [{\n  id: 'dimensions',\n  name: 'Dimensions',\n  validTypes: ['number', 'date'],\n  required: true,\n  multiple: true\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false\n}];\n\nconst mapData$l = {\n  dimensions: 'get',\n  color: 'get'\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/parallel-coordinates\n*/\n\nfunction render$l(node, data, visualOptions, mapping, originalData, styles) {\n  // destructurate visual visualOptions\n  const {\n    // default options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // chart\n    orientation,\n    strokeWidth,\n    strokeOpacity,\n    // color\n    colorScale,\n    // legend\n    showLegend,\n    legendWidth // add below other options defined in visualOptions.js\n\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  let chartWidth = width - margin.left - margin.right;\n  let chartHeight = height - margin.top - margin.bottom; // select the SVG element\n\n  const svg = select(node); // add background\n\n  svg.append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); //add viz group\n\n  let viz = svg.append('g').attr('id', 'viz').attr('transform', `translate(${margin.left},${margin.top})`); // create a boolean variable for simplicity\n\n  const horizontal = orientation == 'horizontal';\n  const keys = mapping.dimensions.value;\n  const axesScales = new Map(Array.from(keys, (key, i) => [key, scaleLinear(extent(data, d => d.dimensions[i]), [0, horizontal ? chartWidth : chartHeight])]));\n  const catScales = scalePoint(keys, [0, horizontal ? chartHeight : chartWidth]);\n  const line$1 = line();\n\n  if (horizontal) {\n    line$1.x((d, i) => axesScales.get(keys[i])(d)).y((d, i) => catScales(keys[i]));\n  } else {\n    line$1.y((d, i) => axesScales.get(keys[i])(d)).x((d, i) => catScales(keys[i]));\n  } //add lines\n\n\n  viz.append('g').attr('id', 'lines').attr('fill', 'none').selectAll('path').data(data).join('path').attr('d', d => line$1(d.dimensions)).attr('stroke', d => colorScale(d.color)).attr('stroke-width', strokeWidth).attr('stroke-opacity', strokeOpacity); // add axes\n\n  viz.append('g').selectAll('g').data(keys).join('g').attr('transform', d => horizontal ? `translate(0,${catScales(d)})` : `translate(${catScales(d)},0)`).each(function (d) {\n    if (horizontal) {\n      select(this).call(axisBottom(axesScales.get(d)));\n    } else {\n      select(this).call(axisLeft(axesScales.get(d)));\n    }\n  }).call(g => g.append('text').attr('y', -6).attr('text-anchor', 'start').attr('fill', 'currentColor').text(d => d));\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = svg.append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$l = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 20,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  orientation: {\n    type: 'text',\n    label: 'Orientation',\n    group: 'chart',\n    options: [{\n      label: 'Vertical',\n      value: 'vertical'\n    }, {\n      label: 'Horizontal',\n      value: 'horizontal'\n    }],\n    default: 'vertical'\n  },\n  strokeWidth: {\n    type: 'number',\n    label: 'Stroke width',\n    default: 1,\n    group: 'chart'\n  },\n  strokeOpacity: {\n    group: 'chart',\n    type: 'number',\n    label: 'Lines opacity (0-1)',\n    default: 0.5,\n    step: 0.1,\n    min: 0,\n    max: 1\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  }\n};\n\nvar parallelcoordinates = {\n  metadata: metadata$l,\n  dimensions: dimensions$l,\n  mapData: mapData$l,\n  render: render$l,\n  visualOptions: visualOptions$l,\n  styles: styles$1\n};\n\nvar img$G = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M29%2c7.0059A20.3962%2c20.3962%2c0%2c0%2c1%2c47.9209%2c20.92L29%2c26.82Z'/%3e %3cpath class='cls-1' d='M30.4805%2c27.4062%2c48.2178%2c21.875a20.556%2c20.556%2c0%2c0%2c1%2c.4384%2c9.36Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpath class='cls-2' d='M28.5%2c48A20.5%2c20.5%2c0%2c0%2c1%2c28%2c7.0059v20.9l20.4512%2c4.3086A20.5831%2c20.5831%2c0%2c0%2c1%2c28.5%2c48Z'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$H = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %239e0142%3b %7d .cls-1%2c .cls-2%2c .cls-3%2c .cls-4 %7b stroke: white%3b %7d .cls-2 %7b fill: %23fdbe70%3b %7d .cls-3 %7b fill: %23bee5a0%3b %7d .cls-4 %7b fill: %235e4fa2%3b %7d %3c/style%3e %3c/defs%3e %3cg id='viz'%3e %3cg id='pie'%3e %3cpath class='cls-1' d='M40%2c12.15253A27.84746%2c27.84746%2c0%2c0%2c1%2c63.049%2c55.62764L40%2c40Z'/%3e %3cpath class='cls-2' d='M63.049%2c55.62764a27.84753%2c27.84753%2c0%2c0%2c1-6.19647%2c6.54154L40%2c40Z'/%3e %3cpath class='cls-3' d='M56.85257%2c62.16918A27.84747%2c27.84747%2c0%2c0%2c1%2c13.16757%2c32.55L40%2c40Z'/%3e %3cpath class='cls-4' d='M13.16757%2c32.55A27.84747%2c27.84747%2c0%2c0%2c1%2c40%2c12.15253V40Z'/%3e %3c/g%3e %3cg id='pie-2' data-name='pie'%3e %3cpath class='cls-1' d='M120%2c10.51994a29.48006%2c29.48006%2c0%2c0%2c1%2c7.055%2c58.10348L120%2c40Z'/%3e %3cpath class='cls-2' d='M127.055%2c68.62342A29.48007%2c29.48007%2c0%2c0%2c1%2c90.73488%2c36.44657L120%2c40Z'/%3e %3cpath class='cls-3' d='M90.73488%2c36.44657A29.48008%2c29.48008%2c0%2c0%2c1%2c106.29993%2c13.8967L120%2c40Z'/%3e %3cpath class='cls-4' d='M106.29993%2c13.8967A29.48%2c29.48%2c0%2c0%2c1%2c120%2c10.51994V40Z'/%3e %3c/g%3e %3cg id='pie-3' data-name='pie'%3e %3cpath class='cls-1' d='M200%2c10.74759a29.25242%2c29.25242%2c0%2c0%2c1%2c22.61242%2c47.81L200%2c40Z'/%3e %3cpath class='cls-2' d='M222.61242%2c58.55754a29.25243%2c29.25243%2c0%2c0%2c1-48.41075-4.76805L200%2c40Z'/%3e %3cpath class='cls-3' d='M174.20167%2c53.78949a29.25244%2c29.25244%2c0%2c0%2c1%2c22.93109-42.901L200%2c40Z'/%3e %3cpath class='cls-4' d='M197.13276%2c10.88844q1.42931-.14076%2c2.86724-.14085V40Z'/%3e %3c/g%3e %3cg id='pie-4' data-name='pie'%3e %3cpath class='cls-1' d='M280%2c14.93194a25.06805%2c25.06805%2c0%2c0%2c1%2c15.53592%2c5.39466L280%2c40Z'/%3e %3cpath class='cls-2' d='M295.53592%2c20.3266A25.06806%2c25.06806%2c0%2c1%2c1%2c256.607%2c30.99035L280%2c40Z'/%3e %3cpath class='cls-3' d='M256.607%2c30.99035A25.068%2c25.068%2c0%2c0%2c1%2c267.2249%2c18.43141L280%2c40Z'/%3e %3cpath class='cls-4' d='M267.2249%2c18.43141A25.068%2c25.068%2c0%2c0%2c1%2c280%2c14.93194V40Z'/%3e %3c/g%3e %3cg id='pie-5' data-name='pie'%3e %3cpath class='cls-1' d='M40%2c107.33333a12.6667%2c12.6667%2c0%2c0%2c1%2c10.96966%2c6.33334L40%2c120Z'/%3e %3cpath class='cls-2' d='M50.96966%2c113.66667a12.66667%2c12.66667%2c0%2c0%2c1-4.63633%2c17.303L40%2c120Z'/%3e %3cpath class='cls-3' d='M46.33333%2c130.96966a12.66667%2c12.66667%2c0%2c0%2c1-17.303-17.303L40%2c120Z'/%3e %3cpath class='cls-4' d='M29.03034%2c113.66667A12.6667%2c12.6667%2c0%2c0%2c1%2c40%2c107.33333V120Z'/%3e %3c/g%3e %3cg id='pie-6' data-name='pie'%3e %3cpath class='cls-1' d='M120%2c82a38%2c38%2c0%2c0%2c1%2c36.4036%2c48.89852L120%2c120Z'/%3e %3cpath class='cls-2' d='M156.4036%2c130.89852a38%2c38%2c0%2c0%2c1-15.52226%2c20.85L120%2c120Z'/%3e %3cpath class='cls-3' d='M140.88134%2c151.74854a38%2c38%2c0%2c0%2c1-56.58966-44.74531L120%2c120Z'/%3e %3cpath class='cls-4' d='M84.29168%2c107.00323A38%2c38%2c0%2c0%2c1%2c120%2c82v38Z'/%3e %3c/g%3e %3cg id='pie-7' data-name='pie'%3e %3cpath class='cls-1' d='M200%2c94.93194a25.06806%2c25.06806%2c0%2c0%2c1%2c1.67436%2c50.08014L200%2c120Z'/%3e %3cpath class='cls-2' d='M201.67436%2c145.01208a25.06806%2c25.06806%2c0%2c0%2c1-11.46066-48.091L200%2c120Z'/%3e %3cpath class='cls-3' d='M190.2137%2c96.9211a25.068%2c25.068%2c0%2c0%2c1%2c6.44506-1.76549L200%2c120Z'/%3e %3cpath class='cls-4' d='M196.65876%2c95.15561A25.069%2c25.069%2c0%2c0%2c1%2c200%2c94.93194V120Z'/%3e %3c/g%3e %3cg id='pie-8' data-name='pie'%3e %3cpath class='cls-1' d='M280%2c89.40709a30.59291%2c30.59291%2c0%2c0%2c1%2c8.13884%2c60.08334L280%2c120Z'/%3e %3cpath class='cls-2' d='M288.13884%2c149.49043a30.59291%2c30.59291%2c0%2c0%2c1-23.82992-55.75287L280%2c120Z'/%3e %3cpath class='cls-3' d='M264.30892%2c93.73756a30.59275%2c30.59275%2c0%2c0%2c1%2c10.22851-3.83882L280%2c120Z'/%3e %3cpath class='cls-4' d='M274.53743%2c89.89874A30.59179%2c30.59179%2c0%2c0%2c1%2c280%2c89.40709V120Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$m = {\n  name: 'Pie chart',\n  id: 'rawgraphs.piechart',\n  thumbnail: img$H,\n  icon: img$G,\n  categories: ['proportions'],\n  description: 'It allows you to see the proportions between values that make up a whole, by using arcs composing a circle.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/piechart',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-pie-chart/'\n};\n\nconst dimensions$m = [{\n  id: 'arcs',\n  name: 'Arcs',\n  validTypes: ['number'],\n  required: true,\n  multiple: true,\n  operation: 'get',\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum'\n  }\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  operation: 'get'\n}];\n\n// export const mapData = {\n\nconst mapData$m = function (data, mapping, dataTypes, dimensions) {\n  // define aggregators\n  // as we are working on a multiple dimension (bars), `getDimensionAggregator` will return an array of aggregator functions\n  // the order of aggregators is the same as the value of the mapping\n  const arcsAggregators = getDimensionAggregator('arcs', mapping, dataTypes, dimensions); // we will use rollup to populate a flat array of objects\n  // that will be passed to the render\n\n  let results = [];\n  rollups(data, v => {\n    let item = {\n      series: v[0][mapping.series.value]\n    };\n    mapping.arcs.value.forEach((arcName, i) => {\n      // getting i-th aggregator\n      const aggregator = arcsAggregators[i]; // use it\n\n      item[arcName] = aggregator(v.map(d => d[arcName]));\n    });\n    results.push(item);\n  }, d => d[mapping.series.value] // series grouping\n  );\n  return results;\n};\n\nfunction colorDomain$2(data, mapping) {\n  const domain = mapping.arcs.value;\n  return {\n    domain,\n    type: 'number'\n  };\n}\nfunction render$m(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // Series\n    columnsNumber,\n    showGrid,\n    showSeriesLabels,\n    sortPiesBy,\n    // chart\n    showArcValues,\n    drawDonut,\n    arcTichkness,\n    sortArcsBy,\n    // legend\n    showLegend,\n    legendWidth,\n    // color\n    colorScale\n  } = visualOptions; // Margin convention\n\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  data.forEach(d => {\n    // compute the total value for each pie\n    d.totalValue = sum(mapping.arcs.value.map(arc => d[arc]));\n  }); // arcs sorting functions\n\n  const arcsSortings = {\n    totalDescending: function (a, b) {\n      return descending(a.value, b.value);\n    },\n    totalAscending: function (a, b) {\n      return ascending(a.value, b.value);\n    },\n    name: function (a, b) {\n      return ascending(a.name, b.name);\n    },\n    original: function (a, b) {\n      return true;\n    }\n  }; // computet the total value for each dimension mapped as arc\n\n  let arcsSize = mapping.arcs.value.map(arc => ({\n    name: arc,\n    value: sum(data.map(d => d[arc]))\n  })); // sort it, will be used later\n\n  arcsSize.sort(arcsSortings[sortArcsBy]); // pies sorting functions\n\n  const pieSortings = {\n    totalDescending: function (a, b) {\n      return descending(a.totalValue, b.totalValue);\n    },\n    totalAscending: function (a, b) {\n      return ascending(a.totalValue, b.totalValue);\n    },\n    name: function (a, b) {\n      return ascending(a.series, b.series);\n    },\n    original: function (a, b) {\n      return true;\n    }\n  };\n  data.sort(pieSortings[sortPiesBy]); // select the SVG element\n\n  const svg = select(svgNode).attr('width', showLegend ? width + legendWidth : width).attr('height', height); // add background\n\n  svg.append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const vizLayer = svg.append('g').attr('id', 'viz'); // create the grid\n  // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(columnsNumber);\n  const griddingData = gridding$1(data);\n  const series = vizLayer.selectAll('g').data(griddingData).join('g').attr('id', d => d.name).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')'); //get max radius\n\n  const maxRadius = min([griddingData[0].width - margin.right - margin.left, griddingData[0].height - margin.top - margin.bottom]) / 2; //create size scale\n\n  const sizeScale = scaleSqrt().domain([0, max(data, d => d.totalValue)]).range([0, maxRadius]); // add grid\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  } // do stuff for each pie\n\n\n  series.each(function (d, seriesIndex) {\n    // make a local selection for each serie\n    const selection = select(this); // compute each serie width and height\n\n    const seriesWidth = d.width - margin.right - margin.left;\n    const seriesHeight = d.height - margin.top - margin.bottom; //create the pie\n    //extrtactt arcs values\n\n    let arcs = arcsSize.map(arc => d[arc.name]); // computet angles, using tthte give order and setting sort to null\n\n    let angles = pie().sort(null)(arcs); // compuet biggest radius\n\n    let radius = sizeScale(d.totalValue);\n    let arc$1 = arc().innerRadius(drawDonut && sizeScale(d.totalValue) > arcTichkness ? sizeScale(d.totalValue) - arcTichkness : 0).outerRadius(radius);\n    let pie$1 = selection.append('g').attr('id', 'pie').attr('transform', 'translate(' + (margin.left + seriesWidth / 2) + ',' + (margin.top + seriesHeight / 2) + ')');\n    pie$1.selectAll('path').data(angles).join('path').attr('fill', (d, i) => {\n      return colorScale(arcsSize[i].name);\n    }).attr('stroke', background).attr('d', e => arc$1.startAngle(e.startAngle).endAngle(e.endAngle)()); // add arcs labels\n\n    if (showArcValues) {\n      let pieLabels = pie$1.append('g').attr('id', 'labels').selectAll('g').data(angles).join('g').attr('transform', e => {\n        return `translate(${arc$1.startAngle(e.startAngle).endAngle(e.endAngle).centroid(e)})`;\n      });\n      pieLabels.append('text').text(d => d.data).attr('text-anchor', 'middle').styles(styles.labelSecondary);\n    }\n\n    if (showSeriesLabels) {\n      selection.append('text').text(d => d.series ? d.series : '').attr('y', margin.top + seriesHeight / 2 - radius - 4).attr('x', margin.left + seriesWidth / 2).styles(styles.seriesLabel).style('text-anchor', 'middle').style('dominant-baseline', 'auto');\n    }\n  }); // add legend\n\n  if (showLegend) {\n    const legendLayer = svg.append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n    chartLegend.addColor('Arcs colors', colorScale);\n\n    if (mapping.series.value) {\n      const legendSizeScale = sizeScale.copy();\n      legendSizeScale.domain(extent(data, d => d.totalValue)).rangeRound([sizeScale(min(data, d => d.totalValue)), maxRadius]);\n      chartLegend.addSize('Area', legendSizeScale, 'circle');\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$m = {\n  // Artboard\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 2,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 2,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 2,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    }\n  },\n  // chart\n  drawDonut: {\n    type: 'boolean',\n    label: 'Draw as donuts',\n    default: false,\n    group: 'chart'\n  },\n  arcTichkness: {\n    type: 'number',\n    label: 'Donut thickness',\n    default: 10,\n    group: 'chart',\n    disabled: {\n      drawDonut: false\n    }\n  },\n  sortArcsBy: {\n    type: 'text',\n    label: 'Sort arcs by',\n    group: 'series',\n    options: [{\n      label: 'Size (descending)',\n      value: 'totalDescending'\n    }, {\n      label: 'Size (ascending)',\n      value: 'totalAscending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'original'\n    }],\n    default: 'name'\n  },\n  // colors\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    domain: 'colorDomain',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  // labels\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show pies titles',\n    default: true,\n    group: 'labels'\n  },\n  showArcValues: {\n    type: 'boolean',\n    label: 'Show values on arcs',\n    default: false,\n    group: 'labels'\n  },\n  // series\n  sortPiesBy: {\n    type: 'text',\n    label: 'Sort pies by',\n    group: 'series',\n    options: [{\n      label: 'Size (descending)',\n      value: 'totalDescending'\n    }, {\n      label: 'Size (ascending)',\n      value: 'totalAscending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'original'\n    }],\n    default: 'name'\n  },\n  columnsNumber: {\n    type: 'number',\n    label: 'Grid columns',\n    default: 0,\n    group: 'series'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show grid',\n    default: false,\n    group: 'series'\n  }\n};\n\nvar piechart = {\n  metadata: metadata$m,\n  dimensions: dimensions$m,\n  mapData: mapData$m,\n  render: render$m,\n  visualOptions: visualOptions$m,\n  styles: styles$1,\n  colorDomain: colorDomain$2\n};\n\nvar img$I = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpolygon class='cls-1' points='16.863 25.576 7.179 23.448 14.631 46.387 20.616 37.13 16.863 25.576'/%3e %3cpolygon class='cls-1' points='34.039 25.453 47.459 22.504 28 8.363 28 17.532 34.039 25.453'/%3e %3cpolygon class='cls-1' points='37.474 41.908 40.369 46.387 47.821 23.448 34.42 26.393 37.474 41.908'/%3e %3cpolygon class='cls-1' points='27 17.447 27 8.363 7.541 22.504 17.137 24.613 27 17.447'/%3e %3cpolygon class='cls-1' points='21.379 37.791 15.426 47 39.574 47 36.682 42.525 21.379 37.791'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='36.009 39.642 33.443 26.608 28.311 27.736 36.009 39.642'/%3e %3cpolygon class='cls-2' points='17.995 25.825 21.316 36.047 26.689 27.736 17.995 25.825'/%3e %3cpolygon class='cls-2' points='27 18.682 18.444 24.9 27 26.781 27 18.682'/%3e %3cpolygon class='cls-2' points='21.943 36.918 35.835 41.216 27.5 28.323 21.943 36.918'/%3e %3cpolygon class='cls-2' points='28 26.781 32.962 25.69 28 19.182 28 26.781'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$J = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b stroke: %23d3d3d3%3b stroke-width: 0.5px%3b %7d .cls-2 %7b stroke: black%3b %7d .cls-3%2c .cls-4%2c .cls-5 %7b isolation: isolate%3b %7d .cls-3%2c .cls-4 %7b font-size: 12px%3b font-family: ArialMT%2c Arial%3b %7d .cls-3 %7b letter-spacing: -0.05518em%3b %7d .cls-5 %7b font-size: 10px%3b font-family: Helvetica%3b %7d .cls-6%2c .cls-7 %7b fill: %2369bda9%3b %7d .cls-10%2c .cls-12%2c .cls-6%2c .cls-8 %7b fill-opacity: 0%3b stroke-width: 2px%3b %7d .cls-6 %7b stroke: %2369bda9%3b %7d .cls-8%2c .cls-9 %7b fill: %239e0142%3b %7d .cls-8 %7b stroke: %239e0142%3b %7d .cls-10%2c .cls-11 %7b fill: %23fedd8d%3b %7d .cls-10 %7b stroke: %23fedd8d%3b %7d .cls-12%2c .cls-13 %7b fill: %235e4fa2%3b %7d .cls-12 %7b stroke: %235e4fa2%3b %7d %3c/style%3e %3c/defs%3e %3cg%3e %3cg id='axes'%3e %3ccircle id='_10' data-name='10' class='cls-1' cx='159.99951' cy='87.59481' r='80'/%3e %3ccircle id='_8' data-name='8' class='cls-1' cx='159.99951' cy='87.59481' r='64'/%3e %3ccircle id='_6' data-name='6' class='cls-1' cx='159.99951' cy='87.59481' r='48'/%3e %3ccircle id='_4' data-name='4' class='cls-1' cx='159.99951' cy='87.59481' r='32'/%3e %3ccircle id='_2' data-name='2' class='cls-1' cx='159.99951' cy='87.59481' r='16'/%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='87.59481' x2='159.99951' y2='7.59481'/%3e %3ctext class='cls-3' transform='translate(164.15332 9.54694)'%3eA%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='87.59481' x2='236.08403' y2='62.87345'/%3e %3ctext class='cls-4' transform='translate(241.59277 63.98328)'%3eB%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='87.59481' x2='207.02233' y2='152.31617'/%3e %3ctext class='cls-4' transform='translate(211.25854 159.99991)'%3eC%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='87.59481' x2='112.97669' y2='152.31617'/%3e %3ctext class='cls-4' transform='translate(101.13208 160.09991)'%3eD%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='87.59481' x2='83.91499' y2='62.87345'/%3e %3ctext class='cls-4' transform='translate(70.40259 63.98328)'%3eE%3c/text%3e %3c/g%3e %3cg id='y_axis' data-name='y axis'%3e %3cpath class='cls-2' d='M153.99951%2c8.09481h6.5v80h-6.5'/%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='8.09481' x2='153.99951' y2='8.09481'/%3e %3ctext class='cls-5' transform='translate(139.87646 11.2948)'%3e10%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='24.09481' x2='153.99951' y2='24.09481'/%3e %3ctext class='cls-5' transform='translate(145.43799 27.2948)'%3e8%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='40.09481' x2='153.99951' y2='40.09481'/%3e %3ctext class='cls-5' transform='translate(145.43799 43.2948)'%3e6%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='56.09481' x2='153.99951' y2='56.09481'/%3e %3ctext class='cls-5' transform='translate(145.43799 59.2948)'%3e4%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='72.09481' x2='153.99951' y2='72.09481'/%3e %3ctext class='cls-5' transform='translate(145.43799 75.2948)'%3e2%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-2' x1='159.99951' y1='88.09481' x2='153.99951' y2='88.09481'/%3e %3ctext class='cls-5' transform='translate(145.43799 91.2948)'%3e0%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg id='radars'%3e %3cg id='_4-2' data-name='4'%3e %3cpath class='cls-6' d='M213.25868%2c70.28986c6.26971%2c19.29618-.82122%2c56.22862-15.64091%2c69.082-15.76947%2c13.67717-63.52448%2c18.39783-79.9388%2c6.47213S91.53251%2c88.34569%2c99.13189%2c67.81772c7.36046-19.88255%2c41.58961-45.10552%2c60.86762-44.22291%2c18.705.85637%2c46.98946%2c27.39887%2c53.25917%2c46.69505'/%3e %3cg id='dots'%3e %3ccircle class='cls-7' cx='159.99951' cy='23.59481' r='2'/%3e %3ccircle class='cls-7' cx='213.25868' cy='70.28986' r='2'/%3e %3ccircle class='cls-7' cx='197.61777' cy='139.3719' r='2'/%3e %3ccircle class='cls-7' cx='117.67897' cy='145.84403' r='2'/%3e %3ccircle class='cls-7' cx='99.13189' cy='67.81772' r='2'/%3e %3c/g%3e %3c/g%3e %3cg id='_0' data-name='0'%3e %3cpath class='cls-8' d='M175.21642%2c82.65054c4.70228%2c14.47213%2c18.807%2c34.17211%2c12.99678%2c43.77709-7.04258%2c11.64228-57.76716%2c21.429-65.83194%2c12.94427-7.69079-8.09128%2c7.84517-41.72836%2c14.7929-59.1935%2c6.06938-15.25715%2c16.46625-41.13379%2c22.82535-40.58359%2c6.2976.54488%2c10.51462%2c28.58359%2c15.21691%2c43.05573'/%3e %3cg id='dots-2' data-name='dots'%3e %3ccircle class='cls-9' cx='159.99951' cy='39.59481' r='2'/%3e %3ccircle class='cls-9' cx='175.21642' cy='82.65054' r='2'/%3e %3ccircle class='cls-9' cx='188.2132' cy='126.42763' r='2'/%3e %3ccircle class='cls-9' cx='122.38126' cy='139.3719' r='2'/%3e %3ccircle class='cls-9' cx='137.17416' cy='80.1784' r='2'/%3e %3c/g%3e %3c/g%3e %3cg id='_2-2' data-name='2'%3e %3cpath class='cls-10' d='M228.47558%2c65.34558c4.86633%2c6.38693-23.04318%2c53.14809-40.26238%2c61.08205-14.53515%2c6.69725-36.50441%2c1.90671-51.7251-6.47214-17.73077-9.76063-48.69983-49.12743-44.96465-54.60991%2c3.7683-5.5311%2c45.65071%2c22.24923%2c68.47606%2c22.24923s63.64841-28.58541%2c68.47607-22.24923'/%3e %3cg id='dots-3' data-name='dots'%3e %3ccircle class='cls-11' cx='159.99951' cy='87.59481' r='2'/%3e %3ccircle class='cls-11' cx='228.47558' cy='65.34558' r='2'/%3e %3ccircle class='cls-11' cx='188.2132' cy='126.42763' r='2'/%3e %3ccircle class='cls-11' cx='136.4881' cy='119.95549' r='2'/%3e %3ccircle class='cls-11' cx='91.52345' cy='65.34558' r='2'/%3e %3c/g%3e %3c/g%3e %3cg id='_5' data-name='5'%3e %3cpath class='cls-12' d='M159.99951%2c87.59481c5.64274%2c17.36656%2c44.27139%2c56.4683%2c42.32054%2c58.24922-1.90646%2c1.7404-34.82076-32.1427-51.7251-45.305-14.87958-11.58571-45.11623-22.77868-43.8546-30.24922%2c1.28479-7.6077%2c45.58707-20.537%2c53.25916-14.69505%2c5.83883%2c4.446-3.76182%2c20.42229%2c0%2c32'/%3e %3cg id='dots-4' data-name='dots'%3e %3ccircle class='cls-13' cx='159.99951' cy='55.59481' r='2'/%3e %3ccircle class='cls-13' cx='159.99951' cy='87.59481' r='2'/%3e %3ccircle class='cls-13' cx='202.32005' cy='145.84403' r='2'/%3e %3ccircle class='cls-13' cx='150.59495' cy='100.53908' r='2'/%3e %3ccircle class='cls-13' cx='106.74035' cy='70.28986' r='2'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$n = {\n  name: 'Radar Chart',\n  id: 'rawgraphs.radarchart',\n  thumbnail: img$J,\n  icon: img$I,\n  categories: ['correlations'],\n  description: 'It displays multiple continuous dimensions as axes starting from the same point and by disposing them radially. Each dimension is represented as an axis starting from the center of the cart. The same scale is applied to all the axes.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/radarchart',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-radar-chart/'\n};\n\nconst dimensions$n = [{\n  id: 'axes',\n  name: 'Spokes',\n  validTypes: ['number'],\n  required: true,\n  multiple: true,\n  minValues: 3\n}, {\n  id: 'color',\n  name: 'Color',\n  operation: 'get',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}];\n\nconst mapData$n = function (data, mapping, dataTypes, dimensions) {\n  // define aggregators\n  getDimensionAggregator('color', mapping, dataTypes, dimensions); // we will use rollup to populate a flat array of objects\n  // that will be passed to the render\n\n  let results = [];\n  let index = 0;\n  rollups(data, v => {\n    //@TODO: find a better way to assing a unique index to each entry\n    return v.map(d => {\n      mapping.axes.value.forEach(axisName => {\n        let item = {\n          name: index,\n          // each line will create a radar\n          color: d[mapping.color.value],\n          series: d[mapping.series.value],\n          axes: axisName,\n          value: d[axisName]\n        };\n        results.push(item);\n      });\n      index++;\n      return 'done';\n    });\n  }, d => d[mapping.series.value] // series grouping\n  );\n  return results;\n};\n\nfunction render$n(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    showLegend,\n    legendWidth,\n    // visual model options\n    showDots,\n    dotsDiameter,\n    interpolation,\n    innerDiameter,\n    fillOpacity,\n    //labels\n    labelsPadding,\n    //series options\n    columnsNumber,\n    sortSeriesBy,\n    showSeriesLabels,\n    showGrid,\n    // color otpions\n    colorScale\n  } = visualOptions; // Margin convention\n\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  }; //check if there are negative values, in case throw error\n\n  data.forEach(d => {\n    if (d.value < 0) {\n      throw new Error('Values cannot be negative');\n    }\n  }); // convert string to d3 functions\n\n  const curveType = {\n    Linear: curveLinearClosed,\n    Basis: curveBasisClosed,\n    Cardinal: curveCardinalClosed,\n    'CatmullRom': curveCatmullRomClosed\n  }; // if series is exposed, recreate the nested structure\n\n  const nestedData = rollups(data, v => v, d => d.series, d => d.name).map(d => {\n    //calc the total values\n    d.totalSize = sum(d[1].map(e => e[1]).flat(), e => e.value);\n    return d;\n  }); // sort series\n\n  nestedData.sort((a, b) => {\n    return {\n      valueDescending: descending(a.totalSize, b.totalSize),\n      valueAscending: ascending(a.totalSize, b.totalSize),\n      name: ascending(a[0], b[0])\n    }[sortSeriesBy];\n  }); // select the SVG element\n\n  const svg = select(svgNode); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(mapping.series.value ? columnsNumber : 1);\n  const griddingData = gridding$1(nestedData); // create the clip path\n\n  svg.append('clipPath').attr('id', 'serieClipPath').append('rect').attr('x', 0).attr('y', 0).attr('width', griddingData[0].width).attr('height', griddingData[0].height); // create the grid\n\n  const series = svg.selectAll('g').data(griddingData).join('g').attr('id', d => d[0]).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')');\n  /*\n    CODE FOR ALL THE SERIES\n   */\n\n  const axesDomain = mapping.axes.value; // create the radial scale to dispose axes\n\n  const radialScale = scalePoint().domain(axesDomain).range([-Math.PI / 2, Math.PI * 1.5]) // starts from -PI/2 (upper part of circle)\n  .padding(0.5) // calculate half padding at beginning and half at end\n  .align(0) // put all the apdding at the end\n  .round(false);\n  const maxValue = max(data, d => d.value);\n  const innerRadius = innerDiameter / 2;\n  const outerRadius = min([(griddingData[0].width - margin.right - margin.left) / 2, (griddingData[0].height - margin.top - margin.bottom) / 2]);\n  const axesScale = scaleLinear().domain([0, maxValue]).nice().rangeRound([innerRadius, outerRadius]);\n  const axesGrid = scaleLinear().domain([maxValue, 0]).rangeRound([innerRadius, outerRadius]); // add grid\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  }\n  /*\n    CODE FOR EACH SERIE\n  */\n\n\n  series.each(function (d, seriesIndex) {\n    // make a local selection for each serie\n    const selection = select(this); // apply clipPath\n\n    selection.attr('clip-path', 'url(#serieClipPath)'); // compute each serie width and height\n\n    d.width - margin.right - margin.left;\n    d.height - margin.top - margin.bottom; // use the smallest dimension as diameter\n    // get the array containing all the data for each radar chart\n\n    let radarData = d[1]; // create the axis and the grid\n\n    let viz = selection.append('g').attr('id', d[0]).attr('transform', `translate(${outerRadius + margin.left}, ${outerRadius + margin.top})`);\n    let axesLayer = viz.append('g').attr('id', 'axes');\n    let axisFunction = axisLeft(axesGrid); // add a circle for each tick on the axis\n\n    axesLayer.selectAll('.grid').data(axisFunction.scale().ticks()).enter().append('circle').attr('r', d => axesScale(d)).attr('fill', 'none').attr('stroke', 'LightGray').attr('class', 'grid').attr('id', d => d); // add axes\n\n    let axesGroups = axesLayer.selectAll('g').data(axesDomain).enter().append('g'); // draw a line for each axis\n\n    axesGroups.append('line').attr('x1', d => {\n      return Math.cos(radialScale(d)) * innerRadius;\n    }).attr('y1', d => {\n      return Math.sin(radialScale(d)) * innerRadius;\n    }).attr('x2', d => {\n      return Math.cos(radialScale(d)) * outerRadius;\n    }).attr('y2', d => {\n      return Math.sin(radialScale(d)) * outerRadius;\n    }).attr('stroke', 'black'); //add a label for each axis\n\n    axesGroups.append('text').attr('text-anchor', 'middle').attr('dy', '0.35em').attr('x', d => {\n      return Math.cos(radialScale(d)) * (outerRadius + labelsPadding);\n    }).attr('y', d => {\n      return Math.sin(radialScale(d)) * (outerRadius + labelsPadding);\n    }).text(d => d).attr('font-family', 'Arial, sans-serif').attr('font-size', 12); //draw scale for first axis\n\n    axesLayer.append('g').attr('id', 'y axis').call(axisFunction).attr('transform', `translate(${0}, ${-outerRadius - innerRadius})`); // draw each radar chart\n\n    let plots = viz.append('g').attr('id', 'radars').selectAll('g').data(radarData).enter().append('g').attr('id', d => d[0]);\n    let radarLine = lineRadial().curve(curveType[interpolation]).radius(d => axesScale(d.value)).angle(d => radialScale(d.axes) + Math.PI / 2);\n    plots.append('path').attr('d', d => radarLine(d[1])).attr('stroke', d => colorScale(d[1][0].color)) //first item of the data list\n    .attr('fill', d => colorScale(d[1][0].color)).attr('fill-opacity', fillOpacity);\n\n    if (showDots) {\n      plots.append('g').attr('id', 'dots').selectAll('circle').data(d => d[1]).enter().append('circle').attr('cx', d => Math.cos(radialScale(d.axes)) * axesScale(d.value)).attr('cy', d => Math.sin(radialScale(d.axes)) * axesScale(d.value)).attr('r', dotsDiameter / 2).attr('stroke', 'none').attr('fill', d => colorScale(d.color));\n    } // add series titles\n\n\n    if (showSeriesLabels) {\n      selection.append('text').attr('x', 5).attr('y', 5).text(d => d[0]).styles(styles.seriesLabel);\n    }\n  }); // show legends\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$n = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 30,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 0,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 20,\n    group: 'artboard'\n  },\n  showDots: {\n    type: 'boolean',\n    label: 'Show dots on data values',\n    default: true,\n    group: 'chart'\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    default: 2,\n    group: 'chart',\n    disabled: {\n      showDots: false\n    }\n  },\n  innerDiameter: {\n    type: 'number',\n    label: 'Inner diameter',\n    default: 0,\n    group: 'chart'\n  },\n  interpolation: {\n    type: 'text',\n    label: 'Curve type',\n    default: 'CatmullRom',\n    options: ['Basis', 'Cardinal', 'CatmullRom', 'Linear'],\n    group: 'chart'\n  },\n  fillOpacity: {\n    type: 'number',\n    label: 'Fill opacity',\n    default: 0.5,\n    step: 0.1,\n    min: 0,\n    max: 1,\n    group: 'chart'\n  },\n  labelsPadding: {\n    type: 'number',\n    label: 'Axis labels padding',\n    default: 10,\n    group: 'labels'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'schemeCategory10'\n    },\n    group: 'colors'\n  },\n  columnsNumber: {\n    type: 'number',\n    label: 'Number of columns',\n    default: 0,\n    group: 'series'\n  },\n  sortSeriesBy: {\n    type: 'text',\n    label: 'Sort series by',\n    group: 'series',\n    options: [{\n      label: 'Total value (descending)',\n      value: 'valueDescending'\n    }, {\n      label: 'Total value (ascending)',\n      value: 'valueAscending'\n    }, {\n      label: 'Name',\n      value: 'nameAscending'\n    }, {\n      label: 'Original',\n      value: 'none'\n    }],\n    default: 'valueDescending'\n  },\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show series titles',\n    default: true,\n    group: 'series'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show series grid',\n    default: true,\n    group: 'series'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  }\n};\n\nvar radarchart = {\n  metadata: metadata$n,\n  dimensions: dimensions$n,\n  mapData: mapData$n,\n  render: render$n,\n  visualOptions: visualOptions$n,\n  styles: styles$1\n};\n\nvar img$K = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M45%2c25a90.3265%2c90.3265%2c0%2c0%2c1-18.2163-1.6064A77.3649%2c77.3649%2c0%2c0%2c0%2c11%2c22V8A90.3265%2c90.3265%2c0%2c0%2c1%2c29.2163%2c9.6064%2c77.3649%2c77.3649%2c0%2c0%2c0%2c45%2c11Z'/%3e %3cpath class='cls-1' d='M20%2c34a11.2837%2c11.2837%2c0%2c0%2c1-6.6768-2.1445A3.5143%2c3.5143%2c0%2c0%2c0%2c11%2c31V23a11.2837%2c11.2837%2c0%2c0%2c1%2c6.6768%2c2.1445A3.5143%2c3.5143%2c0%2c0%2c0%2c20%2c26Z'/%3e %3cpath class='cls-1' d='M11%2c40V38a6.3605%2c6.3605%2c0%2c0%2c0%2c3.9556-1.3389A8.3093%2c8.3093%2c0%2c0%2c1%2c20%2c35v2a6.3605%2c6.3605%2c0%2c0%2c0-3.9556%2c1.3389A8.3093%2c8.3093%2c0%2c0%2c1%2c11%2c40Z'/%3e %3cpath class='cls-1' d='M11%2c48V41a46.4412%2c46.4412%2c0%2c0%2c0%2c9.8623-.9414A53.0311%2c53.0311%2c0%2c0%2c1%2c32%2c39v7a46.4412%2c46.4412%2c0%2c0%2c0-9.8623.9414A53.0311%2c53.0311%2c0%2c0%2c1%2c11%2c48Z'/%3e %3cpath class='cls-1' d='M32%2c38a19.419%2c19.419%2c0%2c0%2c1-5.334-.6641A8.857%2c8.857%2c0%2c0%2c0%2c24%2c37V26a19.419%2c19.419%2c0%2c0%2c1%2c5.334.6641A8.857%2c8.857%2c0%2c0%2c0%2c32%2c27Z'/%3e %3cpath class='cls-1' d='M36%2c46V27a9.243%2c9.243%2c0%2c0%2c0%2c2.4922-.2852A27.6609%2c27.6609%2c0%2c0%2c1%2c45%2c26V45a9.243%2c9.243%2c0%2c0%2c0-2.4922.2852A27.6609%2c27.6609%2c0%2c0%2c1%2c36%2c46Z'/%3e %3c/g%3e %3cg id='primary'%3e %3crect class='cls-2' x='8' y='8' width='2' height='23'/%3e %3crect class='cls-2' x='8' y='38' width='2' height='10'/%3e %3crect class='cls-2' x='46' y='11' width='2' height='34'/%3e %3crect class='cls-2' x='21' y='26' width='2' height='11'/%3e %3crect class='cls-2' x='33' y='27' width='2' height='19'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$L = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-2 %7b fill: %23666%3b %7d .cls-3%2c .cls-4%2c .cls-5%2c .cls-6%2c .cls-7%2c .cls-8 %7b fill: none%3b stroke: %23ccc%3b stroke-opacity: 0.5%3b %7d .cls-3 %7b stroke-width: 67.1111px%3b %7d .cls-4 %7b stroke-width: 41.9444px%3b %7d .cls-5 %7b stroke-width: 16.7778px%3b %7d .cls-6 %7b stroke-width: 25.1667px%3b %7d .cls-7 %7b stroke-width: 58.7222px%3b %7d .cls-8 %7b stroke-width: 83.8889px%3b %7d .cls-10%2c .cls-9 %7b isolation: isolate%3b font-size: 10px%3b font-family: Helvetica%3b %7d .cls-9 %7b letter-spacing: -0.0547em%3b %7d %3c/style%3e %3c/defs%3e %3crect id='backgorund' class='cls-1' width='320' height='160'/%3e %3cg id='viz'%3e %3cg%3e %3crect class='cls-2' x='2' y='2' width='10' height='109.0556'/%3e %3crect class='cls-2' x='308' y='2' width='10' height='151'/%3e %3crect class='cls-2' x='104' y='71.4903' width='10' height='58.7222'/%3e %3crect class='cls-2' x='2' y='116.0556' width='10' height='41.9444'/%3e %3crect class='cls-2' x='206' y='73.7409' width='10' height='83.8889'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-3' d='M12%2c35.5556H308'/%3e %3cpath class='cls-4' d='M12%2c90.0833c46%2c0%2c46%2c2.3792%2c92%2c2.3792'/%3e %3cpath class='cls-5' d='M12%2c124.4444c46%2c0%2c46-2.6208%2c92-2.6208'/%3e %3cpath class='cls-6' d='M12%2c145.4167c97%2c0%2c97-.37%2c194-.37'/%3e %3cpath class='cls-7' d='M114%2c100.8514c46%2c0%2c46%2c2.2506%2c92%2c2.2506'/%3e %3cpath class='cls-8' d='M216%2c115.6853c46%2c0%2c46-4.63%2c92-4.63'/%3e %3c/g%3e %3cg%3e %3ctext class='cls-9' transform='translate(18 60.0278)'%3eA%3c/text%3e %3ctext class='cls-10' transform='translate(295.3301 81)'%3eE%3c/text%3e %3ctext class='cls-10' transform='translate(120 104.3514)'%3eC%3c/text%3e %3ctext class='cls-10' transform='translate(18 140.5278)'%3eB%3c/text%3e %3ctext class='cls-10' transform='translate(192.7783 119.1853)'%3eD%3c/text%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$o = {\n  name: 'Sankey Diagram',\n  id: 'rawgraphs.sankeydiagram',\n  thumbnail: img$L,\n  icon: img$K,\n  categories: ['networks'],\n  description: 'It represents flows among nodes of a network. Nodes are represented as rectangles, the height represents their value. Flows are represented with curved lines whose width is proportional to their value.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/sankeydiagram',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-sankey-diagram/'\n};\n\nconst dimensions$o = [{\n  id: 'source',\n  name: 'Source node',\n  validTypes: ['number', 'date', 'string'],\n  required: true\n}, {\n  id: 'target',\n  name: 'Target node',\n  validTypes: ['number', 'date', 'string'],\n  required: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}];\n\nconst mapData$o = function (data, mapping, dataTypes, dimensions) {\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const results = [];\n  rollups(data, v => {\n    const item = {\n      source: v[0][mapping.source.value],\n      target: v[0][mapping.target.value],\n      value: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : 1\n    };\n    results.push(item);\n    return item;\n  }, d => d[mapping.source.value] + d[mapping.target.value] // crossgrup functions. aggregate links among same source and target\n  );\n  return results;\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/sankey-diagram\n*/\n\nfunction render$o(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    nodesWidth,\n    //charts\n    nodesPadding,\n    linksOpacity,\n    linksBlendMode,\n    circularLinkGap,\n    alignment,\n    iterations,\n    //labels\n    showValues,\n    // color scale\n    colorScale\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // links are a deep copy of the dataset, to avoid modification of origina data variable\n\n  const links = data.map(d => Object.assign({}, d)); //get nodes from links\n\n  const nodes = Array.from(new Set(links.flatMap(l => [l.source, l.target])), id => ({\n    id\n  })); // convert option with alignment function names\n\n  const alignments = {\n    Left: 'sankeyLeft',\n    Right: 'sankeyRight',\n    Center: 'sankeyCenter',\n    Justify: 'sankeyJustify'\n  };\n  const sankey = sankeyCircular().nodeId(d => d.id).nodeAlign(d3Sankey[alignments[alignment]]).nodeWidth(nodesWidth).nodePadding(nodesPadding).circularLinkGap(circularLinkGap).extent([[0, 0], [chartWidth, chartHeight]]).iterations(iterations);\n  const network = sankey({\n    nodes,\n    links\n  }); // add background\n\n  select(svgNode).append('rect').attr('width', width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'viz');\n  svg.append('g').selectAll('rect').data(network.nodes).join('rect').attr('x', d => d.x0).attr('y', d => d.y0).attr('height', d => d.y1 - d.y0).attr('width', d => d.x1 - d.x0).attr('fill', 'black').append('title').text(d => `${d.id}: ${d.value}`);\n  const link = svg.append('g').attr('class', 'links').attr('fill', 'none').attr('stroke-opacity', linksOpacity).selectAll('path').data(network.links).enter().append('path').attr('d', d => d.path).style('stroke-width', link => Math.max(1, link.width)).style('mix-blend-mode', linksBlendMode).attr('stroke', d => colorScale(d.source.id));\n  link.append('title').text(d => `${d.source.id}  ${d.target.id}: ${d.value}`);\n  const nodesLabels = svg.append('g').selectAll('text').data(network.nodes).join('text').attr('x', d => d.x0 < width / 2 ? d.x1 + 4 : d.x0 - 4).attr('y', d => d.y0 + (d.y1 - d.y0) / 2).attr('text-anchor', d => d.x0 < width / 2 ? 'start' : 'end');\n  nodesLabels.append('tspan').attr('alignment-baseline', 'middle').text(d => d.id).styles(styles.labelPrimary);\n\n  if (showValues) {\n    nodesLabels.append('tspan').attr('alignment-baseline', 'middle').attr('x', d => d.x0 < width / 2 ? d.x1 + 4 : d.x0 - 4).attr('dy', parseFloat(styles.labelPrimary.fontSize) + 2).text(d => d.value).styles(styles.labelSecondary);\n    nodesLabels.attr('transform', `translate(0,${-parseFloat(styles.labelSecondary.fontSize) / 2})`);\n  }\n}\n\nconst visualOptions$o = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  nodesWidth: {\n    type: 'number',\n    label: 'Nodes width',\n    default: 5,\n    group: 'chart'\n  },\n  nodesPadding: {\n    type: 'number',\n    label: 'Padding',\n    default: 5,\n    group: 'chart'\n  },\n  linksOpacity: {\n    type: 'number',\n    label: 'Links opacity (0-1)',\n    default: 1,\n    step: 0.1,\n    min: 0,\n    max: 1,\n    group: 'chart'\n  },\n  circularLinkGap: {\n    type: 'number',\n    label: 'Circular links gap',\n    default: 2,\n    step: 1,\n    min: 0,\n    group: 'chart'\n  },\n  linksBlendMode: {\n    type: 'text',\n    label: 'Links blend mode',\n    group: 'chart',\n    options: ['normal', 'multiply'],\n    default: 'multiply'\n  },\n  alignment: {\n    type: 'text',\n    label: 'Nodes alignment',\n    group: 'chart',\n    options: ['Left', 'Right', 'Center', 'Justify'],\n    default: 'Left'\n  },\n  iterations: {\n    type: 'number',\n    label: 'Iterations (attempts to solve overlaps)',\n    default: 6,\n    group: 'chart'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'source',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  showValues: {\n    type: 'boolean',\n    label: 'Show nodes values',\n    default: false,\n    group: 'Labels'\n  }\n};\n\nvar sankeydiagram = {\n  metadata: metadata$o,\n  dimensions: dimensions$o,\n  mapData: mapData$o,\n  render: render$o,\n  visualOptions: visualOptions$o,\n  styles: styles$1\n};\n\nvar img$M = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='805' height='600'%3e%3crect width='805' height='600' fill='white'/%3e%3ctext x='402.5' y='50' style='text-anchor: middle%3b' font-size='20'/%3e%3cg transform='translate(%26%23xA%3b 62%2c%26%23xA%3b 70)'%3e%3cg fill='none' font-size='10' font-family='sans-serif' text-anchor='left' transform='translate(0%2c 0)'%3e%3cpath class='domain' stroke='currentColor' d='M-6%2c480H0V0H-6'/%3e%3cg class='tick' opacity='1' transform='translate(0%2c480)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e%e2%88%922.0e%2b1%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c426.66666666666663)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e%e2%88%921.5e%2b1%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c373.3333333333333)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e%e2%88%921.0e%2b1%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c320.00000000000006)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e%e2%88%925.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c266.6666666666667)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e0.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c213.33333333333331)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e5.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c160.00000000000003)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e1.0e%2b1%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c106.66666666666666)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e1.5e%2b1%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c53.33333333333336)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e2.0e%2b1%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(0%2c0)'%3e%3cline stroke='currentColor' x2='-6'/%3e%3ctext fill='currentColor' x='-9' dy='0.32em' transform='translate(0%2c 0)' style='text-anchor: end%3b'%3e2.5e%2b1%3c/text%3e%3c/g%3e%3c/g%3e%3cg fill='none' font-size='10' font-family='sans-serif' text-anchor='middle' transform='translate(0%2c 480)'%3e%3cpath class='domain' stroke='currentColor' d='M0%2c6V0H705V6'/%3e%3cg class='tick' opacity='1' transform='translate(0%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e%e2%88%921.0e%2b1%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(70.5%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e%e2%88%928.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(141%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e%e2%88%926.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(211.5%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e%e2%88%924.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(282%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e%e2%88%922.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(352.5%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e0.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(423%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e2.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(493.49999999999994%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e4.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(564%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e6.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(634.5%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e8.0e%2b0%3c/text%3e%3c/g%3e%3cg class='tick' opacity='1' transform='translate(705%2c0)'%3e%3cline stroke='currentColor' y2='6'/%3e%3ctext fill='currentColor' y='9' dy='0.71em'%3e1.0e%2b1%3c/text%3e%3c/g%3e%3c/g%3e%3ccircle cx='517.053151610221' cy='52.0177861940268' r='5' fill='%231f77b4'/%3e%3ccircle cx='606.875626360907' cy='73.99412639332014' r='5' fill='%231f77b4'/%3e%3ccircle cx='589.8585492846577' cy='62.351902760493104' r='5' fill='%231f77b4'/%3e%3ccircle cx='577.9184685464962' cy='74.81965989613008' r='5' fill='%231f77b4'/%3e%3ccircle cx='499.8746093572765' cy='48.56054917024403' r='5' fill='%231f77b4'/%3e%3ccircle cx='459.9017717043152' cy='34.932056209956656' r='5' fill='%231f77b4'/%3e%3ccircle cx='543.0080358794568' cy='55.65197505787779' r='5' fill='%231f77b4'/%3e%3ccircle cx='527.130661065134' cy='61.12152582691168' r='5' fill='%231f77b4'/%3e%3ccircle cx='614.7335173076981' cy='78.99957727506354' r='5' fill='%231f77b4'/%3e%3ccircle cx='577.9182079958678' cy='74.82057667333494' r='5' fill='%231f77b4'/%3e%3ccircle cx='478.538607163507' cy='46.52047415517213' r='5' fill='%231f77b4'/%3e%3ccircle cx='512.3745588540637' cy='65.98908754276779' r='5' fill='%231f77b4'/%3e%3ccircle cx='606.847715637408' cy='74.06769517658098' r='5' fill='%231f77b4'/%3e%3ccircle cx='630.1378251898847' cy='65.33035868935919' r='5' fill='%231f77b4'/%3e%3ccircle cx='426.3626303109682' cy='45.62221096870674' r='5' fill='%231f77b4'/%3e%3ccircle cx='418.8508876890097' cy='35.536186854979576' r='5' fill='%231f77b4'/%3e%3ccircle cx='439.8428702941749' cy='45.94141155675119' r='5' fill='%231f77b4'/%3e%3ccircle cx='517.0528565484005' cy='52.01797493947577' r='5' fill='%231f77b4'/%3e%3ccircle cx='472.9367592078583' cy='36.447425881052986' r='5' fill='%231f77b4'/%3e%3ccircle cx='462.3766610026564' cy='43.31607977812821' r='5' fill='%231f77b4'/%3e%3ccircle cx='502.18607827836155' cy='69.96996108766353' r='5' fill='%231f77b4'/%3e%3ccircle cx='478.52336414954806' cy='46.52629039100173' r='5' fill='%231f77b4'/%3e%3ccircle cx='446.4424474751794' cy='58.63216828087115' r='5' fill='%231f77b4'/%3e%3ccircle cx='520.8185213075118' cy='74.25346558445918' r='5' fill='%231f77b4'/%3e%3ccircle cx='489.4088627200556' cy='75.21298777627939' r='5' fill='%231f77b4'/%3e%3ccircle cx='584.8388696898917' cy='82.67294697945917' r='5' fill='%231f77b4'/%3e%3ccircle cx='512.3744471909969' cy='65.98896051879954' r='5' fill='%231f77b4'/%3e%3ccircle cx='503.5677581852581' cy='56.316150763326945' r='5' fill='%231f77b4'/%3e%3ccircle cx='543.008071423405' cy='55.651893799107995' r='5' fill='%231f77b4'/%3e%3ccircle cx='547.5251113212177' cy='74.81866580163802' r='5' fill='%231f77b4'/%3e%3ccircle cx='563.3186268784659' cy='79.97293277247202' r='5' fill='%231f77b4'/%3e%3ccircle cx='527.1307036550605' cy='61.12145028673618' r='5' fill='%231f77b4'/%3e%3ccircle cx='435.08280948439636' cy='37.438860155171696' r='5' fill='%231f77b4'/%3e%3ccircle cx='423.1987371084443' cy='38.91472648742956' r='5' fill='%231f77b4'/%3e%3ccircle cx='577.9186446161327' cy='74.81880509245322' r='5' fill='%231f77b4'/%3e%3ccircle cx='602.7646188980198' cy='59.79651585535065' r='5' fill='%231f77b4'/%3e%3ccircle cx='530.3684468816834' cy='47.90490821140384' r='5' fill='%231f77b4'/%3e%3ccircle cx='577.9184247177951' cy='74.81984366920854' r='5' fill='%231f77b4'/%3e%3ccircle cx='617.1590685831784' cy='69.29034381094712' r='5' fill='%231f77b4'/%3e%3ccircle cx='527.1306457436469' cy='61.12123806522078' r='5' fill='%231f77b4'/%3e%3ccircle cx='530.3684437678864' cy='47.90476165969601' r='5' fill='%231f77b4'/%3e%3ccircle cx='645.1119776580341' cy='80.90826353232963' r='5' fill='%231f77b4'/%3e%3ccircle cx='589.8585561617217' cy='62.35187264226482' r='5' fill='%231f77b4'/%3e%3ccircle cx='494.0431249781715' cy='60.21696168847667' r='5' fill='%231f77b4'/%3e%3ccircle cx='476.8492158803588' cy='31.441645982078157' r='5' fill='%231f77b4'/%3e%3ccircle cx='606.8754573264828' cy='73.99453019455478' r='5' fill='%231f77b4'/%3e%3ccircle cx='468.67786186280676' cy='39.73317546249744' r='5' fill='%231f77b4'/%3e%3ccircle cx='575.4346064209916' cy='66.06813336502334' r='5' fill='%231f77b4'/%3e%3ccircle cx='478.5472868519163' cy='46.51713078187157' r='5' fill='%231f77b4'/%3e%3ccircle cx='559.5342133769067' cy='61.04512481611722' r='5' fill='%231f77b4'/%3e%3ccircle cx='263.5396526946499' cy='349.0536375197126' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='234.56693161358493' cy='340.6161688464754' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='291.76747393372796' cy='363.8074307357811' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='58.237845011906956' cy='339.93141557331387' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='195.46182082073838' cy='358.4531553896458' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='176.52897798101154' cy='352.3285474052798' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='271.14818780473627' cy='346.0336716452614' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='30.763273229180257' cy='322.7901000266138' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='209.16455991859638' cy='354.85989785481564' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='88.77529127424246' cy='328.4544021260536' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='21.210377985039973' cy='330.02460634990274' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='161.76233971696522' cy='332.197409479977' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='51.16618015495429' cy='340.8009757614359' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='227.68463105579522' cy='360.2794081721403' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='74.92274338036854' cy='320.16932551320747' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='204.54970078231185' cy='337.6428685169435' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='206.83451489179583' cy='345.50512677969664' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='107.87980022219587' cy='335.53003722304396' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='96.66689762911776' cy='359.1517398882776' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='68.51105233005468' cy='333.0475448192844' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='280.0918072229624' cy='354.20923359404986' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='111.0035378468559' cy='328.96282003445333' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='225.21395650719433' cy='386.6718168438919' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='215.1188473573766' cy='364.44735076109953' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='161.05269228877413' cy='339.5686578505031' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='189.43243419513203' cy='340.47532410934787' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='235.01728130657932' cy='370.26640730650377' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='300.46059715380306' cy='373.7131325068734' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='190.6893761689065' cy='349.2230308181215' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='50.60892155697207' cy='322.7771625934321' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='52.92720849862342' cy='332.5861548844024' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='47.824748522410744' cy='330.04481231923967' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='88.77522697046601' cy='328.45454138534404' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='271.1227239614055' cy='388.6342194624825' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='206.83454524259335' cy='345.50495891661876' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='255.00532992965933' cy='338.27276791404125' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='252.56891238441995' cy='352.67197115747626' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='95.4438993353169' cy='355.7216208188618' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='144.75575128020628' cy='328.80546906613523' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='76.34555287240502' cy='336.98190415711696' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='128.2272570826817' cy='351.34956751626333' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='223.94078164435757' cy='350.8952663398303' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='87.17119839285743' cy='334.6079690644097' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='26.23585455404251' cy='324.11812615337465' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='118.59237573240135' cy='339.51476427069275' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='161.76234871947315' cy='332.1974113834956' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='144.75402550081975' cy='335.0276302097458' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='161.05277234165837' cy='339.5685270776983' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='24.557440157707052' cy='319.7094886148677' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='121.7230361461542' cy='332.5565695050205' r='5' fill='%23ff7f0e'/%3e%3ccircle cx='447.64425960783313' cy='417.351362755019' r='5' fill='%232ca02c'/%3e%3ccircle cx='271.1227572595968' cy='388.634253810037' r='5' fill='%232ca02c'/%3e%3ccircle cx='454.88907030523666' cy='406.38746399322196' r='5' fill='%232ca02c'/%3e%3ccircle cx='422.8572548977107' cy='396.998266797225' r='5' fill='%232ca02c'/%3e%3ccircle cx='442.3943787262708' cy='404.267513137606' r='5' fill='%232ca02c'/%3e%3ccircle cx='500.3995374306427' cy='416.808189262082' r='5' fill='%232ca02c'/%3e%3ccircle cx='122.69371319496327' cy='357.12445830868455' r='5' fill='%232ca02c'/%3e%3ccircle cx='490.0566894245524' cy='411.32046769719193' r='5' fill='%232ca02c'/%3e%3ccircle cx='463.8786739330286' cy='392.008453336699' r='5' fill='%232ca02c'/%3e%3ccircle cx='450.6734613987674' cy='424.09034349301743' r='5' fill='%232ca02c'/%3e%3ccircle cx='339.42163197605015' cy='376.75935130840696' r='5' fill='%232ca02c'/%3e%3ccircle cx='305.11054496145033' cy='394.5369426698051' r='5' fill='%232ca02c'/%3e%3ccircle cx='400.13822129252867' cy='397.07585461317035' r='5' fill='%232ca02c'/%3e%3ccircle cx='237.2044886023766' cy='389.9680680643076' r='5' fill='%232ca02c'/%3e%3ccircle cx='288.2044029674007' cy='385.12413833317237' r='5' fill='%232ca02c'/%3e%3ccircle cx='363.5962686774245' cy='393.5041720657357' r='5' fill='%232ca02c'/%3e%3ccircle cx='400.13820660328713' cy='397.0758546386223' r='5' fill='%232ca02c'/%3e%3ccircle cx='477.69447774607227' cy='427.6056172031695' r='5' fill='%232ca02c'/%3e%3ccircle cx='517.1441692686515' cy='414.0439628379875' r='5' fill='%232ca02c'/%3e%3ccircle cx='212.20246385694043' cy='392.7231605881656' r='5' fill='%232ca02c'/%3e%3ccircle cx='419.0067923878388' cy='409.07382318405166' r='5' fill='%232ca02c'/%3e%3ccircle cx='255.41121271094246' cy='375.79739254302393' r='5' fill='%232ca02c'/%3e%3ccircle cx='510.0045291501511' cy='414.5979543593866' r='5' fill='%232ca02c'/%3e%3ccircle cx='243.8982606279435' cy='380.0160185584377' r='5' fill='%232ca02c'/%3e%3ccircle cx='414.7457021955551' cy='413.16702618443566' r='5' fill='%232ca02c'/%3e%3ccircle cx='453.8100646103648' cy='414.40271662511907' r='5' fill='%232ca02c'/%3e%3ccircle cx='235.0186140278654' cy='370.2659385230888' r='5' fill='%232ca02c'/%3e%3ccircle cx='280.62379622823494' cy='367.79638119257834' r='5' fill='%232ca02c'/%3e%3ccircle cx='430.14468858907657' cy='393.6730184144458' r='5' fill='%232ca02c'/%3e%3ccircle cx='442.39435865271474' cy='404.26755488170625' r='5' fill='%232ca02c'/%3e%3ccircle cx='481.2059957199664' cy='405.18529868382694' r='5' fill='%232ca02c'/%3e%3ccircle cx='467.7629206631313' cy='427.52521168754765' r='5' fill='%232ca02c'/%3e%3ccircle cx='430.1447744667411' cy='393.6729364823327' r='5' fill='%232ca02c'/%3e%3ccircle cx='288.2043691367719' cy='385.1241165321604' r='5' fill='%232ca02c'/%3e%3ccircle cx='443.4978505403154' cy='389.1131668614957' r='5' fill='%232ca02c'/%3e%3ccircle cx='471.93410745289646' cy='410.4736891383593' r='5' fill='%232ca02c'/%3e%3ccircle cx='397.55241173862464' cy='413.4968995560166' r='5' fill='%232ca02c'/%3e%3ccircle cx='393.703865343398' cy='401.39966706634056' r='5' fill='%232ca02c'/%3e%3ccircle cx='260.0727969294961' cy='361.7807530453803' r='5' fill='%232ca02c'/%3e%3ccircle cx='377.78085649345667' cy='396.86770483443007' r='5' fill='%232ca02c'/%3e%3ccircle cx='409.97667009193844' cy='403.82082679329926' r='5' fill='%232ca02c'/%3e%3ccircle cx='328.9766255467166' cy='377.9999737271093' r='5' fill='%232ca02c'/%3e%3ccircle cx='271.1226855861252' cy='388.6340939779293' r='5' fill='%232ca02c'/%3e%3ccircle cx='441.7852507112163' cy='413.1438129243797' r='5' fill='%232ca02c'/%3e%3ccircle cx='414.7456865910035' cy='413.1671456210937' r='5' fill='%232ca02c'/%3e%3ccircle cx='335.30671551506794' cy='386.0987735962991' r='5' fill='%232ca02c'/%3e%3ccircle cx='237.20442501658317' cy='389.967956390425' r='5' fill='%232ca02c'/%3e%3ccircle cx='335.3067893451897' cy='386.0987776897496' r='5' fill='%232ca02c'/%3e%3ccircle cx='374.62242890919873' cy='408.20126035530956' r='5' fill='%232ca02c'/%3e%3ccircle cx='316.538415982012' cy='380.0627128804108' r='5' fill='%232ca02c'/%3e%3c/g%3e%3c/svg%3e\";\n\nvar img$N = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3ccircle class='cls-1' cx='22.5' cy='39.5' r='3.5'/%3e %3ccircle class='cls-1' cx='17' cy='20' r='6'/%3e %3ccircle class='cls-1' cx='41.5' cy='37.5' r='2.5'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 8 48 8 9.939 9.195 11.135 9.195 9.695 7.5 8 5.805 9.695 5.805 11.135 7 9.939 7 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3ccircle class='cls-2' cx='31.5' cy='28.5' r='6.5'/%3e %3ccircle class='cls-2' cx='37.5' cy='15.5' r='3.5'/%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$p = {\n  name: 'Similarity Map',\n  id: 'rawgraphs.similaritymap',\n  categories: ['Dimension Reduction', 'Clustering'],\n  description: 'Similarity of high dimensional data points is rendered in two dimensions via clustering.',\n  code: 'https://observablehq.com/',\n  tutorial: 'https://rawgraphs.io/learning/',\n  thumbnail: img$M,\n  icon: img$N\n};\n\nconst dimensions$p = [{\n  id: 'classification',\n  name: 'Classification',\n  validTypes: ['string', 'number'],\n  required: false\n}, {\n  id: 'dimensions',\n  name: 'Dimensions',\n  validTypes: ['number'],\n  required: true,\n  multiple: true,\n  operation: 'get'\n}];\n\nconst mapData$p = {\n  classification: 'get',\n  dimensions: 'get'\n};\n\nfunction allTSNEE(opt) {\n  // utility function\n  var assert = function (condition, message) {\n    if (!condition) {\n      throw message || \"Assertion failed\";\n    }\n  }; // syntax sugar\n\n\n  var getopt = function (opt, field, defaultval) {\n    if (opt.hasOwnProperty(field)) {\n      return opt[field];\n    } else {\n      return defaultval;\n    }\n  }; // return 0 mean unit standard deviation random number\n\n\n  var return_v = false;\n  var v_val = 0.0;\n\n  var gaussRandom = function () {\n    if (return_v) {\n      return_v = false;\n      return v_val;\n    }\n\n    var u = 2 * Math.random() - 1;\n    var v = 2 * Math.random() - 1;\n    var r = u * u + v * v;\n    if (r == 0 || r > 1) return gaussRandom();\n    var c = Math.sqrt(-2 * Math.log(r) / r);\n    v_val = v * c; // cache this for next function call for efficiency\n\n    return_v = true;\n    return u * c;\n  }; // return random normal number\n\n\n  var randn = function (mu, std) {\n    return mu + gaussRandom() * std;\n  }; // utilitity that creates contiguous vector of zeros of size n\n\n\n  var zeros = function (n) {\n    if (typeof n === 'undefined' || isNaN(n)) {\n      return [];\n    }\n\n    if (typeof ArrayBuffer === 'undefined') {\n      // lacking browser support\n      var arr = new Array(n);\n\n      for (var i = 0; i < n; i++) {\n        arr[i] = 0;\n      }\n\n      return arr;\n    } else {\n      return new Float64Array(n); // typed arrays are faster\n    }\n  }; // utility that returns 2d array filled with random numbers\n  // or with value s, if provided\n\n\n  var randn2d = function (n, d, s) {\n    var uses = typeof s !== 'undefined';\n    var x = [];\n\n    for (var i = 0; i < n; i++) {\n      var xhere = [];\n\n      for (var j = 0; j < d; j++) {\n        if (uses) {\n          xhere.push(s);\n        } else {\n          xhere.push(randn(0.0, 1e-4));\n        }\n      }\n\n      x.push(xhere);\n    }\n\n    return x;\n  }; // compute L2 distance between two vectors\n\n\n  var L2 = function (x1, x2) {\n    var D = x1.length;\n    var d = 0;\n\n    for (var i = 0; i < D; i++) {\n      var x1i = x1[i];\n      var x2i = x2[i];\n      d += (x1i - x2i) * (x1i - x2i);\n    }\n\n    return d;\n  }; // compute pairwise distance in all vectors in X\n\n\n  var xtod = function (X) {\n    var N = X.length;\n    var dist = zeros(N * N); // allocate contiguous array\n\n    for (var i = 0; i < N; i++) {\n      for (var j = i + 1; j < N; j++) {\n        var d = L2(X[i], X[j]);\n        dist[i * N + j] = d;\n        dist[j * N + i] = d;\n      }\n    }\n\n    return dist;\n  }; // compute (p_{i|j} + p_{j|i})/(2n)\n\n\n  var d2p = function (D, perplexity, tol) {\n    var Nf = Math.sqrt(D.length); // this better be an integer\n\n    var N = Math.floor(Nf);\n    assert(N === Nf, \"D should have square number of elements.\");\n    var Htarget = Math.log(perplexity); // target entropy of distribution\n\n    var P = zeros(N * N); // temporary probability matrix\n\n    var prow = zeros(N); // a temporary storage compartment\n\n    for (var i = 0; i < N; i++) {\n      var betamin = -Infinity;\n      var betamax = Infinity;\n      var beta = 1; // initial value of precision\n\n      var done = false;\n      var maxtries = 50; // perform binary search to find a suitable precision beta\n      // so that the entropy of the distribution is appropriate\n\n      var num = 0;\n\n      while (!done) {\n        //debugger;\n        // compute entropy and kernel row with beta precision\n        var psum = 0.0;\n\n        for (var j = 0; j < N; j++) {\n          var pj = Math.exp(-D[i * N + j] * beta);\n\n          if (i === j) {\n            pj = 0;\n          } // we dont care about diagonals\n\n\n          prow[j] = pj;\n          psum += pj;\n        } // normalize p and compute entropy\n\n\n        var Hhere = 0.0;\n\n        for (var j = 0; j < N; j++) {\n          if (psum == 0) {\n            var pj = 0;\n          } else {\n            var pj = prow[j] / psum;\n          }\n\n          prow[j] = pj;\n          if (pj > 1e-7) Hhere -= pj * Math.log(pj);\n        } // adjust beta based on result\n\n\n        if (Hhere > Htarget) {\n          // entropy was too high (distribution too diffuse)\n          // so we need to increase the precision for more peaky distribution\n          betamin = beta; // move up the bounds\n\n          if (betamax === Infinity) {\n            beta = beta * 2;\n          } else {\n            beta = (beta + betamax) / 2;\n          }\n        } else {\n          // converse case. make distrubtion less peaky\n          betamax = beta;\n\n          if (betamin === -Infinity) {\n            beta = beta / 2;\n          } else {\n            beta = (beta + betamin) / 2;\n          }\n        } // stopping conditions: too many tries or got a good precision\n\n\n        num++;\n\n        if (Math.abs(Hhere - Htarget) < tol) {\n          done = true;\n        }\n\n        if (num >= maxtries) {\n          done = true;\n        }\n      } // console.log('data point ' + i + ' gets precision ' + beta + ' after ' + num + ' binary search steps.');\n      // copy over the final prow to P at row i\n\n\n      for (var j = 0; j < N; j++) {\n        P[i * N + j] = prow[j];\n      }\n    } // end loop over examples i\n    // symmetrize P and normalize it to sum to 1 over all ij\n\n\n    var Pout = zeros(N * N);\n    var N2 = N * 2;\n\n    for (var i = 0; i < N; i++) {\n      for (var j = 0; j < N; j++) {\n        Pout[i * N + j] = Math.max((P[i * N + j] + P[j * N + i]) / N2, 1e-100);\n      }\n    }\n\n    return Pout;\n  }; // helper function\n\n\n  function sign(x) {\n    return x > 0 ? 1 : x < 0 ? -1 : 0;\n  }\n\n  var tSNE = function (opt) {\n    var opt = opt || {};\n    this.perplexity = getopt(opt, \"perplexity\", 30); // effective number of nearest neighbors\n\n    this.dim = getopt(opt, \"dim\", 2); // by default 2-D tSNE\n\n    this.epsilon = getopt(opt, \"epsilon\", 10); // learning rate\n\n    this.iter = 0;\n  };\n\n  tSNE.prototype = {\n    // this function takes a set of high-dimensional points\n    // and creates matrix P from them using gaussian kernel\n    initDataRaw: function (X) {\n      var N = X.length;\n      var D = X[0].length;\n      assert(N > 0, \" X is empty? You must have some data!\");\n      assert(D > 0, \" X[0] is empty? Where is the data?\");\n      var dists = xtod(X); // convert X to distances using gaussian kernel\n\n      this.P = d2p(dists, this.perplexity, 1e-4); // attach to object\n\n      this.N = N; // back up the size of the dataset\n\n      this.initSolution(); // refresh this\n    },\n    // this function takes a given distance matrix and creates\n    // matrix P from them.\n    // D is assumed to be provided as a list of lists, and should be symmetric\n    initDataDist: function (D) {\n      var N = D.length;\n      assert(N > 0, \" X is empty? You must have some data!\"); // convert D to a (fast) typed array version\n\n      var dists = zeros(N * N); // allocate contiguous array\n\n      for (var i = 0; i < N; i++) {\n        for (var j = i + 1; j < N; j++) {\n          var d = D[i][j];\n          dists[i * N + j] = d;\n          dists[j * N + i] = d;\n        }\n      }\n\n      this.P = d2p(dists, this.perplexity, 1e-4);\n      this.N = N;\n      this.initSolution(); // refresh this\n    },\n    // (re)initializes the solution to random\n    initSolution: function () {\n      // generate random solution to t-SNE\n      this.Y = randn2d(this.N, this.dim); // the solution\n\n      this.gains = randn2d(this.N, this.dim, 1.0); // step gains to accelerate progress in unchanging directions\n\n      this.ystep = randn2d(this.N, this.dim, 0.0); // momentum accumulator\n\n      this.iter = 0;\n    },\n    // return pointer to current solution\n    getSolution: function () {\n      return this.Y;\n    },\n    // perform a single step of optimization to improve the embedding\n    step: function () {\n      this.iter += 1;\n      var N = this.N;\n      var cg = this.costGrad(this.Y); // evaluate gradient\n\n      var cost = cg.cost;\n      var grad = cg.grad; // perform gradient step\n\n      var ymean = zeros(this.dim);\n\n      for (var i = 0; i < N; i++) {\n        for (var d = 0; d < this.dim; d++) {\n          var gid = grad[i][d];\n          var sid = this.ystep[i][d];\n          var gainid = this.gains[i][d]; // compute gain update\n\n          var newgain = sign(gid) === sign(sid) ? gainid * 0.8 : gainid + 0.2;\n          if (newgain < 0.01) newgain = 0.01; // clamp\n\n          this.gains[i][d] = newgain; // store for next turn\n          // compute momentum step direction\n\n          var momval = this.iter < 250 ? 0.5 : 0.8;\n          var newsid = momval * sid - this.epsilon * newgain * grad[i][d];\n          this.ystep[i][d] = newsid; // remember the step we took\n          // step!\n\n          this.Y[i][d] += newsid;\n          ymean[d] += this.Y[i][d]; // accumulate mean so that we can center later\n        }\n      } // reproject Y to be zero mean\n\n\n      for (var i = 0; i < N; i++) {\n        for (var d = 0; d < this.dim; d++) {\n          this.Y[i][d] -= ymean[d] / N;\n        }\n      } //if(this.iter%100===0) console.log('iter ' + this.iter + ', cost: ' + cost);\n\n\n      return cost; // return current cost\n    },\n    // for debugging: gradient check\n    debugGrad: function () {\n      var N = this.N;\n      var cg = this.costGrad(this.Y); // evaluate gradient\n\n      cg.cost;\n      var grad = cg.grad;\n      var e = 1e-5;\n\n      for (var i = 0; i < N; i++) {\n        for (var d = 0; d < this.dim; d++) {\n          var yold = this.Y[i][d];\n          this.Y[i][d] = yold + e;\n          var cg0 = this.costGrad(this.Y);\n          this.Y[i][d] = yold - e;\n          var cg1 = this.costGrad(this.Y);\n          var analytic = grad[i][d];\n          var numerical = (cg0.cost - cg1.cost) / (2 * e);\n          console.log(i + ',' + d + ': gradcheck analytic: ' + analytic + ' vs. numerical: ' + numerical);\n          this.Y[i][d] = yold;\n        }\n      }\n    },\n    // return cost and gradient, given an arrangement\n    costGrad: function (Y) {\n      var N = this.N;\n      var dim = this.dim; // dim of output space\n\n      var P = this.P;\n      var pmul = this.iter < 100 ? 4 : 1; // trick that helps with local optima\n      // compute current Q distribution, unnormalized first\n\n      var Qu = zeros(N * N);\n      var qsum = 0.0;\n\n      for (var i = 0; i < N; i++) {\n        for (var j = i + 1; j < N; j++) {\n          var dsum = 0.0;\n\n          for (var d = 0; d < dim; d++) {\n            var dhere = Y[i][d] - Y[j][d];\n            dsum += dhere * dhere;\n          }\n\n          var qu = 1.0 / (1.0 + dsum); // Student t-distribution\n\n          Qu[i * N + j] = qu;\n          Qu[j * N + i] = qu;\n          qsum += 2 * qu;\n        }\n      } // normalize Q distribution to sum to 1\n\n\n      var NN = N * N;\n      var Q = zeros(NN);\n\n      for (var q = 0; q < NN; q++) {\n        Q[q] = Math.max(Qu[q] / qsum, 1e-100);\n      }\n\n      var cost = 0.0;\n      var grad = [];\n\n      for (var i = 0; i < N; i++) {\n        var gsum = new Array(dim); // init grad for point i\n\n        for (var d = 0; d < dim; d++) {\n          gsum[d] = 0.0;\n        }\n\n        for (var j = 0; j < N; j++) {\n          cost += -P[i * N + j] * Math.log(Q[i * N + j]); // accumulate cost (the non-constant portion at least...)\n\n          var premult = 4 * (pmul * P[i * N + j] - Q[i * N + j]) * Qu[i * N + j];\n\n          for (var d = 0; d < dim; d++) {\n            gsum[d] += premult * (Y[i][d] - Y[j][d]);\n          }\n        }\n\n        grad.push(gsum);\n      }\n\n      return {\n        cost: cost,\n        grad: grad\n      };\n    }\n  };\n  return new tSNE(opt);\n}\n\nfunction render$p(node, data, visualOptions, mapping) {\n  // destructurate visual visualOptions\n  const {\n    // default options\n    width,\n    height,\n    marginLeft,\n    marginRight,\n    marginBottom,\n    marginTop,\n    background,\n    dotsRadius,\n    colorScale,\n    title,\n    epsilon,\n    perplexity\n  } = visualOptions;\n  const {\n    titleSize,\n    boundWidth,\n    boundHeight,\n    boundLeft,\n    boundTop,\n    xAccessor,\n    yAccessor,\n    reducedDimensions,\n    reducedDimensionsClassified\n  } = calcProps();\n  const xDimension = reducedDimensions.map(point => point[0]);\n  const yDimension = reducedDimensions.map(point => point[1]);\n  const svg = select(node);\n  const bounds = createBounds();\n  const {\n    xScale,\n    yScale\n  } = createScales();\n  createAxes();\n  drawScatterPoints();\n\n  function calcProps() {\n    const minTitleHeight = 300;\n    const titleSize = height / 30;\n    let boundWidth = width - marginLeft - marginRight;\n    let boundHeight = height - marginTop - marginBottom;\n    let boundLeft = marginLeft + 12; //lr: why the +12? -> the standard marginLeft parameter is not transfered from visualOptions.js in sanbox\n\n    let boundTop = boundHeight >= minTitleHeight ? marginTop + titleSize : marginTop;\n\n    if (boundHeight >= minTitleHeight) {\n      boundHeight -= titleSize;\n    }\n\n    const xAccessor = d => d[0];\n\n    const yAccessor = d => d[1];\n\n    const {\n      reducedDimensions,\n      reducedDimensionsClassified\n    } = calcReducedDimensions();\n    return {\n      minTitleHeight,\n      titleSize,\n      boundWidth,\n      boundHeight,\n      boundLeft,\n      boundTop,\n      xAccessor,\n      yAccessor,\n      reducedDimensions,\n      reducedDimensionsClassified\n    };\n  }\n\n  function calcReducedDimensions() {\n    const opt = {\n      dim: 2,\n      epsilon,\n      perplexity\n    };\n    var tsne = allTSNEE(opt);\n    const tsneData = data.map(row => {\n      return row.dimensions;\n    });\n    tsne.initDataRaw(tsneData);\n\n    for (var k = 0; k < 500; k++) {\n      tsne.step(); // every time you call this, solution gets better\n    }\n\n    const reducedDimensions = tsne.getSolution(); // Y is an array of 2-D points that you can plot\n\n    const reducedDimensionsClassified = reducedDimensions.map((e, i) => {\n      let classification = undefined;\n\n      if (data[i] && data[i].classification) {\n        classification = data[i].classification;\n      }\n\n      return {\n        reducedDimension: e,\n        classification\n      };\n    });\n    return {\n      reducedDimensions,\n      reducedDimensionsClassified\n    };\n  }\n\n  function createBounds() {\n    svg.append('rect').attr('width', width).attr('height', height).attr('fill', background);\n\n    if (titleSize) {\n      svg.append('text').text(title).attr('x', width / 2).attr('y', marginTop).style(\"text-anchor\", \"middle\").attr(\"font-size\", titleSize);\n    }\n\n    return svg.append(\"g\").attr(\"transform\", `translate(\n      ${boundLeft},\n      ${boundTop})`);\n  }\n\n  function createScales() {\n    const xScale = scaleLinear().domain(extent(xDimension)).range([0, boundWidth]).nice();\n    const yScale = scaleLinear().domain(extent(yDimension)).range([boundHeight, 0]).nice();\n    return {\n      xScale,\n      yScale\n    };\n  }\n\n  function createAxes() {\n    const yAxisGenerator = axisLeft().scale(yScale).tickFormat(format(\".1e\"));\n    const yAxis = bounds.append(\"g\").call(yAxisGenerator).attr(\"text-anchor\", \"left\");\n    yAxis.attr(\"transform\", `translate(${0}, 0)`);\n    yAxis.selectAll(\"text\").attr(\"transform\", `translate(${0}, 0)`).style(\"text-anchor\", \"end\");\n    const xAxisGenerator = axisBottom().scale(xScale).tickFormat(format(\".1e\"));\n    const xAxis = bounds.append(\"g\").call(xAxisGenerator).attr(\"transform\", `translate(${0}, ${boundHeight})`);\n    return {\n      xAxis,\n      yAxis\n    };\n  }\n\n  function drawScatterPoints() {\n    const dots = bounds.selectAll(\"circle\").data(reducedDimensionsClassified);\n    dots.join(\"circle\").attr(\"cx\", d => xScale(xAccessor(d.reducedDimension))).attr(\"cy\", d => yScale(yAccessor(d.reducedDimension))).attr(\"r\", dotsRadius).attr(\"fill\", d => d.classification ? colorScale(d.classification) : \"#0365a8\");\n    return dots;\n  }\n}\n\nconst visualOptions$p = {\n  //artboard\n  title: {\n    type: \"text\",\n    label: \"Chart title\",\n    default: \"\",\n    group: \"artboard\"\n  },\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  //parameter\n  epsilon: {\n    // epsilon is learning rate (10 = default)\n    type: 'number',\n    label: 'Epsilon',\n    default: 10,\n    group: 't-SNE'\n  },\n  perplexity: {\n    // roughly how many neighbors each point influences (30 = default)\n    type: 'number',\n    label: 'Perplexity',\n    default: 30,\n    group: 't-SNE'\n  },\n  //chart\n  dotsRadius: {\n    type: 'number',\n    label: 'Dots radius',\n    default: 5,\n    group: 'chart'\n  },\n  //color\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'classification',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'color'\n  }\n};\n\nvar similaritymap = {\n  metadata: metadata$p,\n  dimensions: dimensions$p,\n  mapData: mapData$p,\n  render: render$p,\n  visualOptions: visualOptions$p,\n  styles: styles$1\n};\n\nvar img$O = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3crect class='cls-1' x='8' y='8' width='1' height='40'/%3e %3crect class='cls-1' x='47' y='8' width='1' height='40'/%3e %3cg%3e %3cpath class='cls-2' d='M47.5%2c21A1.5%2c1.5%2c0%2c1%2c0%2c46%2c19.5a1.47578%2c1.47578%2c0%2c0%2c0%2c.01672.16595l-10.73986%2c5.2323L28.6474%2c22.68848%2c46.56372%2c11.66327a1.48885%2c1.48885%2c0%2c1%2c0-.52924-.848L27.41028%2c22.27606%2c9.99713%2c16.47168a1.5103%2c1.5103%2c0%2c1%2c0-.32013.948l16.62152%2c5.54053L9.43628%2c33.33673a1.48885%2c1.48885%2c0%2c1%2c0%2c.52924.848L27.53564%2c23.37256l6.45588%2c2.152L9.55121%2c37.43152A1.49891%2c1.49891%2c0%2c1%2c0%2c10%2c38.5a1.47578%2c1.47578%2c0%2c0%2c0-.01672-.166L35.348%2c25.97668l10.65491%2c3.55164a1.5103%2c1.5103%2c0%2c1%2c0%2c.32013-.948l-9.68964-3.22986%2c9.81543-4.782A1.49419%2c1.49419%2c0%2c0%2c0%2c47.5%2c21Z'/%3e %3cpath class='cls-2' d='M47.5%2c40a1.4975%2c1.4975%2c0%2c0%2c0-1.45349%2c1.14606L9.851%2c44.85883a1.49887%2c1.49887%2c0%2c1%2c0%2c.10248.99511L46.149%2c42.14117A1.498%2c1.498%2c0%2c1%2c0%2c47.5%2c40Z'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$P = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-14%2c .cls-3 %7b font-size: 10px%3b font-family: ArialMT%2c Arial%3b %7d .cls-1 %7b letter-spacing: -0.05518em%3b %7d .cls-10%2c .cls-12%2c .cls-2%2c .cls-4%2c .cls-6%2c .cls-8 %7b fill: none%3b %7d .cls-2 %7b stroke: black%3b %7d .cls-4 %7b stroke: %239e0142%3b %7d .cls-5 %7b fill: %239e0142%3b %7d .cls-6 %7b stroke: %23f88e53%3b %7d .cls-7 %7b fill: %23f88e53%3b %7d .cls-8 %7b stroke: %23fbf8b0%3b %7d .cls-9 %7b fill: %23fbf8b0%3b %7d .cls-10 %7b stroke: %2389cfa5%3b %7d .cls-11 %7b fill: %2389cfa5%3b %7d .cls-12 %7b stroke: %235e4fa2%3b %7d .cls-13 %7b fill: %235e4fa2%3b %7d .cls-14 %7b isolation: isolate%3b %7d %3c/style%3e %3c/defs%3e %3cg%3e %3cg%3e %3cg%3e %3ctext class='cls-1' transform='translate(24.94092 11)'%3eA%3c/text%3e %3cline class='cls-2' x1='28' y1='20' x2='28' y2='14'/%3e %3c/g%3e %3cg%3e %3ctext class='cls-3' transform='translate(288.66504 11)'%3eB%3c/text%3e %3cline class='cls-2' x1='292' y1='20' x2='292' y2='14'/%3e %3c/g%3e %3c/g%3e %3cg%3e %3cg%3e %3cline class='cls-4' x1='28' y1='84.79729' x2='292' y2='20'/%3e %3ccircle class='cls-5' cx='28' cy='84.79729' r='2.5'/%3e %3ccircle class='cls-5' cx='292' cy='20' r='2.5'/%3e %3c/g%3e %3cg%3e %3cline class='cls-6' x1='28' y1='102.6937' x2='292' y2='29.87387'/%3e %3ccircle class='cls-7' cx='28' cy='102.6937' r='2.5'/%3e %3ccircle class='cls-7' cx='292' cy='29.87387' r='2.5'/%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='28' y1='105.77928' x2='292' y2='52.09009'/%3e %3ccircle class='cls-9' cx='28' cy='105.77928' r='2.5'/%3e %3ccircle class='cls-9' cx='292' cy='52.09009' r='2.5'/%3e %3c/g%3e %3cg%3e %3cline class='cls-10' x1='28' y1='123.05856' x2='292' y2='133.54955'/%3e %3ccircle class='cls-11' cx='28' cy='123.05856' r='2.5'/%3e %3ccircle class='cls-11' cx='292' cy='133.54955' r='2.5'/%3e %3c/g%3e %3cg%3e %3cline class='cls-4' x1='28' y1='133.54955' x2='292' y2='106.39639'/%3e %3ccircle class='cls-5' cx='28' cy='133.54955' r='2.5'/%3e %3ccircle class='cls-5' cx='292' cy='106.39639' r='2.5'/%3e %3c/g%3e %3cg%3e %3cline class='cls-4' x1='28' y1='142.8063' x2='292' y2='109.48198'/%3e %3ccircle class='cls-5' cx='28' cy='142.8063' r='2.5'/%3e %3ccircle class='cls-5' cx='292' cy='109.48198' r='2.5'/%3e %3c/g%3e %3cg%3e %3cline class='cls-12' x1='28' y1='157' x2='292' y2='107.63063'/%3e %3ccircle class='cls-13' cx='28' cy='157' r='2.5'/%3e %3ccircle class='cls-13' cx='292' cy='107.63063' r='2.5'/%3e %3c/g%3e %3cg%3e %3cline class='cls-10' x1='28' y1='157' x2='292' y2='153.2973'/%3e %3ccircle class='cls-11' cx='28' cy='157' r='2.5'/%3e %3ccircle class='cls-11' cx='292' cy='153.2973' r='2.5'/%3e %3c/g%3e %3c/g%3e %3cg%3e %3ctext class='cls-14' transform='translate(2.03711 89.7973)'%3e46.9%3c/text%3e %3ctext class='cls-14' transform='translate(298.5 24.93695)'%3e57.4%3c/text%3e %3ctext class='cls-14' transform='translate(10.37695 104.23651)'%3e44%3c/text%3e %3ctext class='cls-14' transform='translate(298.5 34.93695)'%3e55.8%3c/text%3e %3ctext class='cls-14' transform='translate(2.03711 114.23651)'%3e43.5%3c/text%3e %3ctext class='cls-14' transform='translate(298.5 57.09009)'%3e52.2%3c/text%3e %3ctext class='cls-14' transform='translate(2.03711 127.69647)'%3e40.7%3c/text%3e %3ctext class='cls-14' transform='translate(298.5 138.54956)'%3e39%3c/text%3e %3ctext class='cls-14' transform='translate(10.37695 137.6922)'%3e39%3c/text%3e %3ctext class='cls-14' transform='translate(298.5 102.85431)'%3e43.4%3c/text%3e %3ctext class='cls-14' transform='translate(2.03711 147.6875)'%3e37.5%3c/text%3e %3ctext class='cls-14' transform='translate(298.5 122.82733)'%3e42.9%3c/text%3e %3ctext class='cls-14' transform='translate(298.5 112.82733)'%3e43.2%3c/text%3e %3ctext class='cls-14' transform='translate(2.03711 157.66913)'%3e35.2%3c/text%3e %3ctext class='cls-14' transform='translate(298.5 158.2973)'%3e35.8%3c/text%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$q = {\n  name: 'Slope chart',\n  id: 'rawgraphs.slopechart',\n  thumbnail: img$P,\n  icon: img$O,\n  categories: ['correlations'],\n  description: 'It allows the comparison of two continuous dimensions showing them as axes, and using a line to show the relationship.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/slopechart',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-slope-graph/'\n};\n\nconst dimensions$q = [{\n  id: 'source',\n  name: 'Source',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'target',\n  name: 'Target',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'name',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'string', 'date'],\n  required: false\n}];\n\nconst mapData$q = {\n  source: 'get',\n  target: 'get',\n  name: 'get',\n  color: 'get',\n  series: 'get'\n};\n\nfunction render$q(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    showLegend,\n    legendWidth,\n    // chart\n    nonOverlap,\n    showDots,\n    dotsDiameter,\n    // series\n    columnsNumber,\n    showSeriesLabels,\n    showGrid,\n    // color dimension option, defined in visualOptions.js\n    colorScale\n  } = visualOptions; // Margin convention\n\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const dotsRadius = dotsDiameter / 2; // due to the way rawgraphs core handles empty dimensions\n  // check if the value is an array that means \"no values\"\n  // @TODO: fix this in core\n\n  data.forEach(d => {\n    d.series = Array.isArray(d.series) ? '' : d.series;\n  }); // if series is exposed, recreate the nested structure\n\n  const nestedData = groups(data, d => d.series); // select the SVG element\n\n  const svg = select(svgNode); // add background\n\n  svg.append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // add the visualization layer\n\n  const vizLayer = svg.append('g').attr('id', 'viz'); // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(columnsNumber);\n  const griddingData = gridding$1(nestedData); // create the clip path\n\n  svg.append('clipPath').attr('id', 'serieClipPath').append('rect').attr('x', 0).attr('y', 0).attr('width', griddingData[0].width).attr('height', griddingData[0].height); // draw the grid if asked\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  } // create the grid\n\n\n  const series = vizLayer.selectAll('g').data(griddingData).join('g').attr('id', d => d[0]).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')'); // get info on series\n\n  griddingData[0].width - margin.right - margin.left;\n  griddingData[0].height - margin.top - margin.bottom; // scales\n\n  let columns = [mapping.source.value, mapping.target.value];\n  let xScale = scalePoint().domain(columns).range([margin.left, griddingData[0].width - margin.right]);\n  let yGlobalScale = scaleLinear().domain(extent(data.flatMap(d => [d.source, d.target]))).range([griddingData[0].height - margin.bottom, margin.top]);\n  /*\n      YOU CAN PUT HERE CODE THAT APPLIES TO ALL THE SERIES\n    */\n  // do stuff for each serie\n\n  series.each(function (d, seriesIndex) {\n    // make a local selection for each serie\n    const selection = select(this);\n    selection.attr('clip-path', 'url(#serieClipPath)'); // add axes ticks\n\n    selection.append('g').attr('text-anchor', 'middle').styles(styles.axisLabel).selectAll('g').data(columns).join('g').attr('transform', (d, i) => `translate(${xScale(d)},${margin.top})`).call(g => g.append('text').attr('y', -9).text(d => d)).call(g => g.append('line').attr('y1', 0).attr('y2', -6).attr('stroke', 'currentColor')); //add lines\n\n    let slopes = selection.append('g').selectAll('g').data(d[1]).join('g').attr('id', (d, i) => d.name);\n    slopes.append('line').attr('x1', d => xScale(mapping.source.value)).attr('x2', d => xScale(mapping.target.value)).attr('y1', d => yGlobalScale(d.source)).attr('y2', d => yGlobalScale(d.target)).attr('stroke', d => colorScale(d.color)).attr('fill', 'none');\n\n    if (showDots) {\n      slopes.append('circle').attr('cx', d => xScale(mapping.source.value)).attr('cy', d => yGlobalScale(d.source)).attr('r', dotsRadius).attr('fill', d => colorScale(d.color));\n      slopes.append('circle').attr('cx', d => xScale(mapping.target.value)).attr('cy', d => yGlobalScale(d.target)).attr('r', dotsRadius).attr('fill', d => colorScale(d.color));\n    } // create a single flat dataset containing all the labels\n\n\n    let labels = d[1].flatMap(d => {\n      // return the couple for source and target\n      return [{\n        label: mapping.name.value != undefined ? d.name + ' ' + d.source : d.source,\n        type: 'source',\n        originalX: xScale(mapping.source.value) - dotsRadius - 4,\n        x: xScale(mapping.source.value),\n        y: yGlobalScale(d.source) + parseInt(styles.labelSecondary.fontSize) / 2\n      }, {\n        label: mapping.name.value != undefined ? d.name + ' ' + d.target : d.target,\n        type: 'target',\n        originalX: xScale(mapping.target.value) + dotsRadius + 4,\n        x: xScale(mapping.target.value),\n        y: yGlobalScale(d.target) + parseInt(styles.labelSecondary.fontSize) / 2\n      }];\n    }); // use forces to avoid overlaps\n\n    forceSimulation(labels).force('y', forceY().y(d => d.y)).force('x', forceX().x(d => d.x).strength(1)).force('collision', forceCollide().radius(nonOverlap)).stop().tick(150); // precalculate positions\n    // add labels\n\n    selection.append('g').selectAll('text').data(labels).join('text').text(d => d.label).attr('transform', d => `translate(${d.originalX},${d.y})`).attr('text-anchor', d => d.type == 'source' ? 'end' : 'start').styles(styles.labelSecondary); // add series titles\n\n    if (showSeriesLabels) {\n      selection.append('text').attr('x', 5).attr('y', 5).text(d => d[0]).styles(styles.seriesLabel);\n    }\n  }); // show legends\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$q = {\n  // Artboard\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 40,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 40,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 40,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  // chart\n  nonOverlap: {\n    type: 'number',\n    label: 'Label repelling force',\n    default: 5,\n    group: 'chart'\n  },\n  showDots: {\n    type: 'boolean',\n    label: 'Show dots',\n    default: true,\n    group: 'chart'\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    default: 5,\n    group: 'chart',\n    disabled: {\n      showDots: false\n    }\n  },\n  // series\n  columnsNumber: {\n    type: 'number',\n    label: 'Grid columns',\n    default: 0,\n    group: 'series'\n  },\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show series titles',\n    default: true,\n    group: 'series'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show grid',\n    default: false,\n    group: 'series'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  }\n};\n\nvar slopechart = {\n  metadata: metadata$q,\n  dimensions: dimensions$q,\n  mapData: mapData$q,\n  render: render$q,\n  visualOptions: visualOptions$q,\n  styles: styles$1\n};\n\nvar img$Q = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M32%2c34c-4%2c0-4%2c3-8%2c3s-4-3-8-3-4-2-8-2v1c4%2c0%2c4%2c3%2c8%2c3s4%2c8%2c8%2c8%2c4-9%2c8-9%2c4%2c5%2c8%2c5%2c4-7%2c8-7V32c-4%2c0-4%2c4-8%2c4S36%2c34%2c32%2c34Z'/%3e %3cpath class='cls-1' d='M32%2c29c-4%2c0-4%2c1-8%2c1s-4-1-8-1H8v2c4%2c0%2c4%2c2%2c8%2c2s4%2c3%2c8%2c3%2c4-3%2c8-3%2c4%2c2%2c8%2c2%2c4-4%2c8-4V29c-4%2c0-4%2c2-8%2c2S36%2c29%2c32%2c29Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 7.5 48 7.5 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3cpath class='cls-2' d='M40%2c16c-4%2c0-4%2c5-8%2c5s-4-9-8-9-4%2c8-8%2c8-4%2c3-8%2c3v2c4%2c0%2c4-2%2c8-2s4-3%2c8-3%2c4%2c3%2c8%2c3h8c4%2c0%2c4%2c2%2c8%2c2V23C44%2c23%2c44%2c16%2c40%2c16Z'/%3e %3cpath class='cls-2' d='M32%2c24c-4%2c0-4-3-8-3s-4%2c3-8%2c3-4%2c2-8%2c2v2h8c4%2c0%2c4%2c1%2c8%2c1s4-1%2c8-1%2c4%2c2%2c8%2c2%2c4-2%2c8-2V26c-4%2c0-4-2-8-2Z'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$R = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2369bda9%3b %7d .cls-2 %7b fill: %239e0142%3b %7d .cls-3 %7b fill: %23f0704a%3b %7d .cls-4 %7b fill: %23fedd8d%3b %7d .cls-5 %7b fill: %23e0f3a1%3b %7d .cls-6 %7b fill: %235e4fa2%3b %7d .cls-7 %7b fill: none%3b stroke: black%3b %7d .cls-8 %7b isolation: isolate%3b font-size: 10px%3b font-family: Helvetica%3b %7d %3c/style%3e %3c/defs%3e %3cg id='viz'%3e %3cg%3e %3cg%3e %3cpath class='cls-1' d='M0%2c81.8476a44.8176%2c44.8176%2c0%2c0%2c1%2c6.952-.7647c2.3176-.0107%2c4.6357.3452%2c6.9519.3117s4.6306-.4563%2c6.952.2238%2c4.65%2c2.4633%2c6.971%2c2.8949%2c4.6354-.4883%2c6.952-1.735%2c4.6354-2.82%2c6.952-3.5848a22.7508%2c22.7508%2c0%2c0%2c1%2c6.9519-.7612%2c20.7412%2c20.7412%2c0%2c0%2c0%2c6.971-1.0168%2c33.4834%2c33.4834%2c0%2c0%2c0%2c6.952-4.0253c2.3165-1.5934%2c4.6354-3.2%2c6.952-4.9575s4.6306-3.6642%2c6.9519-4.4336%2c4.65-.401%2c6.971-.0848%2c4.6355.58%2c6.952.77a27.9579%2c27.9579%2c0%2c0%2c0%2c6.952-.0846c2.3165-.3892%2c4.6307-1.2825%2c6.9519-1.4822a18.96%2c18.96%2c0%2c0%2c1%2c6.9711.9819%2c17.8348%2c17.8348%2c0%2c0%2c1%2c6.9519%2c3.544c2.3166%2c1.9743%2c4.6355%2c5.0413%2c6.952%2c6.9918s4.6307%2c2.7849%2c6.952%2c4.4485a35.5993%2c35.5993%2c0%2c0%2c1%2c6.971%2c7.1607c2.3213%2c3.004%2c4.6354%2c6.5189%2c6.9519%2c9.5321a54.6629%2c54.6629%2c0%2c0%2c0%2c6.952%2c7.5834%2c18.8771%2c18.8771%2c0%2c0%2c0%2c6.952%2c4.3218c2.3213.6579%2c4.65.368%2c6.971%2c1.8429s4.6354%2c4.7143%2c6.952%2c7.5659%2c4.6354%2c5.3154%2c6.9519%2c6.6151a11.5921%2c11.5921%2c0%2c0%2c0%2c6.952%2c1.2444%2c20.2873%2c20.2873%2c0%2c0%2c0%2c6.971-1.7839%2c46.1506%2c46.1506%2c0%2c0%2c0%2c6.952-4.3566c2.3165-1.6472%2c4.6354-3.3075%2c6.9519-3.46s4.6307%2c1.2019%2c6.952%2c1.41%2c4.65-.7319%2c6.971-1.7575%2c4.6355-2.1372%2c6.952-3.4274a25.8593%2c25.8593%2c0%2c0%2c0%2c6.952-5.2888c2.3165-2.53%2c4.6306-6.1212%2c6.9519-8.0687s4.65-2.251%2c6.971-3.2405%2c4.6355-2.6649%2c6.952-3.303%2c4.6354-.2392%2c6.952-.3373%2c4.6306-.6931%2c6.9519-.8874%2c4.65.012%2c6.9711-.2727%2c4.6354-1.06%2c6.9519-1.4624a18.9441%2c18.9441%2c0%2c0%2c1%2c6.952.0263%2c30.6138%2c30.6138%2c0%2c0%2c1%2c6.952%2c2.4854c2.3212%2c1.09%2c4.65%2c2.33%2c6.971%2c3.2826s4.6358%2c1.618%2c6.9519%2c2.5319%2c4.6341%2c2.0761%2c6.952%2c3.2384h0c-2.3179-1.1623-4.6358-2.3246-6.952-3.2384s-4.6306-1.5792-6.9519-2.5319-4.65-2.1928-6.971-3.2826a30.6138%2c30.6138%2c0%2c0%2c0-6.952-2.4854%2c18.9441%2c18.9441%2c0%2c0%2c0-6.952-.0263c-2.3165.4019-4.6306%2c1.1777-6.9519%2c1.4624s-4.65.0783-6.9711.2727-4.6354.7894-6.9519.8874-4.6355-.3009-6.952.3373-4.6307%2c2.3133-6.952%2c3.303-4.65%2c1.2938-6.971%2c3.2469-4.6354%2c5.5552-6.9519%2c8.0843a26.31%2c26.31%2c0%2c0%2c1-6.952%2c5.2947q-3.4747%2c1.9643-6.952%2c3.5017a16.3514%2c16.3514%2c0%2c0%2c1-6.971%2c1.8464c-2.3213-.08-4.6354-1.136-6.952-.7056s-4.6354%2c2.3474-6.9519%2c4.3418-4.6307%2c4.0664-6.952%2c5.7059-4.65%2c2.8467-6.971%2c4.2365-4.6354%2c2.9623-6.952%2c3.3228-4.6354-.4909-6.9519-2.609-4.6307-5.5027-6.952-5.9987-4.65%2c1.8966-6.971%2c2.7741-4.6355.24-6.952.73-4.6354%2c2.1065-6.952.4484-4.6306-6.5912-6.9519-9.0665-4.65-2.4929-6.971-3.9662-4.6355-4.4024-6.952-5.1788-4.6354.6-6.952.1356-4.6306-2.7692-6.9519-3.5277-4.65.0292-6.9711-.1482a14.2982%2c14.2982%2c0%2c0%2c1-6.9519-2.9648c-2.3165-1.6447-4.6355-3.7914-6.952-5.0549a11.3631%2c11.3631%2c0%2c0%2c0-6.952-1.37c-2.3212.2738-4.65%2c1.2014-6.971.8959s-4.6354-1.8441-6.9519-2.821-4.6355-1.3921-6.952-.3153-4.6307%2c3.6454-6.952%2c4.6576-4.65.4677-6.971.7366-4.6354%2c1.3512-6.9519%2c4.5259-4.6355%2c8.4422-6.952%2c9.7021-4.6307-1.4876-6.952-4.2622a50.3391%2c50.3391%2c0%2c0%2c0-6.971-7.3615%2c13.6136%2c13.6136%2c0%2c0%2c0-6.952-2.824%2c33.4483%2c33.4483%2c0%2c0%2c0-6.9519.17c-2.3177.2129-4.6348.4112-6.952.6095Z'/%3e %3cpath class='cls-2' d='M0%2c81.8476a44.8176%2c44.8176%2c0%2c0%2c1%2c6.952-.7647c2.3176-.0107%2c4.6357.3452%2c6.9519.3117s4.6306-.4563%2c6.952.2238%2c4.65%2c2.4633%2c6.971%2c2.8949%2c4.6354-.4882%2c6.952-1.735%2c4.6354-2.82%2c6.952-3.5848a22.8161%2c22.8161%2c0%2c0%2c1%2c6.9519-.7612%2c20.9421%2c20.9421%2c0%2c0%2c0%2c6.971-1.0168%2c32.2254%2c32.2254%2c0%2c0%2c0%2c6.952-4.0253c2.3165-1.6164%2c4.6354-3.2865%2c6.952-5.2206s4.6306-4.1324%2c6.9519-5.685%2c4.65-2.46%2c6.971-4.0844a40.3827%2c40.3827%2c0%2c0%2c0%2c6.952-6.6433c2.3165-2.6761%2c4.6355-5.686%2c6.952-8.5265a39.4057%2c39.4057%2c0%2c0%2c1%2c6.9519-7.15c2.3213-1.6385%2c4.65-2.2447%2c6.9711-3.77s4.6354-3.97%2c6.9519-4.9651%2c4.6355-.54%2c6.952-1.6166%2c4.6307-3.6842%2c6.952-4.9667%2c4.65-1.24%2c6.971-3.6425%2c4.6354-7.2514%2c6.9519-8.9231%2c4.6355-.1666%2c6.952.3245%2c4.6307-.0318%2c6.952.9206%2c4.65%2c3.38%2c6.971%2c3.3915%2c4.6354-2.3939%2c6.952-4.4215%2c4.6354-3.6776%2c6.9519-3.9241%2c4.6307.9106%2c6.952%2c2.304%2c4.65%2c3.023%2c6.971%2c4.654%2c4.6354%2c3.2631%2c6.952%2c5.2154%2c4.6354%2c4.2245%2c6.9519%2c5.178%2c4.6307.5882%2c6.952%2c2.36%2c4.65%2c5.6814%2c6.971%2c8.584%2c4.6355%2c4.7987%2c6.952%2c7.8714%2c4.6354%2c7.3222%2c6.952%2c10.7529a40.4025%2c40.4025%2c0%2c0%2c0%2c6.9519%2c8.0521%2c47.3735%2c47.3735%2c0%2c0%2c0%2c6.971%2c4.812%2c48.715%2c48.715%2c0%2c0%2c0%2c6.952%2c3.6914c2.3165.9122%2c4.6354%2c1.3532%2c6.952%2c2.3406s4.6306%2c2.5214%2c6.9519%2c3.6227a29.2081%2c29.2081%2c0%2c0%2c0%2c6.9711%2c2.2273c2.3213.4573%2c4.6354.7034%2c6.9519%2c1.1018a22.35%2c22.35%2c0%2c0%2c1%2c6.952%2c2.1826c2.3165%2c1.2333%2c4.6307%2c3.1491%2c6.952%2c4.6s4.65%2c2.4382%2c6.971%2c3.8837%2c4.6358%2c3.3494%2c6.9519%2c4.8742A62.973%2c62.973%2c0%2c0%2c0%2c320%2c96.6121v3.6651c-2.3179-1.1623-4.6358-2.3246-6.952-3.2384s-4.6306-1.5792-6.9519-2.5319-4.65-2.1928-6.971-3.2826a30.6138%2c30.6138%2c0%2c0%2c0-6.952-2.4854%2c18.9441%2c18.9441%2c0%2c0%2c0-6.952-.0263c-2.3165.4019-4.6306%2c1.1777-6.9519%2c1.4624s-4.65.0783-6.9711.2727-4.6354.7894-6.9519.8874-4.6355-.3009-6.952.3373-4.6307%2c2.3135-6.952%2c3.303-4.65%2c1.2931-6.971%2c3.2405-4.6354%2c5.5387-6.9519%2c8.0687a25.8593%2c25.8593%2c0%2c0%2c1-6.952%2c5.2888c-2.3165%2c1.29-4.6307%2c2.4018-6.952%2c3.4274s-4.65%2c1.9651-6.971%2c1.7575-4.6354-1.5623-6.952-1.41-4.6354%2c1.8132-6.9519%2c3.46a46.1506%2c46.1506%2c0%2c0%2c1-6.952%2c4.3566%2c20.2873%2c20.2873%2c0%2c0%2c1-6.971%2c1.7839%2c11.5921%2c11.5921%2c0%2c0%2c1-6.952-1.2444c-2.3165-1.3-4.6354-3.7635-6.9519-6.6151s-4.6307-6.0911-6.952-7.5659-4.65-1.185-6.971-1.8429a18.8771%2c18.8771%2c0%2c0%2c1-6.952-4.3218%2c54.6629%2c54.6629%2c0%2c0%2c1-6.952-7.5834c-2.3165-3.0132-4.6306-6.5281-6.9519-9.5321a35.5993%2c35.5993%2c0%2c0%2c0-6.971-7.1607c-2.3213-1.6636-4.6355-2.4979-6.952-4.4485s-4.6354-5.0175-6.952-6.9918a17.8348%2c17.8348%2c0%2c0%2c0-6.9519-3.544%2c18.96%2c18.96%2c0%2c0%2c0-6.9711-.9819c-2.3212.2-4.6354%2c1.093-6.9519%2c1.4822a27.9579%2c27.9579%2c0%2c0%2c1-6.952.0846c-2.3165-.1895-4.6307-.4535-6.952-.77s-4.65-.6846-6.971.0848-4.6354%2c2.6765-6.9519%2c4.4336-4.6355%2c3.3641-6.952%2c4.9575a33.4834%2c33.4834%2c0%2c0%2c1-6.952%2c4.0253%2c20.7412%2c20.7412%2c0%2c0%2c1-6.971%2c1.0168%2c22.7508%2c22.7508%2c0%2c0%2c0-6.9519.7612c-2.3166.7648-4.6355%2c2.3382-6.952%2c3.5848s-4.6307%2c2.1666-6.952%2c1.735-4.65-2.2147-6.971-2.8949-4.6357-.2573-6.952-.2238S9.27%2c81.0722%2c6.952%2c81.0829A44.8176%2c44.8176%2c0%2c0%2c0%2c0%2c81.8476Z'/%3e %3cpath class='cls-3' d='M0%2c81.8476a44.8176%2c44.8176%2c0%2c0%2c1%2c6.952-.7647c2.3176-.0107%2c4.6357.3452%2c6.9519.3117s4.6306-.4563%2c6.952.2238%2c4.65%2c2.4633%2c6.971%2c2.8949%2c4.6354-.4882%2c6.952-1.735%2c4.6354-2.82%2c6.952-3.5848a22.8161%2c22.8161%2c0%2c0%2c1%2c6.9519-.7612%2c20.9421%2c20.9421%2c0%2c0%2c0%2c6.971-1.0168%2c32.2254%2c32.2254%2c0%2c0%2c0%2c6.952-4.0253c2.3165-1.6164%2c4.6354-3.2865%2c6.952-5.2206s4.6306-4.1324%2c6.9519-5.685%2c4.65-2.46%2c6.971-4.0844a40.3827%2c40.3827%2c0%2c0%2c0%2c6.952-6.6433c2.3165-2.6761%2c4.6355-5.686%2c6.952-8.5265a39.4057%2c39.4057%2c0%2c0%2c1%2c6.9519-7.15c2.3213-1.6385%2c4.65-2.2447%2c6.9711-3.77s4.6354-3.97%2c6.9519-4.9651%2c4.6355-.54%2c6.952-1.6166%2c4.6307-3.6842%2c6.952-4.9667%2c4.65-1.24%2c6.971-3.6425%2c4.6354-7.2514%2c6.9519-8.9231%2c4.6355-.1666%2c6.952.3245%2c4.6307-.0318%2c6.952.9206%2c4.65%2c3.38%2c6.971%2c3.3915%2c4.6354-2.3939%2c6.952-4.4215%2c4.6354-3.6774%2c6.9519-3.9241%2c4.6307.91%2c6.952%2c2.304%2c4.65%2c3.0266%2c6.971%2c4.654%2c4.6354%2c3.25%2c6.952%2c5.2154%2c4.6354%2c4.2734%2c6.9519%2c5.178%2c4.6307.4059%2c6.952.88%2c4.65%2c1.9223%2c6.971%2c2.8545%2c4.6355%2c1.3489%2c6.952%2c2.6133a34.4756%2c34.4756%2c0%2c0%2c1%2c6.952%2c5.64c2.3165%2c2.2638%2c4.6306%2c4.6792%2c6.9519%2c6.629a65.3792%2c65.3792%2c0%2c0%2c0%2c6.971%2c4.9281%2c32.6228%2c32.6228%2c0%2c0%2c0%2c6.952%2c3.7628c2.3165.7637%2c4.6354.7865%2c6.952%2c1.5051a53.2377%2c53.2377%2c0%2c0%2c1%2c6.9519%2c3.2619c2.3213%2c1.1291%2c4.65%2c1.9728%2c6.9711%2c3.1434s4.6354%2c2.6682%2c6.9519%2c3.7693%2c4.6354%2c1.806%2c6.952%2c3.76%2c4.6307%2c5.1578%2c6.952%2c7.7314%2c4.65%2c4.517%2c6.971%2c6.8892%2c4.6358%2c5.1729%2c6.9519%2c7.2968A44.6159%2c44.6159%2c0%2c0%2c0%2c320%2c91.5228v5.0893a62.973%2c62.973%2c0%2c0%2c1-6.952-3.8161c-2.3161-1.5248-4.6306-3.4288-6.9519-4.8742s-4.65-2.4323-6.971-3.8837-4.6355-3.3671-6.952-4.6a22.35%2c22.35%2c0%2c0%2c0-6.952-2.1826c-2.3165-.3984-4.6306-.6445-6.9519-1.1018a29.2081%2c29.2081%2c0%2c0%2c1-6.9711-2.2273c-2.3213-1.1013-4.6354-2.6352-6.9519-3.6227s-4.6355-1.4284-6.952-2.3406a48.715%2c48.715%2c0%2c0%2c1-6.952-3.6914%2c47.3735%2c47.3735%2c0%2c0%2c1-6.971-4.812%2c40.4025%2c40.4025%2c0%2c0%2c1-6.9519-8.0521c-2.3166-3.4307-4.6355-7.68-6.952-10.7529s-4.6307-4.9687-6.952-7.8714-4.65-6.812-6.971-8.584-4.6354-1.4067-6.952-2.36-4.6354-3.2258-6.9519-5.178-4.6307-3.5845-6.952-5.2154-4.65-3.2606-6.971-4.654-4.6354-2.55-6.952-2.304-4.6354%2c1.8965-6.9519%2c3.9241-4.6307%2c4.4328-6.952%2c4.4215-4.65-2.4391-6.971-3.3915-4.6355-.4295-6.952-.9206-4.6354-1.9962-6.952-.3245-4.6306%2c6.52-6.9519%2c8.9231-4.65%2c2.36-6.971%2c3.6425-4.6355%2c3.89-6.952%2c4.9667-4.6354.6217-6.952%2c1.6166-4.6306%2c3.44-6.9519%2c4.9651-4.65%2c2.1316-6.9711%2c3.77a39.4057%2c39.4057%2c0%2c0%2c0-6.9519%2c7.15c-2.3165%2c2.84-4.6355%2c5.85-6.952%2c8.5265A40.3827%2c40.3827%2c0%2c0%2c1%2c83.4807%2c58.4c-2.3212%2c1.6247-4.65%2c2.5318-6.971%2c4.0844s-4.6354%2c3.7509-6.9519%2c5.685-4.6355%2c3.6042-6.952%2c5.2206a32.2254%2c32.2254%2c0%2c0%2c1-6.952%2c4.0253%2c20.9421%2c20.9421%2c0%2c0%2c1-6.971%2c1.0168%2c22.8161%2c22.8161%2c0%2c0%2c0-6.9519.7612c-2.3166.7643-4.6355%2c2.338-6.952%2c3.5848s-4.6307%2c2.1667-6.952%2c1.735-4.65-2.2147-6.971-2.8949-4.6357-.2573-6.952-.2238S9.27%2c81.0722%2c6.952%2c81.0829A44.8176%2c44.8176%2c0%2c0%2c0%2c0%2c81.8476Z'/%3e %3cpath class='cls-4' d='M0%2c81.8476a44.8176%2c44.8176%2c0%2c0%2c1%2c6.952-.7647c2.3176-.0107%2c4.6357.3452%2c6.9519.3117s4.6306-.4563%2c6.952.2238%2c4.65%2c2.4633%2c6.971%2c2.8949%2c4.6354-.4882%2c6.952-1.735%2c4.6354-2.82%2c6.952-3.5848a22.8161%2c22.8161%2c0%2c0%2c1%2c6.9519-.7612%2c20.9421%2c20.9421%2c0%2c0%2c0%2c6.971-1.0168%2c32.2213%2c32.2213%2c0%2c0%2c0%2c6.952-4.0253c2.3165-1.6165%2c4.6354-3.2868%2c6.952-5.2206s4.6306-4.131%2c6.9519-5.685S81.16%2c60.02%2c83.4807%2c58.4a39.5227%2c39.5227%2c0%2c0%2c0%2c6.952-6.6433c2.3165-2.6944%2c4.6355-5.7543%2c6.952-8.5265a53.8073%2c53.8073%2c0%2c0%2c1%2c6.9519-7.15c2.3213-1.8932%2c4.65-3.1952%2c6.9711-5.1878s4.6354-4.6758%2c6.9519-5.5555%2c4.6355.0441%2c6.952-.9293%2c4.6307-3.8441%2c6.952-5.3548%2c4.65-1.6616%2c6.971-4.1822%2c4.6354-7.4108%2c6.9519-9.05%2c4.6355-.0269%2c6.952.4979%2c4.6307-.0377%2c6.952.83%2c4.65%2c3.1665%2c6.971%2c2.61%2c4.6354-3.97%2c6.952-6.0948%2c4.6354-2.9635%2c6.9519-2.621%2c4.6307%2c1.8657%2c6.952%2c3.2546%2c4.65%2c2.6434%2c6.971%2c4.2645%2c4.6354%2c3.609%2c6.952%2c5.5846%2c4.6354%2c3.939%2c6.9519%2c4.3151%2c4.6307-.835%2c6.952-.6915%2c4.65%2c1.6417%2c6.971%2c3.0112%2c4.6355%2c2.61%2c6.952%2c3.9644a25.5894%2c25.5894%2c0%2c0%2c1%2c6.952%2c5.4785c2.3165%2c2.6573%2c4.6306%2c6.5045%2c6.9519%2c8.5968s4.65%2c2.43%2c6.971%2c3.59%2c4.6355%2c3.1446%2c6.952%2c4.1258%2c4.6354.96%2c6.952%2c1.7414%2c4.6306%2c2.3671%2c6.9519%2c3.5718%2c4.65%2c2.0289%2c6.9711%2c3.2314%2c4.6354%2c2.7833%2c6.9519%2c3.9167%2c4.6354%2c1.8193%2c6.952%2c3.7731%2c4.6307%2c5.1753%2c6.952%2c7.7854%2c4.65%2c4.6088%2c6.971%2c6.9382%2c4.6358%2c4.99%2c6.9519%2c7.0781A53.9479%2c53.9479%2c0%2c0%2c0%2c320%2c89.6959v1.8269a44.6159%2c44.6159%2c0%2c0%2c1-6.952-5.0182c-2.3161-2.1239-4.6306-4.9247-6.9519-7.2968s-4.65-4.3156-6.971-6.8892-4.6355-5.7772-6.952-7.7314-4.6354-2.6591-6.952-3.76-4.6306-2.5986-6.9519-3.7693-4.65-2.0143-6.9711-3.1434a53.2377%2c53.2377%2c0%2c0%2c0-6.9519-3.2619c-2.3166-.7186-4.6355-.7414-6.952-1.5051a32.6228%2c32.6228%2c0%2c0%2c1-6.952-3.7628%2c65.3792%2c65.3792%2c0%2c0%2c1-6.971-4.9281c-2.3213-1.95-4.6354-4.3652-6.9519-6.629a34.4756%2c34.4756%2c0%2c0%2c0-6.952-5.64c-2.3165-1.2644-4.6307-1.6811-6.952-2.6133s-4.65-2.38-6.971-2.8545-4.6354.0243-6.952-.88-4.6354-3.2127-6.9519-5.178-4.6307-3.588-6.952-5.2154-4.65-3.26-6.971-4.654-4.6354-2.5507-6.952-2.304-4.6354%2c1.8966-6.9519%2c3.9241-4.6307%2c4.4327-6.952%2c4.4215-4.65-2.4391-6.971-3.3915-4.6355-.4295-6.952-.9206-4.6354-1.9962-6.952-.3245-4.6306%2c6.52-6.9519%2c8.9231-4.65%2c2.36-6.971%2c3.6425-4.6355%2c3.89-6.952%2c4.9667-4.6354.6217-6.952%2c1.6166-4.6306%2c3.44-6.9519%2c4.9651-4.65%2c2.1316-6.9711%2c3.77a39.4057%2c39.4057%2c0%2c0%2c0-6.9519%2c7.15c-2.3165%2c2.84-4.6355%2c5.85-6.952%2c8.5265A40.3827%2c40.3827%2c0%2c0%2c1%2c83.4807%2c58.4c-2.3212%2c1.6247-4.65%2c2.5318-6.971%2c4.0844s-4.6354%2c3.7509-6.9519%2c5.685-4.6355%2c3.6042-6.952%2c5.2206a32.2254%2c32.2254%2c0%2c0%2c1-6.952%2c4.0253%2c20.9421%2c20.9421%2c0%2c0%2c1-6.971%2c1.0168%2c22.8161%2c22.8161%2c0%2c0%2c0-6.9519.7612c-2.3166.7643-4.6355%2c2.338-6.952%2c3.5848s-4.6307%2c2.1667-6.952%2c1.735-4.65-2.2147-6.971-2.8949-4.6357-.2573-6.952-.2238S9.27%2c81.0722%2c6.952%2c81.0829A44.8176%2c44.8176%2c0%2c0%2c0%2c0%2c81.8476Z'/%3e %3cpath class='cls-5' d='M0%2c81.8476a44.8176%2c44.8176%2c0%2c0%2c1%2c6.952-.7647c2.3176-.0107%2c4.6357.3452%2c6.9519.3117s4.6306-.4563%2c6.952.2238%2c4.65%2c2.4633%2c6.971%2c2.8949%2c4.6354-.4882%2c6.952-1.735%2c4.6354-2.82%2c6.952-3.5848a22.8161%2c22.8161%2c0%2c0%2c1%2c6.9519-.7612%2c20.9421%2c20.9421%2c0%2c0%2c0%2c6.971-1.0168%2c32.2213%2c32.2213%2c0%2c0%2c0%2c6.952-4.0253c2.3165-1.6165%2c4.6354-3.2868%2c6.952-5.2206s4.6306-4.131%2c6.9519-5.685S81.16%2c60.02%2c83.4807%2c58.4a39.5227%2c39.5227%2c0%2c0%2c0%2c6.952-6.6433c2.3165-2.6944%2c4.6355-5.7543%2c6.952-8.5265a53.8073%2c53.8073%2c0%2c0%2c1%2c6.9519-7.15c2.3213-1.8932%2c4.65-3.1952%2c6.9711-5.1878s4.6354-4.6758%2c6.9519-5.5555%2c4.6355.0441%2c6.952-.9293%2c4.6307-3.8441%2c6.952-5.3548%2c4.65-1.6616%2c6.971-4.1822%2c4.6354-7.4108%2c6.9519-9.05%2c4.6355-.0269%2c6.952.4979%2c4.6307-.0376%2c6.952.83%2c4.65%2c3.1665%2c6.971%2c2.61%2c4.6354-3.9694%2c6.952-6.0948S178.5489.7%2c180.8654%2c1.043s4.6307%2c1.8667%2c6.952%2c3.2546%2c4.65%2c2.64%2c6.971%2c4.2645%2c4.6354%2c3.6233%2c6.952%2c5.5846%2c4.6354%2c3.8859%2c6.9519%2c4.3151%2c4.6307-.6368%2c6.952-.7472a16.0385%2c16.0385%2c0%2c0%2c1%2c6.971%2c1.744%2c77.2661%2c77.2661%2c0%2c0%2c1%2c6.952%2c3.4814%2c25.15%2c25.15%2c0%2c0%2c1%2c6.952%2c5.299c2.3165%2c2.5762%2c4.6306%2c6.3047%2c6.9519%2c8.3083s4.65%2c2.2821%2c6.971%2c3.296%2c4.6355%2c2.7629%2c6.952%2c3.4694%2c4.6354.37%2c6.952.54%2c4.6306.8455%2c6.9519%2c1.1456%2c4.65.2243%2c6.9711.5723%2c4.6354%2c1.12%2c6.9519%2c1.6693a18.6794%2c18.6794%2c0%2c0%2c0%2c6.952.5489%2c26.0028%2c26.0028%2c0%2c0%2c0%2c6.952-2.3781c2.3212-1.0648%2c4.65-2.2095%2c6.971-3.1173s4.6358-1.5788%2c6.9519-2.4088%2c4.6341-1.8192%2c6.952-2.8084v52.62a53.9479%2c53.9479%2c0%2c0%2c1-6.952-5.1225c-2.3161-2.0886-4.6306-4.7487-6.9519-7.0781s-4.65-4.3281-6.971-6.9382-4.6355-5.8317-6.952-7.7854-4.6354-2.64-6.952-3.7731-4.6306-2.7142-6.9519-3.9167-4.65-2.0267-6.9711-3.2314-4.6354-2.79-6.9519-3.5718-4.6355-.76-6.952-1.7414-4.6307-2.9652-6.952-4.1258-4.65-1.498-6.971-3.59-4.6354-5.9395-6.9519-8.5968a25.5894%2c25.5894%2c0%2c0%2c0-6.952-5.4785c-2.3165-1.3541-4.6307-2.5949-6.952-3.9644s-4.65-2.8677-6.971-3.0112-4.6354%2c1.0676-6.952.6915-4.6354-2.34-6.9519-4.3151-4.6307-3.9634-6.952-5.5846-4.65-2.8757-6.971-4.2645-4.6354-2.9121-6.952-3.2546-4.6354.4957-6.9519%2c2.621-4.6307%2c5.5378-6.952%2c6.0948-4.65-1.7416-6.971-2.61-4.6355-.3055-6.952-.83-4.6354-2.1369-6.952-.4979-4.6306%2c6.5294-6.9519%2c9.05-4.65%2c2.6714-6.971%2c4.1822-4.6355%2c4.3814-6.952%2c5.3548-4.6354.05-6.952.9293-4.6306%2c3.5629-6.9519%2c5.5555-4.65%2c3.2946-6.9711%2c5.1878a53.8073%2c53.8073%2c0%2c0%2c0-6.9519%2c7.15c-2.3165%2c2.7722-4.6355%2c5.8321-6.952%2c8.5265A39.5227%2c39.5227%2c0%2c0%2c1%2c83.4807%2c58.4c-2.3212%2c1.62-4.65%2c2.53-6.971%2c4.0844s-4.6354%2c3.7512-6.9519%2c5.685-4.6355%2c3.6041-6.952%2c5.2206a32.2213%2c32.2213%2c0%2c0%2c1-6.952%2c4.0253%2c20.9421%2c20.9421%2c0%2c0%2c1-6.971%2c1.0168%2c22.8161%2c22.8161%2c0%2c0%2c0-6.9519.7612c-2.3166.7643-4.6355%2c2.338-6.952%2c3.5848s-4.6307%2c2.1667-6.952%2c1.735-4.65-2.2147-6.971-2.8949-4.6357-.2573-6.952-.2238S9.27%2c81.0722%2c6.952%2c81.0829A44.8176%2c44.8176%2c0%2c0%2c0%2c0%2c81.8476Z'/%3e %3cpath class='cls-6' d='M0%2c32.5809c2.3172.1983%2c4.6343.3966%2c6.952.6095a33.4483%2c33.4483%2c0%2c0%2c0%2c6.9519.17%2c13.6136%2c13.6136%2c0%2c0%2c0%2c6.952-2.824%2c50.334%2c50.334%2c0%2c0%2c0%2c6.971-7.3615c2.3213-2.7746%2c4.6354-5.5221%2c6.952-4.2622s4.6354%2c6.5273%2c6.952%2c9.7021%2c4.6306%2c4.257%2c6.9519%2c4.5259%2c4.65-.2755%2c6.971.7366%2c4.6355%2c3.5809%2c6.952%2c4.6576%2c4.6354.6616%2c6.952-.3153%2c4.6306-2.5155%2c6.9519-2.821%2c4.65.6221%2c6.971.8959a11.3631%2c11.3631%2c0%2c0%2c0%2c6.952-1.37c2.3165-1.2634%2c4.6355-3.41%2c6.952-5.0548a14.2984%2c14.2984%2c0%2c0%2c1%2c6.9519-2.9649c2.3213-.1774%2c4.65.61%2c6.9711-.1482s4.6354-3.0634%2c6.9519-3.5277%2c4.6355.912%2c6.952.1356%2c4.6307-3.7055%2c6.952-5.1788%2c4.65-1.4908%2c6.971-3.9661%2c4.6354-7.4084%2c6.9519-9.0666%2c4.6355-.0413%2c6.952.4484%2c4.6307-.148%2c6.952.7295%2c4.65%2c3.27%2c6.971%2c2.7741%2c4.6354-3.8807%2c6.952-5.9987%2c4.6354-2.9695%2c6.9519-2.609%2c4.6307%2c1.933%2c6.952%2c3.3228%2c4.65%2c2.5969%2c6.971%2c4.2365%2c4.6354%2c3.7114%2c6.952%2c5.7059%2c4.6354%2c3.9115%2c6.9519%2c4.3419%2c4.6307-.6259%2c6.952-.7057a16.3514%2c16.3514%2c0%2c0%2c1%2c6.971%2c1.8464q3.482%2c1.5444%2c6.952%2c3.5017a26.3126%2c26.3126%2c0%2c0%2c1%2c6.952%2c5.2947c2.3165%2c2.5291%2c4.6306%2c6.1312%2c6.9519%2c8.0843s4.65%2c2.2572%2c6.971%2c3.2469%2c4.6355%2c2.6649%2c6.952%2c3.3031%2c4.6354.2391%2c6.952.3372%2c4.6306.6931%2c6.9519.8874%2c4.65-.012%2c6.9711.2727%2c4.6354%2c1.0606%2c6.9519%2c1.4624a18.9441%2c18.9441%2c0%2c0%2c0%2c6.952-.0263%2c30.6138%2c30.6138%2c0%2c0%2c0%2c6.952-2.4854c2.3212-1.09%2c4.65-2.33%2c6.971-3.2826s4.6358-1.618%2c6.9519-2.5319%2c4.6341-2.0761%2c6.952-3.2384V37.076c-2.3179.9892-4.6358%2c1.9783-6.952%2c2.8084s-4.6306%2c1.5009-6.9519%2c2.4088-4.65%2c2.0525-6.971%2c3.1173a26.0028%2c26.0028%2c0%2c0%2c1-6.952%2c2.3781%2c18.6794%2c18.6794%2c0%2c0%2c1-6.952-.5489c-2.3165-.55-4.6306-1.3213-6.9519-1.6693s-4.65-.2723-6.9711-.5723-4.6354-.9759-6.9519-1.1456-4.6355.1666-6.952-.54-4.6307-2.4556-6.952-3.4694-4.65-1.2925-6.971-3.296-4.6354-5.7321-6.9519-8.3083a25.15%2c25.15%2c0%2c0%2c0-6.952-5.299%2c77.2661%2c77.2661%2c0%2c0%2c0-6.952-3.4814%2c16.0385%2c16.0385%2c0%2c0%2c0-6.971-1.744c-2.3213.11-4.6354%2c1.1764-6.952.7472s-4.6354-2.3537-6.9519-4.3151-4.6307-3.96-6.952-5.5846-4.65-2.8767-6.971-4.2645-4.6354-2.9118-6.952-3.2546-4.6354.4956-6.9519%2c2.621-4.6307%2c5.5378-6.952%2c6.0948-4.65-1.7416-6.971-2.61-4.6355-.3055-6.952-.83-4.6354-2.1369-6.952-.4979-4.6306%2c6.5294-6.9519%2c9.05-4.65%2c2.6714-6.971%2c4.1822-4.6355%2c4.3814-6.952%2c5.3548-4.6354.05-6.952.9293-4.6306%2c3.5629-6.9519%2c5.5555-4.65%2c3.2946-6.9711%2c5.1878a53.8073%2c53.8073%2c0%2c0%2c0-6.9519%2c7.15c-2.3165%2c2.7722-4.6355%2c5.8321-6.952%2c8.5265A39.5227%2c39.5227%2c0%2c0%2c1%2c83.4807%2c58.4c-2.3212%2c1.62-4.65%2c2.53-6.971%2c4.0844s-4.6354%2c3.7512-6.9519%2c5.685-4.6355%2c3.6041-6.952%2c5.2206a32.2213%2c32.2213%2c0%2c0%2c1-6.952%2c4.0253%2c20.9421%2c20.9421%2c0%2c0%2c1-6.971%2c1.0168%2c22.8161%2c22.8161%2c0%2c0%2c0-6.9519.7612c-2.3166.7643-4.6355%2c2.338-6.952%2c3.5848s-4.6307%2c2.1667-6.952%2c1.735-4.65-2.2147-6.971-2.8949-4.6357-.2573-6.952-.2238S9.27%2c81.0722%2c6.952%2c81.0829A44.8176%2c44.8176%2c0%2c0%2c0%2c0%2c81.8476Z'/%3e %3c/g%3e %3cg id='xAxis'%3e %3cpath class='cls-7' d='M.5%2c139.174h320'/%3e %3cg%3e %3cline class='cls-7' x1='14.4039' y1='138.674' x2='14.4039' y2='144.674'/%3e %3ctext class='cls-8' transform='translate(3.281 154.774)'%3e1975%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='49.1828' y1='138.674' x2='49.1828' y2='144.674'/%3e %3ctext class='cls-8' transform='translate(38.0598 154.774)'%3e1980%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='83.9807' y1='138.674' x2='83.9807' y2='144.674'/%3e %3ctext class='cls-8' transform='translate(72.8577 154.774)'%3e1985%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='118.7596' y1='138.674' x2='118.7596' y2='144.674'/%3e %3ctext class='cls-8' transform='translate(107.6365 154.774)'%3e1990%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='153.5385' y1='138.674' x2='153.5385' y2='144.674'/%3e %3ctext class='cls-8' transform='translate(142.4155 154.774)'%3e1995%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='188.3174' y1='138.674' x2='188.3174' y2='144.674'/%3e %3ctext class='cls-8' transform='translate(177.1943 154.774)'%3e2000%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='223.1153' y1='138.674' x2='223.1153' y2='144.674'/%3e %3ctext class='cls-8' transform='translate(211.9922 154.774)'%3e2005%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='257.8942' y1='138.674' x2='257.8942' y2='144.674'/%3e %3ctext class='cls-8' transform='translate(246.7712 154.774)'%3e2010%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-7' x1='292.6731' y1='138.674' x2='292.6731' y2='144.674'/%3e %3ctext class='cls-8' transform='translate(281.55 154.774)'%3e2015%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$r = {\n  name: 'Streamgraph (area chart)',\n  id: 'rawgraphs.streamgraph',\n  thumbnail: img$R,\n  icon: img$Q,\n  categories: ['time series', 'correlations', 'proportions'],\n  description: 'It allows the comparison of multiple categories over a continuous dimension.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/streamgraph',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-streamgraph/'\n};\n\nconst dimensions$r = [{\n  id: 'x',\n  name: 'X Axis',\n  operation: 'get',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'size',\n  name: 'Size',\n  operation: 'get',\n  validTypes: ['number'],\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'streams',\n  name: 'Streams',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}, {\n  id: 'series',\n  name: 'Series',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  operation: 'get'\n}];\n\nconst mapData$r = function (data, mapping, dataTypes, dimensions) {\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  let results = [];\n  rollups(data, v => rollups(v, vv => {\n    const item = {\n      x: vv[0][mapping.x.value],\n      //get the first one since it's grouped\n      size: sizeAggregator(vv.map(d => d[mapping.size.value])),\n      // aggregate\n      series: vv[0][mapping.series.value],\n      //get the first one since it's grouped\n      streams: vv[0][mapping.streams.value] //get the first one since it's grouped\n\n    };\n    results.push(item);\n  }, d => d[mapping.x.value].toString() // sub-group functions. toString() to enable grouping on dates\n  ), d => d[mapping.series.value], // series grouping\n  d => d[mapping.streams.value] // group functions\n  );\n  return results;\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/streamgraph\n*/\n\nfunction render$r(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // chart options\n    streamsOrder,\n    streamsOffset,\n    interpolation,\n    showYAxis,\n    // series options\n    columnsNumber,\n    useSameScale,\n    sortSeriesBy,\n    showSeriesLabels,\n    repeatAxesLabels,\n    showGrid,\n    // color options\n    colorScale,\n    // legend\n    showLegend,\n    legendWidth,\n    // labels\n    showLabels,\n    labelsType,\n    showLabelsOutline\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  }; //check if there are negative values, in case throw error\n\n  data.forEach(d => {\n    if (d.size < 0) {\n      throw new Error('Values cannot be negative');\n    }\n  });\n  const streamsDomain = [...new Set(data.map(d => d.streams))]; // create the stack function\n  // define the function to retrieve the value\n  // inspired by https://observablehq.com/@stevndegwa/stack-chart\n\n  let stack$1 = stack().keys(streamsDomain).value((data, key) => data[1].has(key) ? data[1].get(key).size : 0).order(d3[streamsOrder]).offset(d3[streamsOffset]); // create nest structure\n\n  const nestedData = rollups(data, v => {\n    let localStack = Array.from(rollup(v.sort((a, b) => ascending(a.x, b.x)), // check that x axis is properly sorted\n    ([e]) => e, e => e.x, e => e.streams));\n    return stack$1(localStack);\n  }, d => d.series).map(d => ({\n    data: d,\n    totalSize: sum(d[1].flat(), e => e[1] - e[0]),\n    // compute the total size (in pixels) for each stream\n    name: d[0]\n  })); // series sorting functions\n\n  const seriesSortings = {\n    totalDescending: function (a, b) {\n      return descending(a.totalSize, b.totalSize);\n    },\n    totalAscending: function (a, b) {\n      return ascending(a.totalSize, b.totalSize);\n    },\n    name: function (a, b) {\n      return ascending(a.name, b.name);\n    },\n    original: function (a, b) {\n      return 1;\n    }\n  }; // sort series\n\n  nestedData.sort(seriesSortings[sortSeriesBy]); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund'); // set up grid\n\n  const gridding$1 = gridding().size([width, height]).mode('grid').padding(0) // no padding, margins will be applied inside\n  .cols(columnsNumber);\n  const griddingData = gridding$1(nestedData);\n  const svg = select(svgNode).append('g').attr('id', 'viz');\n  const series = svg.selectAll('g').data(griddingData).join('g').attr('id', d => d[0]).attr('transform', d => 'translate(' + d.x + ',' + d.y + ')'); // calculate global stacks value\n\n  const stacksValues = nestedData.map(d => d.data[1]).flat(2);\n  const globalDomain = [min(stacksValues, d => d[0]), max(stacksValues, d => d[1])]; // x scale\n\n  const xDomain = extent(data, e => e.x);\n  const xScale = mapping.x.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  xScale.domain(xDomain).range([0, griddingData[0].width - margin.right - margin.left]); // add grid\n\n  if (showGrid) {\n    svg.append('g').attr('id', 'grid').selectAll('rect').data(griddingData).enter().append('rect').attr('x', d => d.x).attr('y', d => d.y).attr('width', d => d.width).attr('height', d => d.height).attr('fill', 'none').attr('stroke', '#ccc');\n  }\n  /*\n      YOU CAN PUT HERE CODE THAT APPLIES TO ALL THE SERIES\n    */\n\n\n  series.each(function (d, serieIndex) {\n    // make a local selection for each serie\n    const selection = select(this).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); // compute each serie width and height\n\n    const serieWidth = d.width - margin.right - margin.left;\n    const serieHeight = d.height - margin.top - margin.bottom;\n    const stackedData = d.data[1];\n    let localDomain = [min(stackedData, d => min(d, d => d[0])), max(stackedData, d => max(d, d => d[1]))];\n    const sizeScale = scaleLinear().domain(useSameScale ? globalDomain : localDomain).nice().range([serieHeight, 0]);\n    selection.append('g').selectAll('path').data(stackedData).join('path').attr('fill', ({\n      key\n    }) => {\n      return colorScale(key);\n    }).attr('d', area().curve(d3[interpolation]).x(d => xScale(d.data[0])).y0(d => sizeScale(d[0])).y1(d => sizeScale(d[1]))).append('title').text(({\n      key\n    }) => key);\n    selection.append('g').attr('id', 'xAxis').attr('transform', 'translate(0,' + serieHeight + ')').call(axisBottom(xScale).tickSizeOuter(0));\n\n    if (showYAxis) {\n      selection.append('g').attr('id', 'yAxis') //.attr('transform', 'translate(0,' + serieHeight + ')')\n      .call(axisLeft(sizeScale).tickSizeOuter(0));\n    }\n\n    if (showSeriesLabels) {\n      select(this).append('text').attr('x', 4).attr('y', 4).text(d => d.data[0]).styles(styles.seriesLabel);\n    } // add the axes titles\n\n\n    selection.append('text').styles(styles.axisLabel).attr('y', serieHeight - 4).attr('x', serieWidth).attr('text-anchor', 'end').attr('display', serieIndex == 0 || repeatAxesLabels ? null : 'none').text(mapping.x.value);\n    selection.append('text').styles(styles.axisLabel).attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').attr('display', serieIndex == 0 || repeatAxesLabels ? null : 'none').text(mapping['size'].value);\n\n    if (showLabels) {\n      // if is on path, add paths to defs and then add texts\n      if (labelsType == 'On path') {\n        let defs = select(svgNode).append('defs');\n        defs.selectAll('path').data(stackedData.filter(d => sum(d, e => e[1] - e[0]) > 0)).join('path').attr('id', (d, i) => 'path-' + serieIndex + '-' + i).attr('d', line().curve(d3[interpolation]).x(d => xScale(d.data[0])).y(d => sizeScale((d[0] + d[1]) / 2)));\n        selection.append('g').attr('id', 'labels').selectAll('text').data(stackedData.filter(d => sum(d, e => e[1] - e[0]) > 0)).join('text').attr('dy', '0.5ex').attr('class', 'label').append('textPath').attr('xlink:xlink:href', (d, i) => '#path-' + serieIndex + '-' + i).attr('startOffset', d => {\n          // find max value\n          const maxIndex$1 = maxIndex(d, e => e[1] - e[0]); // get x position\n\n          d.offset = Math.round(maxIndex$1 / d.length * 100); //clamp offset between 5% and 95%, return it\n\n          return Math.min(95, Math.max(5, d.offset)) + '%';\n        }).attr('alignment-baseline', 'middle').attr('text-anchor', d => d.offset > 90 ? 'end' : d.offset < 10 ? 'start' : 'middle').text(d => d.key).styles(styles.labelPrimary);\n\n        if (showLabelsOutline) {\n          labels.styles(styles.labelOutline);\n        }\n      } // if it is on point, find the maximum point\n\n\n      if (labelsType == 'On point') {\n        let labels = selection.append('g').attr('id', 'labels').selectAll('text').data(stackedData.filter(d => sum(d, e => e[1] - e[0]) > 0)).join('text').attr('x', d => {\n          // find max value index\n          const maxIndex$1 = maxIndex(d, e => e[1] - e[0]);\n          d.maxElement = d[maxIndex$1]; // get x position\n\n          return xScale(d.maxElement.data[0]);\n        }).attr('y', d => sizeScale((d.maxElement[0] + d.maxElement[1]) / 2)).attr('text-anchor', d => xScale(d.maxElement.data[0]) > serieWidth - 10 ? 'end' : xScale(d.maxElement.data[0]) < 10 ? 'start' : 'middle').attr('alignment-baseline', 'middle').text(d => d.key).styles(styles.labelPrimary);\n\n        if (showLabelsOutline) {\n          labels.styles(styles.labelOutline);\n        }\n      }\n    }\n  }); // add legend\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n    chartLegend.addColor('Colors', colorScale);\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$r = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 20,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  streamsOrder: {\n    type: 'text',\n    label: 'Sort streams by',\n    group: 'chart',\n    options: [{\n      label: 'Earliest',\n      value: 'stackOrderAppearance'\n    }, {\n      label: 'Ascending',\n      value: 'stackOrderAscending'\n    }, {\n      label: 'Descending',\n      value: 'stackOrderDescending'\n    }, {\n      label: 'Inside out',\n      value: 'stackOrderInsideOut'\n    }, {\n      label: 'None',\n      value: 'stackOrderNone'\n    }, {\n      label: 'Reverse',\n      value: 'stackOrderReverse'\n    }],\n    default: 'stackOrderNone'\n  },\n  interpolation: {\n    type: 'text',\n    label: 'Curve type',\n    default: 'curveBumpX',\n    options: [{\n      label: 'Basis',\n      value: 'curveBasis'\n    }, {\n      label: 'Bump',\n      value: 'curveBumpX'\n    }, {\n      label: 'Cardinal',\n      value: 'curveCardinal'\n    }, {\n      label: 'CatmullRom',\n      value: 'curveCatmullRom'\n    }, {\n      label: 'Linear',\n      value: 'curveLinear'\n    }, {\n      label: 'Monotone X',\n      value: 'curveMonotoneX'\n    }, {\n      label: 'Natural',\n      value: 'curveNatural'\n    }, {\n      label: 'Step',\n      value: 'curveStep'\n    }, {\n      label: 'Step After',\n      value: 'curveStepAfter'\n    }, {\n      label: 'Step Before',\n      value: 'curveStepBefore'\n    }],\n    group: 'chart'\n  },\n  streamsOffset: {\n    type: 'text',\n    label: 'Streams vertical alignment',\n    group: 'chart',\n    options: [{\n      label: 'Expand',\n      value: 'stackOffsetExpand'\n    }, // { label: 'Diverging', value: 'stackOffsetDiverging' },\n    {\n      label: 'Silhouette',\n      value: 'stackOffsetSilhouette'\n    }, {\n      label: 'Wiggle',\n      value: 'stackOffsetWiggle'\n    }, {\n      label: 'None',\n      value: 'stackOffsetNone'\n    }],\n    default: 'stackOffsetNone'\n  },\n  showYAxis: {\n    type: 'boolean',\n    label: 'Show Y axis',\n    default: false,\n    group: 'chart'\n  },\n  useSameScale: {\n    type: 'boolean',\n    label: 'Use same scale',\n    default: true,\n    group: 'series'\n  },\n  columnsNumber: {\n    type: 'number',\n    label: 'Number of columns',\n    default: 0,\n    group: 'series'\n  },\n  sortSeriesBy: {\n    type: 'text',\n    label: 'Sort series by',\n    group: 'series',\n    options: [{\n      label: 'Total value (descending)',\n      value: 'totalAscending'\n    }, {\n      label: 'Total value (ascending)',\n      value: 'totalDescending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'original'\n    }],\n    default: 'totalDescending'\n  },\n  showSeriesLabels: {\n    type: 'boolean',\n    label: 'Show series titles',\n    default: true,\n    group: 'series'\n  },\n  showGrid: {\n    type: 'boolean',\n    label: 'Show series grid',\n    default: false,\n    group: 'series'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'streams',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  showLabels: {\n    type: 'boolean',\n    label: 'Show streams labels',\n    default: true,\n    group: 'Labels'\n  },\n  labelsType: {\n    type: 'text',\n    label: 'Labels position',\n    group: 'Labels',\n    options: ['On path', 'On point'],\n    default: 'On point',\n    disabled: {\n      showLabels: false\n    }\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'Labels',\n    disabled: {\n      showLabels: false\n    }\n  }\n};\n\nvar streamgraph = {\n  metadata: metadata$r,\n  dimensions: dimensions$r,\n  mapData: mapData$r,\n  render: render$r,\n  visualOptions: visualOptions$r,\n  styles: styles$1\n};\n\nvar img$S = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M21.3809%2c16.8352l-3.3315-6.1467A20.0207%2c20.0207%2c0%2c0%2c0%2c9.2866%2c20.9942L15.96%2c23.1183A13.0486%2c13.0486%2c0%2c0%2c1%2c21.3809%2c16.8352Z'/%3e %3cpath class='cls-1' d='M27%2c15.0507v-7a19.8756%2c19.8756%2c0%2c0%2c0-8.0724%2c2.16l3.3317%2c6.1473A12.9065%2c12.9065%2c0%2c0%2c1%2c27%2c15.0507Z'/%3e %3cpath class='cls-1' d='M36.288%2c9.8245l-2.7429%2c6.4376A13.07%2c13.07%2c0%2c0%2c1%2c39.0645%2c21.2l6.0944-3.4295A20.0446%2c20.0446%2c0%2c0%2c0%2c36.288%2c9.8245Z'/%3e %3cpath class='cls-1' d='M29%2c8.0505v7a12.93%2c12.93%2c0%2c0%2c1%2c3.6276.8141l2.7346-6.4183A19.9179%2c19.9179%2c0%2c0%2c0%2c29%2c8.0505Z'/%3e %3cpath class='cls-1' d='M45.6652%2c18.6337l-6.102%2c3.4337a12.9061%2c12.9061%2c0%2c0%2c1%2c.102%2c11.634l6.052%2c3.56a19.941%2c19.941%2c0%2c0%2c0-.052-18.6275Z'/%3e %3cpath class='cls-1' d='M33.049%2c39.9792A12.915%2c12.915%2c0%2c0%2c1%2c30.87%2c40.67l1.2833%2c6.8863a20.1278%2c20.1278%2c0%2c0%2c0%2c4.1029-1.3548Z'/%3e %3cpath class='cls-1' d='M28%2c41a12.9119%2c12.9119%2c0%2c0%2c1-4.6613-.8786L20.5742%2c46.56a19.8067%2c19.8067%2c0%2c0%2c0%2c10.5965%2c1.1831l-1.2851-6.8956A12.9706%2c12.9706%2c0%2c0%2c1%2c28%2c41Z'/%3e %3cpath class='cls-1' d='M15%2c28a12.9514%2c12.9514%2c0%2c0%2c1%2c.3568-2.9746L8.6812%2c22.9005A19.8792%2c19.8792%2c0%2c0%2c0%2c19.6576%2c46.16l2.7634-6.4355A13.0035%2c13.0035%2c0%2c0%2c1%2c15%2c28Z'/%3e %3cpath class='cls-1' d='M34.8188%2c39.0472l3.2137%2c6.2356a20.08%2c20.08%2c0%2c0%2c0%2c6.6712-6.2971l-6.0495-3.5583A13.0845%2c13.0845%2c0%2c0%2c1%2c34.8188%2c39.0472Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpath class='cls-2' d='M27%2c22.5956V16.0507a12.0185%2c12.0185%2c0%2c0%2c0-10.0878%2c7.3709l6.24%2c1.9861A5.513%2c5.513%2c0%2c0%2c1%2c27%2c22.5956Z'/%3e %3cpath class='cls-2' d='M33.5%2c28a5.46%2c5.46%2c0%2c0%2c1-.3369%2c1.8768l5.6382%2c3.3164A11.9619%2c11.9619%2c0%2c0%2c0%2c29%2c16.0507v6.5449A5.5059%2c5.5059%2c0%2c0%2c1%2c33.5%2c28Z'/%3e %3cpath class='cls-2' d='M22.5%2c28a5.5033%2c5.5033%2c0%2c0%2c1%2c.0475-.6858L16.31%2c25.3289A11.9871%2c11.9871%2c0%2c0%2c0%2c32.5878%2c39.0844l-3-5.82A5.4953%2c5.4953%2c0%2c0%2c1%2c22.5%2c28Z'/%3e %3cpath class='cls-2' d='M31.3632%2c32.3423%2c34.36%2c38.1572a12.0783%2c12.0783%2c0%2c0%2c0%2c3.428-3.2393L32.1481%2c31.6A5.5383%2c5.5383%2c0%2c0%2c1%2c31.3632%2c32.3423Z'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$T = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: white%3b %7d .cls-4 %7b fill: %23ccc%3b %7d .cls-5 %7b fill: %23a0d9a3%3b %7d .cls-6 %7b fill: %234ba0b1%3b %7d .cls-7 %7b fill: %235e4fa2%3b %7d .cls-8 %7b fill: %239e0142%3b %7d .cls-9 %7b fill: %23e1524a%3b %7d .cls-10 %7b fill: %23fba35e%3b %7d .cls-11 %7b fill: %23fee89a%3b %7d .cls-12 %7b fill: %23ebf7a6%3b %7d .cls-13%2c .cls-14%2c .cls-15%2c .cls-16 %7b isolation: isolate%3b font-size: 10px%3b font-family: Helvetica%3b %7d .cls-13 %7b letter-spacing: -0.0547em%3b %7d .cls-15 %7b letter-spacing: -0.0366em%3b %7d .cls-16 %7b letter-spacing: -0.0176em%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect class='cls-1' width='320' height='160'/%3e %3c/clipPath%3e %3c/defs%3e %3cg class='cls-2'%3e %3cg%3e %3crect id='backgorund' class='cls-3' x='60' y='-20' width='200' height='200'/%3e %3cg id='viz'%3e %3cg%3e %3cpath class='cls-4' d='M160.1225%2c32a48%2c48%2c0%2c0%2c1%2c45.1469%2c63.9585l-22.1433-7.87A24.5%2c24.5%2c0%2c0%2c0%2c160.1225%2c55.5Z'/%3e %3cpath class='cls-3' d='M160.1225%2c32a48%2c48%2c0%2c0%2c1%2c45.1469%2c63.9585l-22.1433-7.87A24.5%2c24.5%2c0%2c0%2c0%2c160.1225%2c55.5V32m-1-1.0026V56.4953l.995.005a23.5%2c23.5%2c0%2c0%2c1%2c22.0647%2c31.2586l-.3286.9392.9376.3332%2c22.1433%2c7.87.9447.3357.3333-.9455A49%2c49%2c0%2c0%2c0%2c160.1251%2c31l-1.0026-.0026Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-4' d='M205.1874%2c96.19a48%2c48%2c0%2c0%2c1-92.1584-6.3038l23.0087-4.7813A24.5%2c24.5%2c0%2c0%2c0%2c183.0441%2c88.32Z'/%3e %3cpath class='cls-3' d='M136.0377%2c85.1045A24.5%2c24.5%2c0%2c0%2c0%2c183.0441%2c88.32l22.1433%2c7.87a48%2c48%2c0%2c0%2c1-92.1583-6.3038l23.0086-4.7813m.7707-1.1815-.9742.2025-23.0086%2c4.7812-.9816.204.2065.9811a48.9951%2c48.9951%2c0%2c0%2c0%2c94.0783%2c6.4351l.3381-.9438-.9446-.3358-22.1433-7.87-.9376-.3332-.3379.9359a23.3594%2c23.3594%2c0%2c0%2c1-17.2073%2c15.004%2c23.4734%2c23.4734%2c0%2c0%2c1-27.88-18.0881l-.2073-.9732Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-4' d='M112.9792%2c89.6459A48%2c48%2c0%2c0%2c1%2c159.8775%2c32V55.5a24.5%2c24.5%2c0%2c0%2c0-23.89%2c29.3644Z'/%3e %3cpath class='cls-3' d='M159.8775%2c32V55.5a24.5%2c24.5%2c0%2c0%2c0-23.89%2c29.3644l-23.0086%2c4.7812A48%2c48%2c0%2c0%2c1%2c159.8775%2c32m1-1.0026L159.8749%2c31A49%2c49%2c0%2c0%2c0%2c112%2c89.8469l.2014.9821.9817-.204%2c23.0085-4.7812.9742-.2025-.1975-.9752A23.5%2c23.5%2c0%2c0%2c1%2c159.8825%2c56.5l.995-.005V30.9976Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-5' d='M160.1225%2c7.5a72.5013%2c72.5013%2c0%2c0%2c1%2c28.6492%2c5.9534L179.4092%2c35.008A48.9975%2c48.9975%2c0%2c0%2c0%2c160.1225%2c31Z'/%3e %3cpath class='cls-3' d='M160.1225%2c7.5a72.5013%2c72.5013%2c0%2c0%2c1%2c28.6492%2c5.9534L179.4092%2c35.008A48.9975%2c48.9975%2c0%2c0%2c0%2c160.1225%2c31V7.5m-1-1.0017V31.9977L160.12%2c32a47.7325%2c47.7325%2c0%2c0%2c1%2c18.8931%2c3.926l.916.3951.3974-.9149%2c9.3623-21.5545.3992-.9188-.9195-.3975A73.0859%2c73.0859%2c0%2c0%2c0%2c160.1242%2c6.5l-1.0017-.0017Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-6' d='M188.9964%2c13.5511a72.4993%2c72.4993%2c0%2c0%2c1%2c35.3188%2c32.9855L203.45%2c57.3481A49%2c49%2c0%2c0%2c0%2c179.634%2c35.1056Z'/%3e %3cpath class='cls-3' d='M188.9964%2c13.5511a72.4993%2c72.4993%2c0%2c0%2c1%2c35.3188%2c32.9855L203.45%2c57.3481A49%2c49%2c0%2c0%2c0%2c179.634%2c35.1056l9.3624-21.5545m-.5181-1.3172-.3991.9188-9.3625%2c21.5545-.3974.9149.914.4a48.1614%2c48.1614%2c0%2c0%2c1%2c23.33%2c21.7886l.4611.8845.8857-.4589%2c20.8653-10.8115.8894-.4609-.4624-.8886a73.7354%2c73.7354%2c0%2c0%2c0-35.8059-33.44l-.9181-.4006Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-7' d='M224.4279%2c46.7541a72.5%2c72.5%2c0%2c0%2c1%2c3.9269%2c57.4092l-22.1431-7.87a49%2c49%2c0%2c0%2c0-2.6491-38.728Z'/%3e %3cpath class='cls-3' d='M224.428%2c46.7541a72.5%2c72.5%2c0%2c0%2c1%2c3.9269%2c57.4092l-22.1432-7.87a49%2c49%2c0%2c0%2c0-2.6491-38.7279L224.428%2c46.7541m.4293-1.3487-.8894.4608L203.1025%2c56.6778l-.8856.4589.4567.8868a48.19%2c48.19%2c0%2c0%2c1%2c2.595%2c37.9376l-.3317.9407.94.3341%2c22.1432%2c7.87.9439.3354.3338-.9444a73.7776%2c73.7776%2c0%2c0%2c0-3.981-58.2011l-.4594-.89Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-8' d='M228.2728%2c104.3942a72.5%2c72.5%2c0%2c0%2c1-15.2037%2c25.0013l-17.1746-16.04A49.0008%2c49.0008%2c0%2c0%2c0%2c206.13%2c96.5245Z'/%3e %3cpath class='cls-3' d='M206.13%2c96.5245l22.1432%2c7.87a72.5009%2c72.5009%2c0%2c0%2c1-15.2036%2c25.0013l-17.1747-16.04A49.0008%2c49.0008%2c0%2c0%2c0%2c206.13%2c96.5245m-.605-1.2763-.3364.939a47.7326%2c47.7326%2c0%2c0%2c1-10.0263%2c16.4876l-.679.7307.729.6808%2c17.1747%2c16.04.7321.6837.6824-.7333a73.0843%2c73.0843%2c0%2c0%2c0%2c15.4134-25.3462l.3371-.9432-.9439-.3355-22.1432-7.87-.94-.334Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-9' d='M212.9019%2c129.5746a72.5%2c72.5%2c0%2c0%2c1-98.5607%2c6.7417l14.8306-18.2293a49%2c49%2c0%2c0%2c0%2c66.5554-4.5525Z'/%3e %3cpath class='cls-3' d='M195.7272%2c113.5345l17.1747%2c16.04a72.4976%2c72.4976%2c0%2c0%2c1-98.5607%2c6.7417l14.8306-18.2293a48.9982%2c48.9982%2c0%2c0%2c0%2c66.5554-4.5525m-.0464-1.4116-.6827.7273a47.9984%2c47.9984%2c0%2c0%2c1-65.1971%2c4.46l-.7754-.6276-.63.7738-14.8306%2c18.2292-.6322.777.7781.6309a73.4975%2c73.4975%2c0%2c0%2c0%2c99.92-6.8348l.6849-.7309-.732-.6837-17.1747-16.04-.729-.6808Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-10' d='M114.1512%2c136.1617a72.5%2c72.5%2c0%2c0%2c1-25.11-41.2912L112.05%2c90.0893a49%2c49%2c0%2c0%2c0%2c16.9318%2c27.8431Z'/%3e %3cpath class='cls-3' d='M112.05%2c90.0892a49%2c49%2c0%2c0%2c0%2c16.9319%2c27.8432l-14.8306%2c18.2293a72.5%2c72.5%2c0%2c0%2c1-25.11-41.2912L112.05%2c90.0892m.7732-1.182-.9766.203L88.838%2c93.8914l-.9808.2038.2055.98a73.7347%2c73.7347%2c0%2c0%2c0%2c25.4561%2c41.8607l.7759.6335.6322-.777%2c14.83-18.2293.63-.7738-.7723-.6314a48.16%2c48.16%2c0%2c0%2c1-16.5862-27.275l-.2054-.9761Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-11' d='M88.9916%2c94.6306a72.5%2c72.5%2c0%2c0%2c1%2c11.7075-56.34l19.1989%2c13.552A49%2c49%2c0%2c0%2c0%2c112%2c89.8494Z'/%3e %3cpath class='cls-3' d='M100.6991%2c38.2908l19.1988%2c13.552A49.0006%2c49.0006%2c0%2c0%2c0%2c112%2c89.8494L88.9916%2c94.6306a72.5%2c72.5%2c0%2c0%2c1%2c11.7075-56.34m-.2417-1.3946-.5762.8193A73.7772%2c73.7772%2c0%2c0%2c0%2c88.0121%2c94.8324l.2022.9811.9807-.2038%2c23.0086-4.7813.9766-.2029-.2005-.9771a48.1884%2c48.1884%2c0%2c0%2c1%2c7.7367-37.2309l.5732-.8164-.815-.5752L101.2758%2c37.4738l-.8184-.5776Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-12' d='M100.84%2c38.0907A72.5%2c72.5%2c0%2c0%2c1%2c159.8775%2c7.5V31a49%2c49%2c0%2c0%2c0-39.8383%2c20.6425Z'/%3e %3cpath class='cls-3' d='M159.8775%2c7.5V31a49%2c49%2c0%2c0%2c0-39.8383%2c20.6425L100.84%2c38.0907A72.5%2c72.5%2c0%2c0%2c1%2c159.8775%2c7.5m1-1.0017L159.8758%2c6.5a73.625%2c73.625%2c0%2c0%2c0-59.8514%2c31.0125l-.579.8174.8183.5776L119.4626%2c52.46l.8149.5753.5773-.8135A48.0911%2c48.0911%2c0%2c0%2c1%2c159.88%2c32l.9975-.0024V6.4984Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-6' d='M198.7572-8.9206a96.996%2c96.996%2c0%2c0%2c1%2c11.5377%2c5.9783l-12.21%2c20.0789a73.49%2c73.49%2c0%2c0%2c0-8.69-4.5027Z'/%3e %3cpath class='cls-3' d='M198.7572-8.9206a96.996%2c96.996%2c0%2c0%2c1%2c11.5377%2c5.9783l-12.21%2c20.0789a73.4973%2c73.4973%2c0%2c0%2c0-8.69-4.5027l9.3624-21.5545m-.5183-1.3168-.3989.9184-9.3625%2c21.5545-.3977.9156.9151.3993a72.7518%2c72.7518%2c0%2c0%2c1%2c8.5716%2c4.4415l.8539.5173.5187-.853%2c12.21-20.0789.52-.8555-.8562-.5191a98.325%2c98.325%2c0%2c0%2c0-11.6567-6.04l-.9178-.4Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-7' d='M246.1812%2c35.4825a97.0035%2c97.0035%2c0%2c0%2c1%2c8.765%2c24.6623l-23.0085%2c4.7813a73.5008%2c73.5008%2c0%2c0%2c0-6.6219-18.6321Z'/%3e %3cpath class='cls-3' d='M246.1812%2c35.4825a97.0035%2c97.0035%2c0%2c0%2c1%2c8.765%2c24.6623l-23.0085%2c4.7813a73.5044%2c73.5044%2c0%2c0%2c0-6.6218-18.6321l20.8653-10.8115m.4289-1.3485-.889.4606L224.8558%2c45.4062l-.8864.4592.4578.8872a72.5065%2c72.5065%2c0%2c0%2c1%2c6.5317%2c18.3786l.2048.9771.9774-.2032L255.15%2c61.1239l.98-.2037-.2049-.98A98.0087%2c98.0087%2c0%2c0%2c0%2c247.07%2c35.0236l-.46-.89Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-7' d='M254.996%2c60.3847a97.003%2c97.003%2c0%2c0%2c1%2c1.7694%2c12.8736L233.32%2c74.862a73.493%2c73.493%2c0%2c0%2c0-1.3327-9.6961Z'/%3e %3cpath class='cls-3' d='M254.996%2c60.3847a96.9865%2c96.9865%2c0%2c0%2c1%2c1.7694%2c12.8736L233.32%2c74.862a73.493%2c73.493%2c0%2c0%2c0-1.3327-9.6961l23.0085-4.7812m.7768-1.1828-.98.2037L231.784%2c64.1869l-.9774.2031.2015.9778a72.7592%2c72.7592%2c0%2c0%2c1%2c1.3145%2c9.5641l.07.9959.9959-.0682%2c23.4453-1.6036.9989-.0684-.07-.9988a98.321%2c98.321%2c0%2c0%2c0-1.7877-13.0063l-.2025-.9806Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-8' d='M251.3582%2c112.5987a97.0007%2c97.0007%2c0%2c0%2c1-5.177%2c11.9188L225.3158%2c113.706a73.4984%2c73.4984%2c0%2c0%2c0%2c3.8993-8.977Z'/%3e %3cpath class='cls-3' d='M229.2151%2c104.729l22.1431%2c7.87a97.0007%2c97.0007%2c0%2c0%2c1-5.177%2c11.9188L225.3159%2c113.706a73.5133%2c73.5133%2c0%2c0%2c0%2c3.8992-8.977m-.6058-1.2765-.3359.94a72.78%2c72.78%2c0%2c0%2c1-3.8462%2c8.8548l-.4578.8872.8864.4592%2c20.8653%2c10.8116.889.4606.46-.89a98.3358%2c98.3358%2c0%2c0%2c0%2c5.23-12.0416l.3365-.943-.9434-.3353-22.1431-7.87-.9407-.3343Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-9' d='M230.8074%2c146.2971a97%2c97%2c0%2c0%2c1-32.05%2c22.6235l-9.3624-21.5545a73.4991%2c73.4991%2c0%2c0%2c0%2c24.238-17.109Z'/%3e %3cpath class='cls-3' d='M213.6328%2c130.2571l17.1746%2c16.04a97%2c97%2c0%2c0%2c1-32.05%2c22.6235l-9.3624-21.5545a73.4991%2c73.4991%2c0%2c0%2c0%2c24.238-17.109m-.0471-1.4122-.6826.7284A72.0921%2c72.0921%2c0%2c0%2c1%2c188.9949%2c146.45l-.9151.3993.3977.9156L197.84%2c169.319l.3989.9184.9178-.4a97.4441%2c97.4441%2c0%2c0%2c0%2c32.3807-22.8567l.6843-.7309-.7317-.6834-17.1747-16.04-.73-.6814Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-10' d='M98.69%2c155.1666A97%2c97%2c0%2c0%2c1%2c80.8246%2c136.038l19.1988-13.552A73.4985%2c73.4985%2c0%2c0%2c0%2c113.52%2c136.9374Z'/%3e %3cpath class='cls-3' d='M100.0234%2c122.486A73.4985%2c73.4985%2c0%2c0%2c0%2c113.52%2c136.9374L98.69%2c155.1666A97.0033%2c97.0033%2c0%2c0%2c1%2c80.8246%2c136.038l19.1988-13.552m.239-1.3927-.8156.5758L80.248%2c135.2211l-.818.5774.5784.8172a98.0078%2c98.0078%2c0%2c0%2c0%2c18.049%2c19.3258l.7759.6329.6319-.7767%2c14.8306-18.2292.63-.7744-.7733-.6314a72.508%2c72.508%2c0%2c0%2c1-13.3131-14.2547l-.577-.8147Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-11' d='M65.004%2c99.6153a97%2c97%2c0%2c0%2c1%2c0-39.2306l23.0085%2c4.7812a73.499%2c73.499%2c0%2c0%2c0%2c0%2c29.6682Z'/%3e %3cpath class='cls-3' d='M65.004%2c60.3847l23.0085%2c4.7812a73.499%2c73.499%2c0%2c0%2c0%2c0%2c29.6682L65.004%2c99.6153a97%2c97%2c0%2c0%2c1%2c0-39.2306m-.7768-1.1828-.2025.9806a97.443%2c97.443%2c0%2c0%2c0%2c0%2c39.635l.2025.9806.98-.2037%2c23.0084-4.7813.9775-.2031-.2015-.9778a72.0924%2c72.0924%2c0%2c0%2c1%2c0-29.2644l.2015-.9778-.9775-.2031L65.2075%2c59.4056l-.98-.2037Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-12' d='M121.4675-9.0182A97.0157%2c97.0157%2c0%2c0%2c1%2c133.7118-13.37l6.34%2c22.6286a73.5011%2c73.5011%2c0%2c0%2c0-9.2221%2c3.2776Z'/%3e %3cpath class='cls-3' d='M133.7118-13.37l6.34%2c22.6286a73.5011%2c73.5011%2c0%2c0%2c0-9.2221%2c3.2776L121.4675-9.0182A97.0157%2c97.0157%2c0%2c0%2c1%2c133.7118-13.37m.6928-1.2339-.9638.2714a98.3347%2c98.3347%2c0%2c0%2c0-12.37%2c4.3965l-.9189.3977.3988.9184%2c9.3625%2c21.5545.3977.9157.9163-.3963a72.7684%2c72.7684%2c0%2c0%2c1%2c9.0967-3.2329l.9608-.271-.2692-.9613-6.34-22.6286-.27-.9641Z'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-12' d='M133.9477-13.436A96.9973%2c96.9973%2c0%2c0%2c1%2c159.8775-17V6.5a73.4985%2c73.4985%2c0%2c0%2c0-19.59%2c2.6925Z'/%3e %3cpath class='cls-3' d='M159.8775-17V6.5a73.4985%2c73.4985%2c0%2c0%2c0-19.59%2c2.6925l-6.34-22.6285A96.9933%2c96.9933%2c0%2c0%2c1%2c159.8775-17m1-1.0013L159.8762-18a98.0075%2c98.0075%2c0%2c0%2c0-26.1971%2c3.6007l-.9644.2689.27.9642%2c6.34%2c22.6285.2694.9613.9617-.2677A72.51%2c72.51%2c0%2c0%2c1%2c159.8792%2c7.5l.9983-.0017v-25.5Z'/%3e %3c/g%3e %3c/g%3e %3cg%3e %3ctext class='cls-13' transform='translate(189.315 63.5932) rotate(-35.2174)'%3eA%3c/text%3e %3ctext class='cls-14' transform='translate(160.7473 120.2018) rotate(-86.0871)'%3eB%3c/text%3e %3ctext class='cls-14' transform='translate(126.4549 57.2496) rotate(39.1306)'%3eC%3c/text%3e %3ctext class='cls-14' transform='translate(175.6043 22.1702) rotate(-78.2606)'%3eI%3c/text%3e %3ctext class='cls-15' transform='matrix(0.6826%2c -0.7308%2c 0.7308%2c 0.6826%2c 202.474%2c 39.5994)'%3eL%3c/text%3e %3ctext class='cls-14' transform='translate(217.1808 79.626) rotate(-3.9129)'%3eM%3c/text%3e %3ctext class='cls-14' transform='translate(207.4671 112.9127) rotate(31.3041)'%3eD%3c/text%3e %3ctext class='cls-14' transform='translate(160.4322 138.009) rotate(86.0871)'%3eE%3c/text%3e %3ctext class='cls-14' transform='translate(106.8484 116.44) rotate(-31.3041)'%3eF%3c/text%3e %3ctext class='cls-14' transform='translate(95.4458 70.1712) rotate(11.7394)'%3eG%3c/text%3e %3ctext class='cls-14' transform='matrix(0.4601%2c 0.8879%2c -0.8879%2c 0.4601%2c 127.0505%2c 24.1006)'%3eH%3c/text%3e %3ctext class='cls-14' transform='matrix(0.4601%2c -0.8879%2c 0.8879%2c 0.4601%2c 201.233%2c 8.1878)'%3eF%3c/text%3e %3ctext class='cls-14' transform='translate(238.5645 55.78) rotate(-19.5653)'%3eU%3c/text%3e %3ctext class='cls-14' transform='translate(242.1843 72.2519) rotate(-7.8262)'%3eV%3c/text%3e %3ctext class='cls-14' transform='translate(233.9428 115.915) rotate(23.4782)'%3eN%3c/text%3e %3ctext class='cls-14' transform='translate(204.3448 148.8938) rotate(54.7826)'%3eO%3c/text%3e %3ctext class='cls-16' transform='matrix(0.7308%2c -0.6826%2c 0.6826%2c 0.7308%2c 97.289%2c 143.4203)'%3eP%3c/text%3e %3ctext class='cls-14' transform='translate(70.3608 83.5)'%3eQ%3c/text%3e %3ctext class='cls-14' transform='translate(126.7882 -3.0332) rotate(70.4347)'%3eR%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$s = {\n  name: 'Sunburst diagram',\n  id: 'rawgraphs.sunburst',\n  thumbnail: img$T,\n  icon: img$S,\n  categories: ['hierarchies', 'proportions'],\n  description: 'It displays hierarchically structured data and a related quantitative dimension using concentric circles. The circle in the center represents the root node, with the hierarchies moving outward from the center. The angle of each arc corresponds to the qualitative dimension.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/sunburst',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-sunburst-diagram/'\n};\n\nconst dimensions$s = [{\n  id: 'hierarchy',\n  name: 'Hierarchy',\n  validTypes: ['number', 'date', 'string'],\n  required: true,\n  multiple: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'label',\n  name: 'Leaf label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}];\n\nconst mapData$s = function (data, mapping, dataTypes, dimensions) {\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions);\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const labelAggregators = getDimensionAggregator('label', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  };\n  'size' in mapping ? null : mapping.size = {\n    value: undefined\n  };\n  'label' in mapping ? null : mapping.label = {\n    value: undefined\n  };\n  const results = [];\n  rollups(data, v => {\n    const item = {\n      hierarchy: new Map(mapping.hierarchy.value.map(d => [d, v[0][d]])),\n      //get the first one since it's grouped\n      size: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : v.length,\n      color: mapping.color.value ? colorAggregator(v.map(d => d[mapping.color.value])) : 'cells color',\n      label: mapping.label.value ? mapping.label.value.map((label, i) => {\n        return labelAggregators[i](v.map(d => d[label]));\n      }) : undefined // create array of strings\n\n    };\n    results.push(item);\n    return item;\n  }, ...mapping.hierarchy.value.map(level => d => d[level]) // create a grouping for each level of the hierarchy\n  );\n  return results;\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/sunburst\n*/\n\nfunction render$s(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // legend\n    showLegend,\n    legendWidth,\n    // chart\n    padding,\n    // labels\n    label1Style,\n    label2Style,\n    label3Style,\n    // colors\n    colorScale,\n    // labels\n    showHierarchyLabels,\n    labelHierarchyStyle,\n    labelStyles,\n    showLabelsOutline,\n    autoHideLabels\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom;\n  const radius = chartWidth > chartHeight ? chartHeight / 2 : chartWidth / 2; // create the hierarchical structure\n\n  const nest = rollup(data, v => v[0], ...mapping.hierarchy.value.map(level => d => d.hierarchy.get(level)));\n  const hierarchy$1 = hierarchy(nest).sum(d => d[1] instanceof Map ? 0 : d[1].size); // since maps have also a .size porperty, sum only values for leaves, and not for Maps\n  //@TODO: find a way to filter hierarchy\n\n  const partition$1 = nest => partition() // copied from example of d3v6, not clear the meaning\n  .size([2 * Math.PI, radius])(hierarchy$1);\n\n  const root = partition$1();\n  const arc$1 = arc().startAngle(d => d.x0).endAngle(d => d.x1).padAngle(padding / (radius / 2)) // convert padding in radians\n  .padRadius(radius / 2).innerRadius(d => d.y0).outerRadius(d => d.y1 - padding);\n  const svg = select(svgNode); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  svg.append('g').attr('transform', `translate(${width / 2},${height / 2})`).attr('id', 'viz').selectAll('path').data(root.descendants().filter(d => d.depth)).join('path').attr('fill', function (d) {\n    if ('children' in d) {\n      // if not leaf, check if leaves has the same value\n      const childrenColors = [...new Set(d.leaves().map(l => l.data[1].color))];\n      return childrenColors.length == 1 ? colorScale(childrenColors[0]) : '#cccccc';\n    } else {\n      // otherwise, if it's a leaf use its own color\n      return colorScale(d.data[1].color);\n    }\n  }).attr('display', d => d.data[0] != '' ? '' : 'none').attr('d', arc$1).append('title').text(d => d.data[0]);\n  const textGroups = svg.append('g').attr('id', 'labels').attr('transform', `translate(${width / 2},${height / 2})`).attr('text-anchor', 'middle').selectAll('text').data(root.descendants()).join('text').filter(d => showHierarchyLabels ? true : !d.children) // if showHierarchyLabels is false, hide non-leaf nodes\n  .filter(d => d.data[0] != '').attr('transform', function (d) {\n    const x = (d.x0 + d.x1) / 2 * 180 / Math.PI;\n    const y = (d.y0 + d.y1) / 2;\n    return `rotate(${x - 90}) translate(${y},0) rotate(${x < 180 ? 0 : 180})`;\n  });\n  textGroups.selectAll('tspan') // if node not a leaf, show just its name.\n  .data(d => {\n    console.log(d);\n\n    if (d.children) {\n      return [{\n        string: d.data[0],\n        hierarchy: true\n      }];\n    } else {\n      // if labels are mapped, return them\n      if (mapping.label.value.length > 0) {\n        return d.data[1].label.map(d => ({\n          string: d,\n          hierarchy: false\n        }));\n      } else {\n        //otherwise, return just leaf name\n        return [{\n          string: d.data[0],\n          hierarchy: true\n        }];\n      }\n    }\n  }).join('tspan').attr('x', 0).attr('y', (d, i, n) => (i + 1) * 12 - n.length / 2 * 12 - 2) // @TODO: 12 is the font size. we should expose this\n  .text(d => d.string).styles((d, i) => d.hierarchy ? styles[labelHierarchyStyle] : styles[labelStyles[i]]);\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    textGroups.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (autoHideLabels) {\n    labelsOcclusion(textGroups, d => d.size);\n  }\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$s = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  padding: {\n    type: 'number',\n    label: 'Padding',\n    default: 2,\n    group: 'chart'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  showHierarchyLabels: {\n    type: 'boolean',\n    label: 'Show hierarchy labels',\n    default: true,\n    group: 'labels'\n  },\n  labelHierarchyStyle: {\n    type: 'text',\n    label: 'Hierarchy labels',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelItalic',\n    disabled: {\n      showHierarchyLabels: false\n    }\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  },\n  autoHideLabels: {\n    type: 'boolean',\n    label: 'Auto hide labels',\n    default: false,\n    group: 'labels'\n  }\n};\n\nvar sunburst = {\n  metadata: metadata$s,\n  dimensions: dimensions$s,\n  mapData: mapData$s,\n  render: render$s,\n  visualOptions: visualOptions$s,\n  styles: styles$1\n};\n\nvar img$U = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3crect class='cls-1' x='8' y='30' width='19' height='18'/%3e %3crect class='cls-1' x='35' y='8' width='13' height='4'/%3e %3crect class='cls-1' x='35' y='13' width='13' height='9'/%3e %3crect class='cls-1' x='42' y='42' width='6' height='6'/%3e %3crect class='cls-1' x='29' y='42' width='12' height='6'/%3e %3c/g%3e %3cg id='primary'%3e %3crect class='cls-2' x='8' y='8' width='19' height='21'/%3e %3crect class='cls-2' x='29' y='8' width='5' height='14'/%3e %3crect class='cls-2' x='29' y='24' width='19' height='17'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$V = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b %7d .cls-3 %7b fill: %23a0d9a3%3b %7d .cls-4 %7b clip-path: url(%23clip-path)%3b %7d .cls-5%2c .cls-6%2c .cls-9 %7b isolation: isolate%3b %7d .cls-6%2c .cls-9 %7b font-size: 12px%3b font-family: Helvetica%3b %7d .cls-7 %7b fill: %234ba0b1%3b %7d .cls-8 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-9 %7b letter-spacing: -0.0366em%3b %7d .cls-10 %7b fill: %235e4fa2%3b %7d .cls-11 %7b clip-path: url(%23clip-path-3)%3b %7d .cls-12 %7b clip-path: url(%23clip-path-4)%3b %7d .cls-13 %7b clip-path: url(%23clip-path-5)%3b %7d .cls-14 %7b clip-path: url(%23clip-path-6)%3b %7d .cls-15 %7b fill: %239e0142%3b %7d .cls-16 %7b clip-path: url(%23clip-path-7)%3b %7d .cls-17 %7b clip-path: url(%23clip-path-8)%3b %7d .cls-18 %7b fill: %23e1524a%3b %7d .cls-19 %7b clip-path: url(%23clip-path-9)%3b %7d .cls-20 %7b fill: %23fba35e%3b %7d .cls-21 %7b clip-path: url(%23clip-path-10)%3b %7d .cls-22 %7b clip-path: url(%23clip-path-11)%3b %7d .cls-23 %7b clip-path: url(%23clip-path-12)%3b %7d .cls-24 %7b fill: %23fee89a%3b %7d .cls-25 %7b clip-path: url(%23clip-path-13)%3b %7d .cls-26 %7b clip-path: url(%23clip-path-14)%3b %7d .cls-27 %7b fill: %23ebf7a6%3b %7d .cls-28 %7b clip-path: url(%23clip-path-15)%3b %7d .cls-29 %7b clip-path: url(%23clip-path-16)%3b %7d .cls-30 %7b clip-path: url(%23clip-path-17)%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect class='cls-1' x='5' y='5' width='38' height='74'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3crect class='cls-1' x='44' y='5' width='52' height='74'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-3'%3e %3crect class='cls-1' x='5' y='80' width='91' height='31'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-4'%3e %3crect class='cls-1' x='5' y='114' width='20' height='41'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-5'%3e %3crect class='cls-1' x='28' y='114' width='44' height='41'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-6'%3e %3crect class='cls-1' x='75' y='114' width='21' height='41'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-7'%3e %3crect class='cls-1' x='101' y='5' width='6' height='110'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-8'%3e %3crect class='cls-1' x='110' y='5' width='89' height='21'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-9'%3e %3crect class='cls-1' x='110' y='27' width='89' height='88'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-10'%3e %3crect class='cls-1' x='200' y='5' width='26' height='110'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-11'%3e %3crect class='cls-1' x='101' y='118' width='74' height='37'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-12'%3e %3crect class='cls-1' x='178' y='118' width='48' height='37'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-13'%3e %3crect class='cls-1' x='231' y='5' width='84' height='32'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-14'%3e %3crect class='cls-1' x='231' y='40' width='35' height='80'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-15'%3e %3crect class='cls-1' x='267' y='40' width='48' height='80'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-16'%3e %3crect class='cls-1' x='231' y='123' width='26' height='32'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-17'%3e %3crect class='cls-1' x='260' y='123' width='55' height='32'/%3e %3c/clipPath%3e %3c/defs%3e %3crect id='backgorund' class='cls-2' width='320' height='160'/%3e %3crect id='backgorund-2' data-name='backgorund' class='cls-2' width='320' height='160'/%3e %3cg id='viz'%3e %3cg id='leaves'%3e %3cg%3e %3crect id='path0' class='cls-3' x='5' y='5' width='38' height='74'/%3e %3cg class='cls-4'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(8 17)'%3eI%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path1' class='cls-7' x='44' y='5' width='52' height='74'/%3e %3cg class='cls-8'%3e %3cg class='cls-5'%3e %3ctext class='cls-9' transform='translate(47 17)'%3eL%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path2' class='cls-10' x='5' y='80' width='91' height='31'/%3e %3cg class='cls-11'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(8 92)'%3eM%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path3' class='cls-7' x='5' y='114' width='20' height='41'/%3e %3cg class='cls-12'%3e %3cg class='cls-5'%3e %3ctext class='cls-9' transform='translate(8 126)'%3eL%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path4' class='cls-10' x='28' y='114' width='44' height='41'/%3e %3cg class='cls-13'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(31 126)'%3eM%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path5' class='cls-10' x='75' y='114' width='21' height='41'/%3e %3cg class='cls-14'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(78 126)'%3eM%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path6' class='cls-15' x='101' y='5' width='6' height='110'/%3e %3cg class='cls-16'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(104 17)'%3eD%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path7' class='cls-15' x='110' y='5' width='89' height='21'/%3e %3cg class='cls-17'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(113 17)'%3eD%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path8' class='cls-18' x='110' y='27' width='89' height='88'/%3e %3cg class='cls-19'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(113 39)'%3eE%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path9' class='cls-20' x='200' y='5' width='26' height='110'/%3e %3cg class='cls-21'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(203 17)'%3eF%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path10' class='cls-18' x='101' y='118' width='74' height='37'/%3e %3cg class='cls-22'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(104 130)'%3eE%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path11' class='cls-20' x='178' y='118' width='48' height='37'/%3e %3cg class='cls-23'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(181 130)'%3eF%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path12' class='cls-24' x='231' y='5' width='84' height='32'/%3e %3cg class='cls-25'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(234 17)'%3eG%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path13' class='cls-24' x='231' y='40' width='35' height='80'/%3e %3cg class='cls-26'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(234 52)'%3eG%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path14' class='cls-27' x='267' y='40' width='48' height='80'/%3e %3cg class='cls-28'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(270 52)'%3eH%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path15' class='cls-27' x='231' y='123' width='26' height='32'/%3e %3cg class='cls-29'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(234 135)'%3eH%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3cg%3e %3crect id='path16' class='cls-27' x='260' y='123' width='55' height='32'/%3e %3cg class='cls-30'%3e %3cg class='cls-5'%3e %3ctext class='cls-6' transform='translate(263 135)'%3eH%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$t = {\n  name: 'Treemap',\n  id: 'rawgraphs.treemap',\n  thumbnail: img$V,\n  icon: img$U,\n  categories: ['hierarchies', 'proportions'],\n  description: 'It displays hierarchically structured data and a related quantitative dimension. It is composed of an area divided into small rectangles, representing the last level of the tree structure. The rectangles size depends on the quantitative dimension.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/treemap',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-treemap/'\n};\n\nconst dimensions$t = [{\n  id: 'hierarchy',\n  name: 'Hierarchy',\n  validTypes: ['number', 'date', 'string'],\n  required: true,\n  multiple: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true,\n  aggregation: true,\n  aggregationDefault: 'csvDistinct'\n}];\n\nconst mapData$t = function (data, mapping, dataTypes, dimensions) {\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions);\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const labelAggregators = getDimensionAggregator('label', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  };\n  'size' in mapping ? null : mapping.size = {\n    value: undefined\n  };\n  'label' in mapping ? null : mapping.label = {\n    value: undefined\n  };\n  const results = [];\n  rollups(data, v => {\n    const item = {\n      hierarchy: new Map(mapping.hierarchy.value.map(d => [d, v[0][d]])),\n      //get the first one since it's grouped\n      size: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : v.length,\n      color: mapping.color.value ? colorAggregator(v.map(d => d[mapping.color.value])) : 'cells color',\n      label: mapping.label.value ? mapping.label.value.map((label, i) => {\n        return labelAggregators[i](v.map(d => d[label]));\n      }) : undefined // create array of strings\n\n    };\n    results.push(item);\n    return item;\n  }, ...mapping.hierarchy.value.map(level => d => d[level]) // create a grouping for each level of the hierarchy\n  );\n  return results;\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/treemap\n*/\n\nfunction render$t(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard\n    width,\n    height,\n    background,\n    // margins\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // legend\n    showLegend,\n    legendWidth,\n    // colors\n    colorScale,\n    // chart options\n    tiling,\n    padding,\n    // labels\n    showLabelsOutline,\n    showHierarchyLabels,\n    labelStyles\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // create the hierarchical structure\n\n  const nest = rollup(data, v => v[0], ...mapping.hierarchy.value.map(level => d => d.hierarchy.get(level)));\n  const hierarchy$1 = hierarchy(nest).sum(d => d[1] instanceof Map ? 0 : d[1].size); // since maps have a .size porperty in native javascript, sum only values for leaves, and not for Maps\n  //@TODO: understand how to handle empty values\n\n  const treemap = treemap$1().tile(d3[tiling]).size([chartWidth, chartHeight]).padding(padding).round(true);\n\n  if (showHierarchyLabels) {\n    treemap.paddingTop(12);\n  }\n\n  const root = treemap(hierarchy$1); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'viz'); // if selected, draw a rectangle for each level in the hierarchy\n\n  if (showHierarchyLabels) {\n    const ancestorData = root.descendants().filter(d => d.children);\n    const depthScale = scaleLinear().domain([0, root.leaves()[0].depth + 1]);\n    const ancestors = svg.append('g').attr('id', 'ancestors').selectAll('rect').data(ancestorData).join('g').attr('transform', d => `translate(${d.x0},${d.y0})`);\n    ancestors.append('rect').attr('width', d => d.x1 - d.x0).attr('height', d => d.y1 - d.y0).attr('id', (d, i) => 'path_ancestor' + i).attr('fill', '#ccc').attr('fill-opacity', d => depthScale(d.depth)).attr('stroke', '#ccc').attr('stroke-opacity', d => depthScale(d.depth) + 0.1);\n\n    if (showHierarchyLabels) {\n      ancestors.append('clipPath').attr('id', (d, i) => 'clip_ancestor' + i).append('use').attr('xlink:href', (d, i) => '#path_ancestor' + i);\n      ancestors.append('text').attr('x', padding).attr('y', 2).attr('clip-path', (d, i) => 'url(#clip_ancestor' + i + ')').attr('font-family', 'Arial, sans-serif').attr('font-size', 8).attr('dominant-baseline', 'text-before-edge').attr('class', 'txt').text(d => {\n        return d.depth === 0 && !d.data[0] ? 'Root' : d.data[0];\n      });\n    }\n  }\n\n  const leaves = svg.append('g').attr('id', 'leaves').selectAll('g').data(root.leaves()).join('g').attr('transform', d => `translate(${d.x0},${d.y0})`);\n  leaves.append('rect').attr('id', (d, i) => 'path' + i).attr('fill', d => colorScale(d.data[1].color)).attr('width', d => d.x1 - d.x0).attr('height', d => d.y1 - d.y0);\n  leaves.append('clipPath').attr('id', (d, i) => 'clip' + i).append('use').attr('xlink:href', (d, i) => '#path' + i);\n  const texts = leaves.append('text').attr('clip-path', (d, i) => 'url(#clip' + i + ')').attr('font-family', 'Arial, sans-serif').attr('font-size', 10).attr('dominant-baseline', 'text-before-edge').attr('class', 'txt');\n  texts.selectAll('tspan').data((d, i, a) => {\n    return Array.isArray(d.data[1].label) ? d.data[1].label : [d.data[1].label];\n  }).join('tspan').attr('x', 3).attr('y', (d, i) => i * 1.1 + 0.2 + 'em').text((d, i) => {\n    if (d && mapping.label.dataType[i].type === 'date') {\n      return timeFormat(dateFormats[mapping.label.dataType[i].dateFormat])(d);\n    } else {\n      return d;\n    }\n  }).styles((d, i) => styles[labelStyles[i]]);\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    selectAll('.txt').styles(styles.labelOutline);\n  }\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$t = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  tiling: {\n    type: 'text',\n    label: 'Tiling method',\n    group: 'chart',\n    options: [{\n      label: 'Binary',\n      value: 'treemapBinary'\n    }, {\n      label: 'Dice',\n      value: 'treemapDice'\n    }, {\n      label: 'Slice',\n      value: 'treemapSlice'\n    }, {\n      label: 'Slice and dice',\n      value: 'treemapSliceDice'\n    }, {\n      label: 'Squarify',\n      value: 'treemapSquarify'\n    }],\n    default: 'treemapSquarify'\n  },\n  padding: {\n    type: 'number',\n    label: 'Padding',\n    default: 2,\n    group: 'chart'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  },\n  showHierarchyLabels: {\n    type: 'boolean',\n    label: 'Show hierarchy labels',\n    default: false,\n    group: 'labels'\n  }\n};\n\nvar treemap = {\n  metadata: metadata$t,\n  dimensions: dimensions$t,\n  mapData: mapData$t,\n  render: render$t,\n  visualOptions: visualOptions$t,\n  styles: styles$1\n};\n\nvar img$W = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M19.9971%2c24.5a6.3078%2c6.3078%2c0%2c0%2c0-1.4239-3.6611A7.1479%2c7.1479%2c0%2c0%2c1%2c16.9971%2c16.5v-.4971h-.9942V16.5a7.1479%2c7.1479%2c0%2c0%2c1-1.5761%2c4.3389A6.3078%2c6.3078%2c0%2c0%2c0%2c13.0029%2c24.5a12.4967%2c12.4967%2c0%2c0%2c1-.4853%2c3.38%2c13.5076%2c13.5076%2c0%2c0%2c0-.5147%2c3.62%2c6.3078%2c6.3078%2c0%2c0%2c0%2c1.4239%2c3.6611A7.1479%2c7.1479%2c0%2c0%2c1%2c15.0029%2c39.5a19.2486%2c19.2486%2c0%2c0%2c0%2c.5664%2c4.7246A13.6883%2c13.6883%2c0%2c0%2c1%2c16.0029%2c47.5v.4971h.9942V47.5a13.6883%2c13.6883%2c0%2c0%2c1%2c.4336-3.2754A19.2486%2c19.2486%2c0%2c0%2c0%2c17.9971%2c39.5a7.1479%2c7.1479%2c0%2c0%2c1%2c1.5761-4.3389A6.3078%2c6.3078%2c0%2c0%2c0%2c20.9971%2c31.5a13.5076%2c13.5076%2c0%2c0%2c0-.5147-3.62A12.4967%2c12.4967%2c0%2c0%2c1%2c19.9971%2c24.5Z'/%3e %3cpath class='cls-1' d='M47.3975%2c35.7021a5.179%2c5.179%2c0%2c0%2c1-1.4-3.2021%2c14.5%2c14.5%2c0%2c0%2c0-.458-3.4932%2c18.1508%2c18.1508%2c0%2c0%2c1-.542-4.5068v-.4971h-.9942V24.5a18.1508%2c18.1508%2c0%2c0%2c1-.542%2c4.5068%2c14.5%2c14.5%2c0%2c0%2c0-.458%2c3.4932%2c5.179%2c5.179%2c0%2c0%2c1-1.4%2c3.2021%2c6.038%2c6.038%2c0%2c0%2c0-1.6%2c3.7979c0%2c1.582.9717%2c2.667%2c1.9121%2c3.7158%2c1.0264%2c1.1455%2c2.0879%2c2.3311%2c2.0879%2c4.2842v.4971h.9942V47.5c0-1.9531%2c1.0615-3.1387%2c2.0879-4.2842.94-1.0488%2c1.9121-2.1338%2c1.9121-3.7158A6.038%2c6.038%2c0%2c0%2c0%2c47.3975%2c35.7021Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpath class='cls-2' d='M34.6436%2c12.6963c-1.793-1.1426-3.6465-2.3252-3.6465-4.1963V8.0029h-.9942V8.5c0%2c1.8711-1.8535%2c3.0537-3.6465%2c4.1963-1.7246%2c1.1006-3.3535%2c2.1387-3.3535%2c3.8037%2c0%2c1.6152%2c1.2188%2c2.7031%2c2.3975%2c3.7549%2c1.2793%2c1.1426%2c2.6025%2c2.3242%2c2.6025%2c4.2451a18.1508%2c18.1508%2c0%2c0%2c1-.542%2c4.5068%2c14.5%2c14.5%2c0%2c0%2c0-.458%2c3.4932%2c6.038%2c6.038%2c0%2c0%2c0%2c1.6%2c3.7979%2c5.179%2c5.179%2c0%2c0%2c1%2c1.4%2c3.2021v.4971h.9942V39.5a5.179%2c5.179%2c0%2c0%2c1%2c1.4-3.2021%2c6.038%2c6.038%2c0%2c0%2c0%2c1.6-3.7979%2c14.5%2c14.5%2c0%2c0%2c0-.458-3.4932%2c18.1508%2c18.1508%2c0%2c0%2c1-.542-4.5068c0-1.9209%2c1.3232-3.1025%2c2.6025-4.2451%2c1.1787-1.0518%2c2.3975-2.14%2c2.3975-3.7549C37.9971%2c14.835%2c36.3682%2c13.7969%2c34.6436%2c12.6963Z'/%3e %3cpolygon class='cls-2' points='9.185 9.685 7.5 8 5.815 9.685 5.815 11.115 7.003 9.927 7.003 48 7.997 48 7.997 9.927 9.185 11.115 9.185 9.685'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$X = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b stroke: black%3b %7d .cls-2 %7b isolation: isolate%3b font-size: 10px%3b font-family: Helvetica%3b %7d .cls-3 %7b fill: %239e0142%3b %7d .cls-4 %7b fill: %23a0d9a3%3b %7d .cls-5 %7b fill: %235e4fa2%3b %7d %3c/style%3e %3c/defs%3e %3cg%3e %3cpath class='cls-1' d='M25.5%2c142.5h295'/%3e %3cline class='cls-1' x1='74.16666' y1='142' x2='74.16666' y2='148'/%3e %3cline class='cls-1' x1='172.5' y1='142' x2='172.5' y2='148'/%3e %3cline class='cls-1' x1='270.83334' y1='142' x2='270.83334' y2='148'/%3e %3c/g%3e %3cg%3e %3cg%3e %3cline class='cls-1' x1='25' y1='142.5' x2='19' y2='142.5'/%3e %3ctext class='cls-2' transform='translate(2.09863 145.7)'%3e4.0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-1' x1='25' y1='125.375' x2='19' y2='125.375'/%3e %3ctext class='cls-2' transform='translate(2.09863 128.575)'%3e4.5%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-1' x1='25' y1='108.25' x2='19' y2='108.25'/%3e %3ctext class='cls-2' transform='translate(2.09863 111.45)'%3e5.0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-1' x1='25' y1='91.125' x2='19' y2='91.125'/%3e %3ctext class='cls-2' transform='translate(2.09863 94.325)'%3e5.5%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-1' x1='25' y1='74' x2='19' y2='74'/%3e %3ctext class='cls-2' transform='translate(2.09863 77.2)'%3e6.0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-1' x1='25' y1='56.875' x2='19' y2='56.875'/%3e %3ctext class='cls-2' transform='translate(2.09863 60.07499)'%3e6.5%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-1' x1='25' y1='39.75' x2='19' y2='39.75'/%3e %3ctext class='cls-2' transform='translate(2.09863 42.95)'%3e7.0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-1' x1='25' y1='22.625' x2='19' y2='22.625'/%3e %3ctext class='cls-2' transform='translate(2.09863 25.82501)'%3e7.5%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-1' x1='25' y1='5.5' x2='19' y2='5.5'/%3e %3ctext class='cls-2' transform='translate(2.09863 8.70001)'%3e8.0%3c/text%3e %3c/g%3e %3c/g%3e %3cpath class='cls-3' d='M74.16667%2c142a6.71935%2c6.71935%2c0%2c0%2c1%2c.8155-3.425c.70031-1.14166%2c2.04334-2.28332%2c2.93582-3.425a33.06169%2c33.06169%2c0%2c0%2c1%2c2.44651-3.425c1.11211-1.14167%2c2.89438-2.28334%2c4.07753-3.425s1.76718-2.28333%2c2.77271-3.425%2c2.43259-2.28333%2c3.262-3.425%2c1.06126-2.28333%2c2.44652-3.425a38.70607%2c38.70607%2c0%2c0%2c1%2c6.19784-3.425%2c62.1746%2c62.1746%2c0%2c0%2c0%2c6.03473-3.425c1.75174-1.14167%2c3.24613-2.28333%2c2.93582-3.425s-2.42534-2.28333-3.75132-3.425-1.86294-2.28333-3.42512-3.425a42.08544%2c42.08544%2c0%2c0%2c0-6.68714-3.425%2c30.2741%2c30.2741%2c0%2c0%2c1-6.36094-3.425A5.43331%2c5.43331%2c0%2c0%2c1%2c86.073%2c90.625%2c6.50925%2c6.50925%2c0%2c0%2c0%2c84.27893%2c87.2c-1.15353-1.14166-3.09475-2.28333-4.24063-3.425a6.73612%2c6.73612%2c0%2c0%2c1-1.79411-3.425%2c15.2364%2c15.2364%2c0%2c0%2c0-1.14171-3.425c-.59919-1.14167-1.55276-2.28333-2.12031-3.425a8.56248%2c8.56248%2c0%2c0%2c1-.8155-3.425c-.06644-1.14166-.01781-2.28333%2c0-3.425s.00477-2.28333%2c0-3.425-.00128-2.28334%2c0-3.425.00034-2.28334%2c0-3.425-.00009-2.28333%2c0-3.425%2c0-2.28333%2c0-3.425%2c0-2.28334%2c0-3.425V5h0V42.675q0%2c1.71249%2c0%2c3.425t0%2c3.425q0%2c1.71251%2c0%2c3.425.00014%2c1.7125%2c0%2c3.425-.00051%2c1.71249%2c0%2c3.425c.00127%2c1.14166.00477%2c2.28333%2c0%2c3.425s-.01781%2c2.28333%2c0%2c3.425.06644%2c2.28333%2c0%2c3.425a8.56233%2c8.56233%2c0%2c0%2c1-.81551%2c3.425c-.56754%2c1.14167-1.52111%2c2.28333-2.12031%2c3.425a15.2369%2c15.2369%2c0%2c0%2c0-1.14171%2c3.425A6.736%2c6.736%2c0%2c0%2c1%2c68.295%2c83.775c-1.14588%2c1.14166-3.0871%2c2.28333-4.24062%2c3.425a6.50918%2c6.50918%2c0%2c0%2c0-1.79411%2c3.425%2c5.43341%2c5.43341%2c0%2c0%2c1-1.79411%2c3.425%2c30.27461%2c30.27461%2c0%2c0%2c1-6.36094%2c3.425%2c42.085%2c42.085%2c0%2c0%2c0-6.68714%2c3.425c-1.56218%2c1.14166-2.09913%2c2.28333-3.42512%2c3.425s-3.441%2c2.28334-3.75132%2c3.425%2c1.18407%2c2.28333%2c2.93581%2c3.425a62.17484%2c62.17484%2c0%2c0%2c0%2c6.03474%2c3.425%2c38.70651%2c38.70651%2c0%2c0%2c1%2c6.19784%2c3.425c1.38525%2c1.14166%2c1.61708%2c2.28333%2c2.44651%2c3.425s2.25648%2c2.28334%2c3.262%2c3.425%2c1.58957%2c2.28333%2c2.77272%2c3.425%2c2.96542%2c2.28333%2c4.07752%2c3.425a33.06182%2c33.06182%2c0%2c0%2c1%2c2.44652%2c3.425c.89247%2c1.14168%2c2.2355%2c2.28334%2c2.93581%2c3.425A6.71946%2c6.71946%2c0%2c0%2c1%2c74.16667%2c142Z'/%3e %3cpath class='cls-4' d='M172.5%2c142q.00009-1.71249%2c0-3.425-.00017-1.71249%2c0-3.425.0006-1.71249%2c0-3.425c-.00147-1.14167-.00547-2.28334%2c0-3.425s.02042-2.28333%2c0-3.425-.0762-2.28333%2c0-3.425a9.41552%2c9.41552%2c0%2c0%2c1%2c.81551-3.425%2c31.18636%2c31.18636%2c0%2c0%2c1%2c2.12031-3.425c.73521-1.14167%2c1.35164-2.28334%2c1.95721-3.425a14.94819%2c14.94819%2c0%2c0%2c0%2c1.46791-3.425%2c6.26068%2c6.26068%2c0%2c0%2c0-.1631-3.425c-.37126-1.14166-1.05431-2.28333-.97861-3.425s.91015-2.28333%2c2.28342-3.425A34.80929%2c34.80929%2c0%2c0%2c1%2c185.385%2c94.05c2.097-1.14167%2c4.37891-2.28333%2c6.36094-3.425a13.51241%2c13.51241%2c0%2c0%2c0%2c4.40372-3.425%2c2.9951%2c2.9951%2c0%2c0%2c0-.1631-3.425c-.69968-1.14167-1.89606-2.28333-2.60961-3.425a26.54476%2c26.54476%2c0%2c0%2c1-1.46792-3.425%2c22.848%2c22.848%2c0%2c0%2c1-1.631-3.425%2c11.347%2c11.347%2c0%2c0%2c1%2c0-3.425%2c5.42365%2c5.42365%2c0%2c0%2c0-.81551-3.425%2c26.15115%2c26.15115%2c0%2c0%2c0-3.262-3.425%2c7.53107%2c7.53107%2c0%2c0%2c1-2.28341-3.425c-.23052-1.14167.21958-2.28334.1631-3.425a14.58786%2c14.58786%2c0%2c0%2c0-.9786-3.425%2c18.72525%2c18.72525%2c0%2c0%2c1-.65241-3.425%2c10.25033%2c10.25033%2c0%2c0%2c0-.8155-3.425%2c15.30344%2c15.30344%2c0%2c0%2c0-2.60962-3.425%2c26.9162%2c26.9162%2c0%2c0%2c1-2.93582-3.425%2c15.67918%2c15.67918%2c0%2c0%2c1-1.46791-3.425c-.41018-1.14167-.90513-2.28333-1.3048-3.425A14.78438%2c14.78438%2c0%2c0%2c1%2c172.5%2c28.975a27.70546%2c27.70546%2c0%2c0%2c1%2c0-3.425c.02986-1.14167.008-2.28334%2c0-3.425s-.00214-2.28333%2c0-3.425.00058-2.28334%2c0-3.425-.00015-2.28334%2c0-3.425%2c0-2.28334%2c0-3.425%2c0-2.28334%2c0-3.425h0q0%2c1.71249%2c0%2c3.425t0%2c3.425q.00024%2c1.71249%2c0%2c3.425-.00086%2c1.71249%2c0%2c3.425c.00215%2c1.14167.008%2c2.28333%2c0%2c3.425s-.02985%2c2.28333%2c0%2c3.425a27.7035%2c27.7035%2c0%2c0%2c1%2c0%2c3.425%2c14.78486%2c14.78486%2c0%2c0%2c1-.8155%2c3.425c-.39968%2c1.14167-.89462%2c2.28333-1.30481%2c3.425a15.67918%2c15.67918%2c0%2c0%2c1-1.46791%2c3.425%2c26.91608%2c26.91608%2c0%2c0%2c1-2.93581%2c3.425%2c15.30344%2c15.30344%2c0%2c0%2c0-2.60962%2c3.425%2c10.25035%2c10.25035%2c0%2c0%2c0-.81551%2c3.425%2c18.72606%2c18.72606%2c0%2c0%2c1-.6524%2c3.425%2c14.58786%2c14.58786%2c0%2c0%2c0-.9786%2c3.425c-.05649%2c1.14166.39361%2c2.28333.1631%2c3.425a7.531%2c7.531%2c0%2c0%2c1-2.28342%2c3.425%2c26.15181%2c26.15181%2c0%2c0%2c0-3.262%2c3.425%2c5.42357%2c5.42357%2c0%2c0%2c0-.8155%2c3.425%2c11.34732%2c11.34732%2c0%2c0%2c1%2c0%2c3.425%2c22.84812%2c22.84812%2c0%2c0%2c1-1.631%2c3.425%2c26.54467%2c26.54467%2c0%2c0%2c1-1.46791%2c3.425c-.71355%2c1.14167-1.90993%2c2.28333-2.60962%2c3.425a2.99512%2c2.99512%2c0%2c0%2c0-.1631%2c3.425%2c13.51247%2c13.51247%2c0%2c0%2c0%2c4.40373%2c3.425c1.982%2c1.14167%2c4.26394%2c2.28333%2c6.36094%2c3.425a34.80977%2c34.80977%2c0%2c0%2c1%2c5.38233%2c3.425c1.37326%2c1.14167%2c2.20771%2c2.28333%2c2.28341%2c3.425s-.60735%2c2.28333-.9786%2c3.425a6.26058%2c6.26058%2c0%2c0%2c0-.1631%2c3.425%2c14.94814%2c14.94814%2c0%2c0%2c0%2c1.4679%2c3.425c.60558%2c1.14166%2c1.222%2c2.28333%2c1.95721%2c3.425a31.185%2c31.185%2c0%2c0%2c1%2c2.12032%2c3.425%2c9.41529%2c9.41529%2c0%2c0%2c1%2c.8155%2c3.425c.07621%2c1.14168.02042%2c2.28334%2c0%2c3.425s-.00547%2c2.28333%2c0%2c3.425.00147%2c2.28333%2c0%2c3.425-.00039%2c2.28333%2c0%2c3.425.00012%2c2.28334%2c0%2c3.425S172.5%2c140.85834%2c172.5%2c142Z'/%3e %3cpath class='cls-5' d='M270.83334%2c142q.00017-1.71249%2c0-3.425-.00033-1.71249%2c0-3.425c.00076-1.14166.00284-2.28332%2c0-3.425s-.01059-2.28334%2c0-3.425.03951-2.28333%2c0-3.425a20.94874%2c20.94874%2c0%2c0%2c1%2c0-3.425c.14746-1.14166.55032-2.28333.8155-3.425a23.94361%2c23.94361%2c0%2c0%2c0%2c.48931-3.425c.09663-1.14167.16238-2.28334.1631-3.425s-.06363-2.28333-.1631-3.425a25.90856%2c25.90856%2c0%2c0%2c0-.48931-3.425c-.25522-1.14166-.631-2.28333-.8155-3.425a10.86926%2c10.86926%2c0%2c0%2c1%2c0-3.425c.17755-1.14167.52574-2.28334.8155-3.425a9.77528%2c9.77528%2c0%2c0%2c1%2c1.30481-3.425c.7837-1.14167%2c2.11975-2.28333%2c3.09892-3.425a22.866%2c22.866%2c0%2c0%2c0%2c2.28341-3.425c.682-1.14167%2c1.42358-2.28333%2c1.95721-3.425a10.68617%2c10.68617%2c0%2c0%2c0%2c.97861-3.425%2c12.00156%2c12.00156%2c0%2c0%2c1%2c.4893-3.425%2c8.7902%2c8.7902%2c0%2c0%2c1%2c2.93582-3.425c1.47818-1.14166%2c3.4338-2.28333%2c5.21923-3.425s3.40069-2.28333%2c3.75132-3.425-.56335-2.28334-.8155-3.425.15751-2.28334-.65241-3.425-2.83941-2.28333-3.91442-3.425-1.19554-2.28333-1.79411-3.425-1.67518-2.28334-2.28341-3.425-.7481-2.28334-1.46791-3.425-2.01956-2.28334-2.60962-3.425a10.18089%2c10.18089%2c0%2c0%2c1-.6524-3.425c-.182-1.14167-.66556-2.28333-.81551-3.425a18.91093%2c18.91093%2c0%2c0%2c0-.3262-3.425c-.36-1.14167-1.26358-2.28333-1.46791-3.425a7.38743%2c7.38743%2c0%2c0%2c1%2c.65241-3.425%2c31.13085%2c31.13085%2c0%2c0%2c0%2c.8155-3.425%2c22.0582%2c22.0582%2c0%2c0%2c0%2c.48931-3.425%2c6.9892%2c6.9892%2c0%2c0%2c0-.65241-3.425%2c15.01485%2c15.01485%2c0%2c0%2c0-2.60961-3.425c-1.07573-1.14167-2.25043-2.28334-3.42512-3.425h-2.60962c-1.17469%2c1.14166-2.34939%2c2.28333-3.42512%2c3.425a15.01456%2c15.01456%2c0%2c0%2c0-2.60961%2c3.425%2c6.98909%2c6.98909%2c0%2c0%2c0-.65241%2c3.425%2c22.057%2c22.057%2c0%2c0%2c0%2c.4893%2c3.425%2c31.13091%2c31.13091%2c0%2c0%2c0%2c.81551%2c3.425%2c7.38742%2c7.38742%2c0%2c0%2c1%2c.6524%2c3.425c-.20432%2c1.14167-1.10794%2c2.28333-1.46791%2c3.425a18.91093%2c18.91093%2c0%2c0%2c0-.3262%2c3.425c-.14994%2c1.14167-.63353%2c2.28333-.8155%2c3.425a10.18066%2c10.18066%2c0%2c0%2c1-.65241%2c3.425c-.59006%2c1.14166-1.8898%2c2.28333-2.60961%2c3.425s-.85967%2c2.28333-1.46791%2c3.425-1.68485%2c2.28333-2.28341%2c3.425-.7191%2c2.28333-1.79411%2c3.425-3.10451%2c2.28333-3.91443%2c3.425-.40024%2c2.28333-.6524%2c3.425-1.16614%2c2.28333-.81551%2c3.425%2c1.96589%2c2.28333%2c3.75133%2c3.425%2c3.74105%2c2.28333%2c5.21923%2c3.425a8.79024%2c8.79024%2c0%2c0%2c1%2c2.93581%2c3.425%2c12.00193%2c12.00193%2c0%2c0%2c1%2c.48931%2c3.425%2c10.68615%2c10.68615%2c0%2c0%2c0%2c.9786%2c3.425c.53363%2c1.14167%2c1.27526%2c2.28333%2c1.95721%2c3.425a22.86613%2c22.86613%2c0%2c0%2c0%2c2.28342%2c3.425c.97917%2c1.14168%2c2.31522%2c2.28334%2c3.09892%2c3.425a9.77525%2c9.77525%2c0%2c0%2c1%2c1.3048%2c3.425c.28977%2c1.14166.638%2c2.28333.81551%2c3.425a10.86926%2c10.86926%2c0%2c0%2c1%2c0%2c3.425c-.18446%2c1.14166-.56029%2c2.28333-.81551%2c3.425a25.91019%2c25.91019%2c0%2c0%2c0-.4893%2c3.425c-.09947%2c1.14167-.16381%2c2.28333-.1631%2c3.425s.06647%2c2.28333.1631%2c3.425a23.94358%2c23.94358%2c0%2c0%2c0%2c.4893%2c3.425c.26518%2c1.14166.668%2c2.28333.81551%2c3.425a20.94874%2c20.94874%2c0%2c0%2c1%2c0%2c3.425c-.03951%2c1.14167-.01059%2c2.28333%2c0%2c3.425s.00284%2c2.28333%2c0%2c3.425-.00077%2c2.28333%2c0%2c3.425.00022%2c2.28334%2c0%2c3.425S270.83323%2c140.85834%2c270.83334%2c142Z'/%3e %3ctext class='cls-2' transform='translate(71.31506 159.01062)'%3ea%3c/text%3e %3ctext class='cls-2' transform='translate(169.98578 159.01062)'%3eb%3c/text%3e %3ctext class='cls-2' transform='translate(268.65417 159.01062)'%3ec%3c/text%3e %3cline class='cls-1' x1='25' y1='5.5' x2='25.5' y2='142.5'/%3e%3c/svg%3e\";\n\nconst metadata$u = {\n  name: 'Violin plot',\n  id: 'rawgraphs.violinplot',\n  thumbnail: img$X,\n  icon: img$W,\n  categories: ['distributions'],\n  description: 'It is useful to show the distribution of a numeric dimension. The shape width represents the amount of items with the same value in the dataset.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/violinplot',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-violin-plot/'\n};\n\nconst dimensions$u = [{\n  id: 'value',\n  name: 'Y Axis',\n  validTypes: ['number'],\n  required: true\n}, {\n  id: 'group',\n  name: 'Groups',\n  validTypes: ['number', 'date', 'string'],\n  required: false\n}, {\n  id: 'color',\n  name: 'Color',\n  operation: 'get',\n  validTypes: ['number', 'string', 'date'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}];\n\nconst mapData$u = function (data, mapping, dataTypes, dimensions) {\n  // define aggregators\n  // you should provide the dimension name (defined in dimensions.js)\n  // and pass mapping, dataTypes, and dimensions.\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'group' in mapping ? null : mapping.group = {\n    value: undefined\n  };\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  }; // we will use rollup to populate a flat array of objects\n  // that will be passed to the render\n\n  let results = [];\n  rollups(data, v => {\n    v.forEach(d => {\n      const item = {\n        group: d[mapping.group.value],\n        value: d[mapping.value.value],\n        color: colorAggregator(v.map(e => e[mapping.color.value]))\n      };\n      results.push(item);\n    });\n    return v;\n  }, d => d[mapping.group.value] // groups grouping\n  );\n  return results;\n};\n\nfunction render$u(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard options\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // charts options\n    padding,\n    sortGroupsBy,\n    binsNumber,\n    // how many 'bins' are available\n    interpolation,\n    showDots,\n    dotsDiameter,\n    //legend\n    showLegend,\n    legendWidth,\n    // color dimension option, defined in visualOptions.js\n    colorScale\n  } = visualOptions; // Margin convention\n\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; //get vertical scale\n\n  const yScale = scaleLinear().domain(extent(data, d => d.value)).nice().range([chartHeight, 0]); // prepare the data\n\n  const nestedData = rollups(data, v => ({\n    group: v[0].group,\n    color: v[0].color,\n    bins: bin().domain(yScale.domain()).thresholds(binsNumber)(v.map(e => e.value)),\n    totalValue: sum(v, d => d.value)\n  }), d => d.group); // sort series\n\n  nestedData.sort((a, b) => {\n    return {\n      valueDescending: descending(a[1].totalValue, b[1].totalValue),\n      valueAscending: ascending(a[1].totalValue, b[1].totalValue),\n      name: ascending(a[0], b[0])\n    }[sortGroupsBy];\n  });\n  console.log(nestedData); // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'viz');\n  const groupsDomain = nestedData.map(d => d[0]);\n  const xScale = scaleBand().range([0, chartWidth]).domain(groupsDomain).padding(padding / (chartWidth / groupsDomain.length)); // convert padding from pixel to percentage @TODO: not working, check\n  // get the max value in the bins\n\n  const maxValue = max(nestedData.map(d => d[1].bins.map(e => e.length)).flat(1)); // compute the scale used to draw shapes\n\n  const shapeScale = scaleLinear().range([0, xScale.bandwidth()]).domain([-maxValue, maxValue]); // append scales\n\n  svg.append('g').attr('id', 'y axis').call(axisLeft(yScale)).append('text').attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').text(mapping['value'].value).styles(styles.axisLabel);\n  svg.append('g').attr('id', 'x axis').attr('transform', 'translate(0,' + chartHeight + ')').call(axisBottom(xScale)).append('text').attr('x', chartWidth).attr('dy', -5).attr('text-anchor', 'end').text(mapping['group'].value).styles(styles.axisLabel);\n  let shapes = svg.append('g').attr('id', 'shapes').selectAll('g').data(nestedData).join('g').attr('id', d => d[0]).attr('transform', d => 'translate(' + xScale(d[0]) + ' ,0)').style('fill', d => colorScale(d[1].color));\n  shapes.append('path').datum(d => {\n    const delta = d[1].bins[0].x1 - d[1].bins[0].x0;\n    const completeShape = [...d[1].bins]; // make a copy\n    //add a first and last element to be sure to 'close' the path with a 0 value\n    //@TODO could be maybe improved, not really nice\n\n    completeShape.unshift([]);\n    completeShape[0].x0 = d[1].bins[0].x0 - delta;\n    completeShape[0].x1 = d[1].bins[0].x0;\n    completeShape.push([]);\n    completeShape[completeShape.length - 1].x0 = completeShape[completeShape.length - 2].x0 + delta;\n    completeShape[completeShape.length - 1].x1 = completeShape[completeShape.length - 2].x0 + delta * 2;\n    return completeShape;\n  }) // So now we are working bin per bin\n  .style('stroke', 'none').attr('teest', d => {// console.log(d)\n  }).attr('d', area().x0(d => shapeScale(-d.length)).x1(d => shapeScale(d.length)).y(d => yScale((d.x0 + d.x1) / 2)).curve(d3[interpolation]));\n\n  if (showDots) {\n    shapes.selectAll('circle').data(d => // merge down bins keeping x position\n    d[1].bins.map((bin, index) => bin.map(elm => ({\n      value: elm,\n      index: index,\n      length: bin.length,\n      x0: bin.x0,\n      x1: bin.x1\n    }))).flat(1)).join('circle').attr('cy', d => yScale(d.value)).attr('cx', xScale.bandwidth() / 2).attr('r', dotsDiameter / 2).attr('fill', 'black');\n  }\n\n  if (showLegend) {\n    // svg width is adjusted automatically because of the \"container:height\" annotation in legendWidth visual option\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$u = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 30,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  padding: {\n    type: 'number',\n    label: 'Padding',\n    default: 10,\n    group: 'chart'\n  },\n  binsNumber: {\n    type: 'number',\n    label: 'Number of bins',\n    default: 10,\n    group: 'chart'\n  },\n  sortGroupsBy: {\n    type: 'text',\n    label: 'Sort violins by',\n    group: 'chart',\n    options: [{\n      label: 'Total value (descending)',\n      value: 'valueDescending'\n    }, {\n      label: 'Total value (ascending)',\n      value: 'valueAscending'\n    }, {\n      label: 'Name',\n      value: 'name'\n    }, {\n      label: 'Original',\n      value: 'none'\n    }],\n    default: 'valueDescending'\n  },\n  interpolation: {\n    type: 'text',\n    label: 'Curve type',\n    default: 'curveBumpY',\n    options: [{\n      label: 'Basis',\n      value: 'curveBasis'\n    }, {\n      label: 'Bump',\n      value: 'curveBumpY'\n    }, {\n      label: 'Cardinal',\n      value: 'curveCardinal'\n    }, {\n      label: 'CatmullRom',\n      value: 'curveCatmullRom'\n    }, {\n      label: 'Linear',\n      value: 'curveLinear'\n    }, {\n      label: 'Monotone Y',\n      value: 'curveMonotoneY'\n    }, {\n      label: 'Natural',\n      value: 'curveNatural'\n    }, {\n      label: 'Step',\n      value: 'curveStep'\n    }, {\n      label: 'Step After',\n      value: 'curveStepAfter'\n    }, {\n      label: 'Step Before',\n      value: 'curveStepBefore'\n    }],\n    group: 'chart'\n  },\n  showDots: {\n    type: 'boolean',\n    label: 'Show dots on data values',\n    default: false,\n    group: 'chart'\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    disabled: {\n      showDots: false\n    },\n    default: 2,\n    group: 'chart'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'schemeCategory10'\n    },\n    group: 'colors'\n  }\n};\n\nvar violinplot = {\n  metadata: metadata$u,\n  dimensions: dimensions$u,\n  mapData: mapData$u,\n  render: render$u,\n  visualOptions: visualOptions$u,\n  styles: styles$1\n};\n\nvar img$Y = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cpolygon class='cls-1' points='25.65 29.708 33.838 33.541 35.881 27.129 25.356 21.205 25.476 24.666 25.476 24.666 25.65 29.708'/%3e %3cpolygon class='cls-2' points='34.57 48 37.663 37.539 37.078 37.266 37.078 37.266 34.47 36.045 34.47 36.046 24.745 31.493 22.25 33.081 24.727 48 34.57 48'/%3e %3cpolygon class='cls-1' points='37.927 35.454 48 40.169 48 22.979 36.884 27.273 34.75 33.968 35.318 34.234 35.318 34.234 37.926 35.455 37.927 35.454'/%3e %3cpolygon class='cls-1' points='8 39.776 21.921 30.919 21.921 30.919 23.653 29.817 23.455 24.112 8 22.684 8 39.776'/%3e %3cpolygon class='cls-2' points='21.334 33.664 21.308 33.681 21.307 33.68 8 42.147 8 48 23.713 48 21.334 33.664'/%3e %3cpolygon class='cls-1' points='25.315 20.035 36.52 26.341 48 21.907 48 8 24.899 8 25.315 20.035'/%3e %3cpolygon class='cls-2' points='38.579 37.968 35.612 48 48 48 48 42.378 38.579 37.968'/%3e %3cpolygon class='cls-1' points='23.42 23.104 23.407 22.736 23.407 22.736 22.898 8 8 8 8 21.68 23.42 23.104'/%3e%3c/svg%3e\";\n\nvar img$Z = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-2 %7b fill: %23a0d9a3%3b %7d .cls-10%2c .cls-11%2c .cls-12%2c .cls-2%2c .cls-3%2c .cls-4%2c .cls-5%2c .cls-6%2c .cls-7%2c .cls-8%2c .cls-9 %7b stroke: white%3b %7d .cls-3 %7b fill: %234ba0b1%3b %7d .cls-4 %7b fill: %235e4fa2%3b %7d .cls-5 %7b fill: %239e0142%3b %7d .cls-6 %7b fill: %23e1524a%3b %7d .cls-7 %7b fill: %23fba35e%3b %7d .cls-8 %7b fill: %23fee89a%3b %7d .cls-9 %7b fill: %23ebf7a6%3b %7d .cls-10%2c .cls-11%2c .cls-12 %7b fill: none%3b %7d .cls-10 %7b stroke-width: 2px%3b %7d .cls-11 %7b stroke-width: 3px%3b %7d .cls-12 %7b stroke-width: 4px%3b %7d .cls-13%2c .cls-14%2c .cls-15 %7b isolation: isolate%3b %7d .cls-14%2c .cls-15 %7b font-size: 10px%3b font-family: Helvetica%3b %7d .cls-15 %7b letter-spacing: -0.03662em%3b %7d %3c/style%3e %3c/defs%3e %3crect id='backgorund' class='cls-1' width='320' height='160'/%3e %3cg id='viz'%3e %3cg id='cells'%3e %3cpath class='cls-2' d='M217.91072%2c0l3.25015%2c46.58606L320%2c20.35637V0Z'/%3e %3cpath id='F' class='cls-3' d='M249.89369%2c86.99118l-4.321-46.88346-24.41181%2c6.47834%2c2.62427%2c37.615Z'/%3e %3cpath class='cls-3' d='M245.57268%2c40.10772l4.321%2c46.88346L320%2c94.48325V20.35637Z'/%3e %3cpath id='U' class='cls-4' d='M229.07338%2c160h49.51979L265.483%2c109.02322l-39.69063%2c3.949Z'/%3e %3cpath id='V' class='cls-4' d='M225.7924%2c112.97219l39.69063-3.949%2c10.362-19.25869L223.78514%2c84.201Z'/%3e %3cpath class='cls-4' d='M275.845%2c89.76453l-10.362%2c19.25869L278.59317%2c160H320V94.48325Z'/%3e %3cpath id='N' class='cls-5' d='M153.07951%2c0l5.271%2c30.11477L218.20277%2c4.186%2c217.91072%2c0Z'/%3e %3cpath class='cls-5' d='M121.29969%2c46.16569l37.0508-16.05092L153.07951%2c0H102.5489L97.10481%2c36.20037Z'/%3e %3cpath id='O' class='cls-6' d='M121.29969%2c46.16569l3.807%2c15.48685L221.84%2c56.31982%2c218.20277%2c4.186Z'/%3e %3cpath class='cls-6' d='M229.07338%2c160%2c221.84%2c56.31982l-96.73333%2c5.33272L149.28221%2c160Z'/%3e %3cpath id='P' class='cls-7' d='M86.77927%2c104.86l48.50615-1.79961L121.29969%2c46.16569%2c97.10481%2c36.20037Z'/%3e %3cpath class='cls-7' d='M78.48689%2c160h70.79532l-13.99679-56.93965L86.77927%2c104.86Z'/%3e %3cpath id='Q' class='cls-8' d='M101.26022%2c0H31.28686L66.53431%2c70.5893%2c90.29607%2c72.906Z'/%3e %3cpath class='cls-8' d='M67.823%2c70.5893%2c32.57554%2c0H0V63.97677Z'/%3e %3cpath class='cls-9' d='M0%2c137.739l66.337-11.16227%2c5.75427-55.57128L0%2c63.97677Z'/%3e %3cpath id='R' class='cls-9' d='M72.09129%2c71.00545%2c66.337%2c126.57673l15.17877%2c13.28263L91.58475%2c72.906Z'/%3e %3cpath id='S' class='cls-9' d='M78.48689%2c160l3.0289-20.14064L66.337%2c126.57673%2c0%2c137.739V160Z'/%3e %3cpath id='I' class='cls-10' d='M221.16087%2c46.58606%2c320%2c20.35637V0H217.91072Z'/%3e %3cpath id='L' class='cls-10' d='M320%2c20.35637%2c221.16087%2c46.58606l2.62427%2c37.615L320%2c94.48325Z'/%3e %3cpath id='M' class='cls-10' d='M320%2c160V94.48325L223.78514%2c84.201%2c229.07338%2c160Z'/%3e %3cpath id='D' class='cls-10' d='M217.91072%2c0H102.5489L97.10481%2c36.20037l24.19488%2c9.96532L218.20277%2c4.186Z'/%3e %3cpath id='E' class='cls-10' d='M218.20277%2c4.186%2c121.29969%2c46.16569%2c149.28221%2c160h79.79117Z'/%3e %3cpath id='F-2' data-name='F' class='cls-10' d='M149.28221%2c160%2c121.29969%2c46.16569%2c97.10481%2c36.20037%2c78.48689%2c160Z'/%3e %3cpath id='G' class='cls-10' d='M0%2c0V63.97677L91.58475%2c72.906%2c102.5489%2c0Z'/%3e %3cpath id='H' class='cls-10' d='M91.58475%2c72.906%2c0%2c63.97677V160H78.48689Z'/%3e %3cpath id='A' class='cls-11' d='M320%2c0H217.91072l11.16266%2c160H320Z'/%3e %3cpath id='B' class='cls-11' d='M102.5489%2c0l-24.062%2c160H229.07338L217.91072%2c0Z'/%3e %3cpath id='C' class='cls-11' d='M78.48689%2c160%2c102.5489%2c0H0V160Z'/%3e %3cpath class='cls-12' d='M0%2c0V160H320V0Z'/%3e %3c/g%3e %3cg id='labels'%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(259.50024 20.35635)'%3eI%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-15' transform='translate(231.99979 69.25293)'%3eL%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-15' transform='translate(280.76285 63.97699)'%3eL%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(245.84453 139.85962)'%3eM%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(242.52585 103.06012)'%3eM%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(289.59265 131.5304)'%3eM%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(170.00024 15.05737)'%3eD%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(125.10663 23.29276)'%3eD%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(176.81143 46.16534)'%3eE%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(181.91458 107.41504)'%3eE%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(104.93845 80.00031)'%3eF%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(110.49994 134.51129)'%3eF%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(67.82294 30.11441)'%3eG%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(23.29321 42.90967)'%3eG%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(31.28674 100.85803)'%3eH%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(73.28812 104.86041)'%3eH%3c/text%3e %3c/g%3e %3cg class='cls-13'%3e %3ctext class='cls-14' transform='translate(43.99997 149.49066)'%3eH%3c/text%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$v = {\n  name: 'Treemap (Voronoi)',\n  id: 'rawgraphs.voronoitreemap',\n  thumbnail: img$Z,\n  icon: img$Y,\n  categories: ['hierarchies', 'proportions'],\n  description: 'It displays hierarchically structured data and a related quantitative dimension. It is composed of an area divided into small cells, representing the last level of the tree structure, computed using the Voronoi tessellation. The cells size depends on the quantitative dimension.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/treemap',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-treemap/'\n};\n\nconst dimensions$v = [{\n  id: 'hierarchy',\n  name: 'Hierarchy',\n  validTypes: ['number', 'date', 'string'],\n  required: true,\n  multiple: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: {\n    number: 'sum',\n    string: 'csvDistinct',\n    date: 'csvDistinct'\n  }\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true,\n  aggregation: true,\n  aggregationDefault: 'csvDistinct'\n}];\n\nconst mapData$v = function (data, mapping, dataTypes, dimensions) {\n  const colorAggregator = getDimensionAggregator('color', mapping, dataTypes, dimensions);\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const labelAggregators = getDimensionAggregator('label', mapping, dataTypes, dimensions); // add the non-compulsory dimensions.\n\n  'color' in mapping ? null : mapping.color = {\n    value: undefined\n  };\n  'size' in mapping ? null : mapping.size = {\n    value: undefined\n  };\n  'label' in mapping ? null : mapping.label = {\n    value: undefined\n  };\n  const results = [];\n  rollups(data, v => {\n    const item = {\n      hierarchy: new Map(mapping.hierarchy.value.map(d => [d, v[0][d]])),\n      //get the first one since it's grouped\n      size: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : v.length,\n      color: mapping.color.value ? colorAggregator(v.map(d => d[mapping.color.value])) : 'cells color',\n      label: mapping.label.value ? mapping.label.value.map((label, i) => {\n        return labelAggregators[i](v.map(d => d[label]));\n      }) : undefined // create array of strings\n\n    };\n    results.push(item);\n    return item;\n  }, ...mapping.hierarchy.value.map(level => d => d[level]) // create a grouping for each level of the hierarchy\n  );\n  return results;\n};\n\n/*\nCredits:\nInspired by https://observablehq.com/@d3/treemap\n*/\n\nfunction render$v(svgNode, data, visualOptions, mapping, originalData, styles) {\n  const {\n    // artboard\n    width,\n    height,\n    background,\n    // margins\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    // legend\n    showLegend,\n    legendWidth,\n    // colors\n    colorScale,\n    // chart options\n    seed,\n    padding,\n    clipToPolygon,\n    rotation,\n    edges,\n    isRegular,\n    // labels\n    showLabelsOutline,\n    showHierarchyLabels,\n    labelStyles\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // create the hierarchical structure\n\n  const nest = rollup(data, v => v[0], ...mapping.hierarchy.value.map(level => d => d.hierarchy.get(level)));\n  const hierarchy$1 = hierarchy(nest).sum(d => d[1] instanceof Map ? 0 : d[1].size); // since maps have a .size porperty in native javascript, sum only values for leaves, and not for Maps\n  // sets the pseudorandom number generator which is used when randomness is required\n  // this will produce repeatible repeatable results\n\n  const random = randomNormal.source(randomLcg(seed))(0, 1);\n  let voronoiTreemap$1 = voronoiTreemap().prng(random);\n\n  if (clipToPolygon) {\n    // create the points\n    let points = range(edges).map(i => {\n      const rad = rotation * Math.PI / 180 + i / edges * 2 * Math.PI;\n      return [Math.cos(rad), Math.sin(rad)];\n    }); //calculatet scales\n\n    let hscale = scaleLinear().domain(extent(points, d => d[0])).range([-chartWidth / 2, chartWidth / 2]);\n    let vscale = scaleLinear().domain(extent(points, d => d[1])).range([-chartHeight / 2, chartHeight / 2]); // create the shape\n\n    let clipShape = points.map(d => {\n      return isRegular ? chartHeight > chartWidth ? // if user asks for a regular polygon,\n      // use the scale of tthe shortest dimension\n      [hscale(d[0]), hscale(d[1])] : [vscale(d[0]), vscale(d[1])] : // else use the two separate scales\n      [hscale(d[0]), vscale(d[1])];\n    }); // use clipping\n\n    voronoiTreemap$1.clip(clipShape);\n  } else {\n    voronoiTreemap$1.size([chartWidth, chartHeight]);\n  } // compute the tesselation\n\n\n  voronoiTreemap$1(hierarchy$1); // get nodes\n\n  let allNodes = hierarchy$1.descendants().sort((a, b) => ascending(a.height, b.height)); // @TODO understand how to place labels for hierarchical cells\n  // below the old code for normal treemaps\n  // if (showHierarchyLabels) {\n  //   treemap.paddingTop(12)\n  // }\n  // add background\n\n  select(svgNode).append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('id', 'viz') // translate to the center\n  .attr('transform', clipToPolygon ? 'translate(' + (margin.left + chartWidth / 2) + ',' + (margin.top + chartHeight / 2) + ')' : 'translate(' + margin.left + ',' + margin.top + ')'); // draw cells\n\n  svg.append('g').attr('id', 'cells').selectAll('path').data(allNodes).enter().append('path') // d.polygon is the computed Vorono cell encoding the relative weight of underlying original data\n  .attr('d', d => line()(d.polygon) + 'z').attr('fill', d => d.height > 0 ? 'none' : colorScale(d.data[1].color)).attr('stroke', background).attr('stroke-width', d => (d.height + 1) * padding).attr('id', d => d.data[0]); // draw labels\n\n  let labels = svg.append('g').attr('id', 'labels').selectAll('text').data(allNodes.filter(d => d.height === 0)).enter().append('text').attr('text-anchor', 'middle').attr('dominant-baseline', 'text-before-edge');\n  labels.selectAll('tspan').data((d, i, a) => {\n    return Array.isArray(d.data[1].label) ? d.data[1].label : [d.data[1].label];\n  }).join('tspan').attr('x', 3).attr('y', (d, i) => i * 1.1 + 0.2 + 'em').text((d, i) => {\n    if (d && mapping.label.dataType[i].type === 'date') {\n      return timeFormat(dateFormats[mapping.label.dataType[i].dateFormat])(d);\n    } else {\n      return d;\n    }\n  }).styles((d, i) => styles[labelStyles[i]]); // align labels to the center of polygon\n\n  labels.call(sel => {\n    return sel.attr('transform', d => {\n      const height = sel.node().getBBox().height;\n      return 'translate(' + d.polygon.site.x + ',' + (d.polygon.site.y - height / 2) + ')';\n    });\n  });\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    selectAll('.txt').styles(styles.labelOutline);\n  }\n\n  if (showLegend) {\n    const legendLayer = select(svgNode).append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$v = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 10,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 10,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  seed: {\n    type: 'number',\n    label: 'Seed for random computations',\n    default: 0,\n    // step: 0.1,\n    // min: 0,\n    // max: 1,\n    group: 'chart'\n  },\n  padding: {\n    type: 'number',\n    label: 'Padding',\n    default: 2,\n    group: 'chart'\n  },\n  clipToPolygon: {\n    type: 'boolean',\n    label: 'Clip to polygon',\n    default: true,\n    group: 'chart'\n  },\n  edges: {\n    type: 'number',\n    label: 'Polygon edges',\n    default: 3,\n    min: 3,\n    group: 'chart',\n    disabled: {\n      clipToPolygon: false\n    }\n  },\n  rotation: {\n    type: 'number',\n    label: 'Polygon rotation',\n    default: 0,\n    min: 0,\n    max: 360,\n    group: 'chart',\n    disabled: {\n      clipToPolygon: false\n    }\n  },\n  isRegular: {\n    type: 'boolean',\n    label: 'Regular polygon',\n    default: true,\n    disabled: {\n      clipToPolygon: false\n    },\n    group: 'chart'\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  },\n  showHierarchyLabels: {\n    type: 'boolean',\n    label: 'Show hierarchy labels',\n    default: false,\n    group: 'labels'\n  }\n};\n\nvar voronoitreemap = {\n  metadata: metadata$v,\n  dimensions: dimensions$v,\n  mapData: mapData$v,\n  render: render$v,\n  visualOptions: visualOptions$v,\n  styles: styles$1\n};\n\nvar img$_ = \"data:image/svg+xml,%3csvg id='rawgraphs-icons' xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %2395e5c0%3b %7d .cls-2 %7b fill: %2306c26c%3b %7d %3c/style%3e %3c/defs%3e %3cg id='secundary'%3e %3cpath class='cls-1' d='M25.25%2c11H11v8.57l8.2656-.5908ZM18%2c14a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c18%2c14Z'/%3e %3cpath class='cls-1' d='M23.5752%2c23.667l-4.2188-3.6914L11%2c20.5732V33.5518L19.5889%2c37.62ZM19%2c26a1%2c1%2c0%2c1%2c1%2c1%2c1A1%2c1%2c0%2c0%2c1%2c19%2c26Z'/%3e %3cpath class='cls-1' d='M33.8789%2c30.4365%2c30.0166%2c24H24.52L20.4717%2c38.1689%2c23.79%2c41.292l9.7657-8.2627ZM26%2c29a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c26%2c29Z'/%3e %3cpath class='cls-1' d='M24.3076%2c42.1641%2c24.7275%2c45H45V38.8223L34.1084%2c33.8711ZM37%2c40a1%2c1%2c0%2c1%2c1-1%2c1A1%2c1%2c0%2c0%2c1%2c37%2c40Z'/%3e %3cpath class='cls-1' d='M34.5693%2c32.9824%2c45%2c37.7236V23L34.8662%2c30.6ZM42%2c30a1%2c1%2c0%2c1%2c1-1%2c1A1%2c1%2c0%2c0%2c1%2c42%2c30Z'/%3e %3c/g%3e %3cg id='primary'%3e %3cpath class='cls-2' d='M19.6221%2c38.7422%2c11%2c34.6582V45H23.7168l-.4131-2.793ZM13%2c44a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c13%2c44Z'/%3e %3cpath class='cls-2' d='M24.33%2c23h5.6308l4.4219-11.0527L33.9834%2c11H26.5l-6.2939%2c8.3906ZM26%2c18a1%2c1%2c0%2c1%2c1-1%2c1A1%2c1%2c0%2c0%2c1%2c26%2c18Z'/%3e %3cpath class='cls-2' d='M30.8564%2c23.4551l3.6836%2c6.14L45%2c21.75V20.125l-9.8555-7.3916ZM36%2c22a1%2c1%2c0%2c1%2c1-1%2c1A1%2c1%2c0%2c0%2c1%2c36%2c22Z'/%3e %3cpath class='cls-2' d='M35.0684%2c11l.2627.624L45%2c18.875V11ZM43%2c14a1%2c1%2c0%2c1%2c1%2c1-1A1%2c1%2c0%2c0%2c1%2c43%2c14Z'/%3e %3cpolygon class='cls-2' points='46.305 46.805 44.865 46.805 46.061 48 8 48 8 9.939 9.195 11.135 9.195 9.695 7.5 8 5.805 9.695 5.805 11.135 7 9.939 7 49 46.061 49 44.865 50.195 46.305 50.195 48 48.5 46.305 46.805'/%3e %3c/g%3e%3c/svg%3e\";\n\nvar img$$ = \"data:image/svg+xml,%3csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' width='320' height='160' viewBox='0 0 320 160'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b %7d .cls-2 %7b fill: %23e0f3a1%3b %7d .cls-3 %7b fill: %2369bda9%3b %7d .cls-4 %7b fill: %23fedd8d%3b %7d .cls-5 %7b fill: %23f0704a%3b %7d .cls-6 %7b fill: %235e4fa2%3b %7d .cls-7 %7b fill: %239e0142%3b %7d .cls-8 %7b fill: none%3b stroke: black%3b %7d .cls-9 %7b isolation: isolate%3b font-size: 10px%3b font-family: Helvetica%3b %7d %3c/style%3e %3c/defs%3e %3cg%3e %3crect id='background' class='cls-1' width='320' height='160'/%3e %3cg id='visualization'%3e %3cg id='cells'%3e %3cpath class='cls-2' d='M319%2c1V54.4412L267.5993%2c18.1583%2c260.1852%2c1Z'/%3e %3cpath class='cls-3' d='M145.007%2c68.9414l7.4162%2c19.3961L90.7516%2c136.3044%2c81.3991%2c82.74l49.3273-19.731Z'/%3e %3cpath class='cls-2' d='M20%2c144V111.25L79.7192%2c81.39l1.68%2c1.35%2c9.3525%2c53.564L89.2857%2c144Z'/%3e %3cpath class='cls-4' d='M20%2c5.5484l41.8217%2c44.52-.3723%2c5.36L20%2c72.7791Z'/%3e %3cpath class='cls-3' d='M121.6667%2c1l-2.0941%2c43.9749L82.8113%2c27.3294%2c88.49%2c1Z'/%3e %3cpath class='cls-5' d='M285.6471%2c144l1.2734-9.2782L319%2c119.5263V144Z'/%3e %3cpath class='cls-5' d='M130.7264%2c63.0094%2c81.3991%2c82.74l-1.68-1.35-18.27-25.9623.3723-5.36%2c20.99-22.7388%2c36.7613%2c17.6455%2c8.07%2c11.0965Z'/%3e %3cpath class='cls-5' d='M200.2947%2c41.1884%2c251.2%2c1h8.9852l7.4141%2c17.1583-25.0737%2c70.52-17.4634%2c6.5488Z'/%3e %3cpath class='cls-2' d='M89.2857%2c144l1.4659-7.6956%2c61.6716-47.9669%2c46.8611%2c41.5561L198.72%2c144Z'/%3e %3cpath class='cls-6' d='M242.5256%2c88.6779l33.4816%2c7.8472%2c10.9133%2c38.1967L285.6471%2c144H198.72l.5643-14.1064%2c25.7779-34.6669Z'/%3e %3cpath class='cls-6' d='M319%2c74.2019v45.3244l-32.0795%2c15.1955L276.0072%2c96.5251Z'/%3e %3cpath class='cls-5' d='M165.9153%2c1%2c177.82%2c34.4459%2c145.007%2c68.9414l-14.2806-5.932-3.0835-6.938L146%2c1Z'/%3e %3cpath class='cls-3' d='M20%2c72.7791l41.4494-17.351L79.7192%2c81.39%2c20%2c111.25Z'/%3e %3cpath class='cls-6' d='M146%2c1%2c127.6429%2c56.0714l-8.07-11.0965L121.6667%2c1Z'/%3e %3cpath class='cls-4' d='M242.5256%2c88.6779l25.0737-70.52L319%2c54.4412V74.2019L276.0072%2c96.5251Z'/%3e %3cpath class='cls-7' d='M20%2c1H88.49L82.8113%2c27.3294l-20.99%2c22.7388L20%2c5.5484Z'/%3e %3cpath class='cls-4' d='M200.2947%2c41.1884l24.7675%2c54.0383-25.7779%2c34.6669L152.4232%2c88.3375%2c145.007%2c68.9414%2c177.82%2c34.4459Z'/%3e %3cpath class='cls-4' d='M251.2%2c1%2c200.2947%2c41.1884%2c177.82%2c34.4459%2c165.9153%2c1Z'/%3e %3c/g%3e %3cg%3e %3ccircle cx='313' cy='12' r='2'/%3e %3ccircle cx='116' cy='95' r='2'/%3e %3ccircle cx='53' cy='106' r='2'/%3e %3ccircle cx='26' cy='45' r='2'/%3e %3ccircle cx='110' cy='25' r='2'/%3e %3ccircle cx='313' cy='134' r='2'/%3e %3ccircle cx='98' cy='50' r='2'/%3e %3ccircle cx='232' cy='47' r='2'/%3e %3ccircle cx='137' cy='122' r='2'/%3e %3ccircle cx='262' cy='127' r='2'/%3e %3ccircle cx='304' cy='115' r='2'/%3e %3ccircle cx='143' cy='30' r='2'/%3e %3ccircle cx='44' cy='88' r='2'/%3e %3ccircle cx='131' cy='26' r='2'/%3e %3ccircle cx='277' cy='63' r='2'/%3e %3ccircle cx='59' cy='14' r='2'/%3e %3ccircle cx='184' cy='69' r='2'/%3e %3ccircle cx='202' cy='9' r='2'/%3e %3c/g%3e %3cg id='axis'%3e %3cg%3e %3cpath class='cls-8' d='M20.5%2c150v-5.5h299V150'/%3e %3cg%3e %3cline class='cls-8' x1='20.5' y1='144' x2='20.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(17.7192 160.1)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='50.5' y1='144' x2='50.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(44.9385 160.1)'%3e10%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='80.5' y1='144' x2='80.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(74.9385 160.1)'%3e20%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='110.5' y1='144' x2='110.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(104.9385 160.1)'%3e30%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='140.5' y1='144' x2='140.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(134.9385 160.1)'%3e40%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='170.5' y1='144' x2='170.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(164.9385 160.1)'%3e50%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='199.5' y1='144' x2='199.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(193.9385 160.1)'%3e60%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='229.5' y1='144' x2='229.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(223.9385 160.1)'%3e70%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='259.5' y1='144' x2='259.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(253.9385 160.1)'%3e80%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='289.5' y1='144' x2='289.5' y2='150'/%3e %3ctext class='cls-9' transform='translate(283.9385 160.1)'%3e90%3c/text%3e %3c/g%3e %3cline class='cls-8' x1='319.5' y1='144' x2='319.5' y2='150'/%3e %3c/g%3e %3cg%3e %3cpath class='cls-8' d='M14%2c144.5h6.5V1.5H14'/%3e %3cg%3e %3cline class='cls-8' x1='20' y1='144.5' x2='14' y2='144.5'/%3e %3ctext class='cls-9' transform='translate(5.4385 147.7)'%3e0%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='20' y1='128.5' x2='14' y2='128.5'/%3e %3ctext class='cls-9' transform='translate(-0.123 131.7)'%3e10%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='20' y1='112.5' x2='14' y2='112.5'/%3e %3ctext class='cls-9' transform='translate(-0.123 115.7)'%3e20%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='20' y1='96.5' x2='14' y2='96.5'/%3e %3ctext class='cls-9' transform='translate(-0.123 99.7)'%3e30%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='20' y1='80.5' x2='14' y2='80.5'/%3e %3ctext class='cls-9' transform='translate(-0.123 83.7)'%3e40%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='20' y1='65.5' x2='14' y2='65.5'/%3e %3ctext class='cls-9' transform='translate(-0.123 68.7)'%3e50%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='20' y1='49.5' x2='14' y2='49.5'/%3e %3ctext class='cls-9' transform='translate(-0.123 52.7)'%3e60%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='20' y1='33.5' x2='14' y2='33.5'/%3e %3ctext class='cls-9' transform='translate(-0.123 36.7)'%3e70%3c/text%3e %3c/g%3e %3cg%3e %3cline class='cls-8' x1='20' y1='17.5' x2='14' y2='17.5'/%3e %3ctext class='cls-9' transform='translate(-0.123 20.7)'%3e80%3c/text%3e %3c/g%3e %3cline class='cls-8' x1='20' y1='1.5' x2='14' y2='1.5'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n\nconst metadata$w = {\n  name: 'Voronoi Diagram',\n  id: 'rawgraphs.voronoidiagram',\n  thumbnail: img$$,\n  icon: img$_,\n  categories: ['Correlations'],\n  description: 'It creates the minimum area around each point defined by two variables. When applied to a scatterplot, it is useful to show the distance between points.',\n  code: 'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/voronoidiagram',\n  tutorial: 'https://rawgraphs.io/learning/how-to-make-a-voronoi-diagram/'\n};\n\nconst dimensions$w = [{\n  id: 'x',\n  name: 'X Axis',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'y',\n  name: 'Y Axis',\n  validTypes: ['number', 'date'],\n  required: true\n}, {\n  id: 'color',\n  name: 'Color',\n  validTypes: ['number', 'date', 'string'],\n  required: false\n}, {\n  id: 'label',\n  name: 'Label',\n  validTypes: ['number', 'date', 'string'],\n  required: false,\n  multiple: true\n}];\n\nconst mapData$w = {\n  x: 'get',\n  y: 'get',\n  color: 'get',\n  label: 'get'\n};\n\nfunction render$w(node, data, visualOptions, mapping, originalData, styles) {\n  const {\n    width,\n    height,\n    background,\n    xOrigin,\n    yOrigin,\n    showStroke,\n    showPoints,\n    dotsDiameter,\n    showLegend,\n    legendWidth,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    colorScale,\n    showLabelsOutline,\n    autoHideLabels,\n    labelStyles\n  } = visualOptions;\n  const margin = {\n    top: marginTop,\n    right: marginRight,\n    bottom: marginBottom,\n    left: marginLeft\n  };\n  const chartWidth = width - margin.left - margin.right;\n  const chartHeight = height - margin.top - margin.bottom; // select the SVG element\n\n  const svg = select(node);\n  svg.append('rect').attr('width', showLegend ? width + legendWidth : width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'background'); // scales\n  // x scale\n\n  const xDomain = xOrigin ? [0, max(data, d => d.x)] : extent(data, d => d.x);\n  const xScale = mapping.x.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  xScale.domain(xDomain).rangeRound([0, chartWidth]).nice(); // y scale\n\n  const yDomain = yOrigin ? [0, max(data, d => d.y)] : extent(data, d => d.y);\n  const yScale = mapping.y.dataType.type === 'date' ? scaleTime() : scaleLinear();\n  yScale.domain(yDomain).rangeRound([chartHeight, 0]).nice(); // axes\n\n  const xAxis = g => {\n    return g.attr('transform', `translate(0,${chartHeight})`).call(axisBottom(xScale)).call(g => g.append('text').attr('x', chartWidth).attr('dy', -5).attr('text-anchor', 'end').text(mapping['x'].value).styles(styles.axisLabel));\n  };\n\n  const yAxis = g => {\n    return g.call(axisLeft(yScale)).call(g => g.append('text').attr('x', 4).attr('text-anchor', 'start').attr('dominant-baseline', 'hanging').text(mapping['y'].value).styles(styles.axisLabel));\n  };\n\n  const vizLayer = svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('id', 'visualization');\n  let points = data.map(d => [xScale(d.x), yScale(d.y)]);\n  const delaunay = Delaunay.from(points);\n  const voronoi = delaunay.voronoi([0, 0, chartWidth, chartHeight]);\n  vizLayer.append('g').attr('id', 'cells').attr('stroke', showStroke ? '#ccc' : null).selectAll('path').data(points).join('path').attr('fill', (d, i) => colorScale(data[i].color)).attr('d', (d, i) => voronoi.renderCell(i));\n\n  if (showPoints) {\n    vizLayer.append('g').selectAll('cicle').data(data).join('circle').attr('cx', d => xScale(d.x)).attr('cy', d => yScale(d.y)).attr('r', dotsDiameter / 2).attr('fill', 'black');\n  }\n\n  const axisLayer = vizLayer.append('g').attr('id', 'axis');\n  axisLayer.append('g').call(xAxis);\n  axisLayer.append('g').call(yAxis);\n  const labelsLayer = vizLayer.append('g').attr('id', 'labels');\n  labelsLayer.selectAll('g').data(mapping.label.value ? data : []).join('g').attr('transform', d => `translate(${xScale(d.x)},${yScale(d.y)})`).append('text').attr('x', 0).attr('y', 0).attr('test', d => {\n    console.log(d);\n  }).attr('text-anchor', 'middle').attr('dominant-baseline', 'text-before-edge').selectAll('tspan').data(d => Array.isArray(d.label) ? d.label : [d.label]).join('tspan').attr('x', 0).attr('y', 0).attr('dy', (d, i) => i * 12).text((d, i) => {\n    if (d && mapping.label.dataType[i].type === 'date') {\n      return timeFormat(dateFormats$1[mapping.label.dataType[i].dateFormat])(d);\n    } else {\n      return d;\n    }\n  }).styles((d, i) => styles[labelStyles[i]]);\n  labelsLayer.selectAll('text').call(sel => {\n    return sel.attr('transform', function (d) {\n      const height = sel.node().getBBox().height;\n      return `translate(0,${showPoints ? -height - dotsDiameter / 2 - 2 : -height / 2})`;\n    });\n  });\n\n  if (showLabelsOutline) {\n    // NOTE: Adobe Illustrator does not support paint-order attr\n    labelsLayer.selectAll('text').styles(styles.labelOutline);\n  }\n\n  if (autoHideLabels) {\n    labelsOcclusion(labelsLayer.selectAll('text'), d => d.size);\n  }\n\n  if (showLegend) {\n    const legendLayer = svg.append('g').attr('id', 'legend').attr('transform', `translate(${width},${marginTop})`);\n    const chartLegend = legend().legendWidth(legendWidth);\n\n    if (mapping.color.value) {\n      chartLegend.addColor(mapping.color.value, colorScale);\n    }\n\n    legendLayer.call(chartLegend);\n  }\n}\n\nconst visualOptions$w = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  showLegend: {\n    type: 'boolean',\n    label: 'Show legend',\n    default: false,\n    group: 'artboard'\n  },\n  legendWidth: {\n    type: 'number',\n    label: 'Legend width',\n    default: 200,\n    group: 'artboard',\n    disabled: {\n      showLegend: false\n    },\n    container: 'width',\n    containerCondition: {\n      showLegend: true\n    }\n  },\n  xOrigin: {\n    type: 'boolean',\n    label: 'Set X origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  yOrigin: {\n    type: 'boolean',\n    label: 'Set Y origin to 0',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  showStroke: {\n    type: 'boolean',\n    label: 'Show stroke',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  showPoints: {\n    type: 'boolean',\n    label: 'Show dots on data values',\n    default: false,\n    group: 'chart',\n    requiredDimensions: ['x', 'y']\n  },\n  dotsDiameter: {\n    type: 'number',\n    label: 'Dots diameter',\n    default: 2,\n    group: 'chart',\n    disabled: {\n      showPoints: false\n    },\n    requiredDimensions: ['x', 'y']\n  },\n  colorScale: {\n    type: 'colorScale',\n    label: 'Color scale',\n    dimension: 'color',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  labelStyles: {\n    type: 'text',\n    label: 'Label',\n    group: 'labels',\n    options: [{\n      label: 'Primary',\n      value: 'labelPrimary'\n    }, {\n      label: 'Secondary',\n      value: 'labelSecondary'\n    }, {\n      label: 'Italic',\n      value: 'labelItalic'\n    }],\n    default: 'labelPrimary',\n    repeatFor: 'label',\n    repeatDefault: ['labelPrimary', 'labelSecondary', 'labelItalic']\n  },\n  showLabelsOutline: {\n    type: 'boolean',\n    label: 'Show outline',\n    default: false,\n    group: 'labels'\n  },\n  autoHideLabels: {\n    type: 'boolean',\n    label: 'Auto hide labels',\n    default: false,\n    group: 'labels'\n  }\n};\n\nvar voronoidiagram = {\n  metadata: metadata$w,\n  dimensions: dimensions$w,\n  mapData: mapData$w,\n  render: render$w,\n  visualOptions: visualOptions$w,\n  styles: styles$1\n};\n\nvar img$10 = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='56' height='56'%3e%3crect width='56' height='56' x='0' y='0' fill='white' id='backgorund'/%3e%3cg transform='translate(28%2c28)' id='chord_diagram'%3e%3cg%3e%3cg%3e%3cpath fill='%2306c16d' d='M1.2246467991473533e-15%2c-20A20%2c20%2c0%2c0%2c1%2c10.667609460779815%2c-16.917508929871474L9.600848514701832%2c-15.225758036884326A18%2c18%2c0%2c0%2c0%2c1.102182119232618e-15%2c-18Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='%2306c16d' d='M13.326340172976629%2c-14.913371771471038A20%2c20%2c0%2c0%2c1%2c19.632636878949445%2c-3.815700352401155L17.6693731910545%2c-3.43413031716104A18%2c18%2c0%2c0%2c0%2c11.993706155678966%2c-13.422034594323934Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='%2306c16d' d='M19.993601907888912%2c-0.5058485434008352A20%2c20%2c0%2c0%2c1%2c14.471695650835576%2c13.80471024649147L13.024526085752019%2c12.424239221842324A18%2c18%2c0%2c0%2c0%2c17.99424171710002%2c-0.45526368906075165Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='%2306c16d' d='M11.981016672464031%2c16.01421991525466A20%2c20%2c0%2c0%2c1%2c7.395167238528434%2c18.58255906795928L6.655650514675591%2c16.724303161163352A18%2c18%2c0%2c0%2c0%2c10.782915005217628%2c14.412797923729194Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='%2306c16d' d='M4.209919433629309%2c19.55189449547921A20%2c20%2c0%2c0%2c1%2c-6.254913987918085%2c18.99673790427574L-5.629422589126277%2c17.097064113848166A18%2c18%2c0%2c0%2c0%2c3.788927490266378%2c17.59670504593129Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='%2306c16d' d='M-9.319726445303436%2c17.695838465150832A20%2c20%2c0%2c0%2c1%2c-18.055532419792403%2c8.60219443152882L-16.249979177813163%2c7.741974988375939A18%2c18%2c0%2c0%2c0%2c-8.387753800773092%2c15.926254618635749Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='%2306c16d' d='M-19.232411876910703%2c5.487652813076287A20%2c20%2c0%2c0%2c1%2c-19.98321266568614%2c0.8192750197345058L-17.984891399117526%2c0.7373475177610552A18%2c18%2c0%2c0%2c0%2c-17.309170689219634%2c4.938887531768659Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='%2306c16d' d='M-19.842224472535182%2c-2.5072151845276416A20%2c20%2c0%2c0%2c1%2c-17.261605882779104%2c-10.101334681496592L-15.535445294501194%2c-9.091201213346933A18%2c18%2c0%2c0%2c0%2c-17.858002025281664%2c-2.2564936660748773Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='%2306c16d' d='M-15.346643448507225%2c-12.824996485940659A20%2c20%2c0%2c0%2c1%2c-13.83404407696439%2c-14.443656894173525L-12.450639669267952%2c-12.999291204756172A18%2c18%2c0%2c0%2c0%2c-13.811979103656501%2c-11.542496837346592Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='%2306c16d' d='M-11.246202110947634%2c-16.538528897085044A20%2c20%2c0%2c0%2c1%2c-3.3179226538682927%2c-19.722864631258503L-2.986130388481463%2c-17.75057816813265A18%2c18%2c0%2c0%2c0%2c-10.12158189985287%2c-14.88467600737654Z'/%3e%3c/g%3e%3c/g%3e%3cg fill-opacity='0.4'%3e%3cpath fill='%2306c16d' d='M-8.387753800773092%2c15.926254618635749A18%2c18%2c0%2c0%2c1%2c-12.367941249577232%2c13.077997906675396Q0%2c0%2c-0.31720496532288983%2c6.992809235920461L-3.072039150035853%2c16.72012486378756L-2.1892198957713296%2c6.648858266496509Q0%2c0%2c-8.387753800773092%2c15.926254618635749Z'/%3e%3cpath fill='%2306c16d' d='M11.993706155678966%2c-13.422034594323934A18%2c18%2c0%2c0%2c1%2c14.562517165382577%2c-10.579843751584319Q0%2c0%2c6.433162495674019%2c-2.759423908038274L16.24783102573648%2c-5.000798632130168L6.871422907632305%2c-1.3354951233404042Q0%2c0%2c11.993706155678966%2c-13.422034594323934Z'/%3e%3cpath fill='%2306c16d' d='M-10.12158189985287%2c-14.88467600737654A18%2c18%2c0%2c0%2c1%2c-6.931918420153243%2c-16.611697896853897Q0%2c0%2c2.4707571997614703%2c-6.549454852109973L7.572473847680939%2c-15.220303539226418L3.733663311272935%2c-5.921128125455015Q0%2c0%2c-10.12158189985287%2c-14.88467600737654Z'/%3e%3cpath fill='%2306c16d' d='M17.99424171710002%2c-0.45526368906075165A18%2c18%2c0%2c0%2c1%2c17.89449831093339%2c1.9460036485068808Q0%2c0%2c5.663621727239002%2c4.113804678244495L13.05685409574279%2c10.886623035748265L5.065093477792452%2c4.831648586272015Q0%2c0%2c17.99424171710002%2c-0.45526368906075165Z'/%3e%3cpath fill='%2306c16d' d='M14.562517165382577%2c-10.579843751584319A18%2c18%2c0%2c0%2c1%2c15.700465907257074%2c-8.803145477331286Q0%2c0%2c6.106086708202497%2c3.4228212211438676L14.316397405412346%2c9.167375051251184L5.663621727239002%2c4.113804678244495Q0%2c0%2c14.562517165382577%2c-10.579843751584319Z'/%3e%3cpath fill='%2306c16d' d='M10.782915005217628%2c14.412797923729194A18%2c18%2c0%2c0%2c1%2c9.227268709097187%2c15.45501576091451Q0%2c0%2c3.2499731831013334%2c6.1998124414470945L7.098951490618391%2c15.44684070397073L2.588308533484952%2c6.503895673785748Q0%2c0%2c10.782915005217628%2c14.412797923729194Z'/%3e%3cpath fill='%2306c16d' d='M-6.931918420153243%2c-16.611697896853897A18%2c18%2c0%2c0%2c1%2c-5.2721051500490885%2c-17.210604500912392Q0%2c0%2c6.411886186888908%2c2.808507704526235L15.21868827284038%2c7.575719586554846L6.106086708202497%2c3.4228212211438676Q0%2c0%2c-6.931918420153243%2c-16.611697896853897Z'/%3e%3cpath fill='%2306c16d' d='M-17.858002025281664%2c-2.2564936660748773A18%2c18%2c0%2c0%2c1%2c-17.58002633987454%2c-3.8655754926423915Q0%2c0%2c-6.337100850264753%2c-2.9734076097255397L-15.046720205144682%2c-7.911776732699854L-6.041562058972687%2c-3.5354671385238072Q0%2c0%2c-17.858002025281664%2c-2.2564936660748773Z'/%3e%3cpath fill='%2306c16d' d='M-12.367941249577232%2c13.077997906675396A18%2c18%2c0%2c0%2c1%2c-13.420460689718636%2c11.995467263750784Q0%2c0%2c1.9131737909448414%2c-6.733480975367922L5.328032853669165%2c-16.143483698081464L2.4707571997614703%2c-6.549454852109973Q0%2c0%2c-12.367941249577232%2c13.077997906675396Z'/%3e%3cpath fill='%2306c16d' d='M-13.420460689718636%2c11.995467263750784A18%2c18%2c0%2c0%2c1%2c-14.307309593565623%2c10.922494778843573Q0%2c0%2c6.609746982875956%2c2.304613811978528L15.823817395404483%2c6.213437296448278L6.411886186888908%2c2.808507704526235Q0%2c0%2c-13.420460689718636%2c11.995467263750784Z'/%3e%3cpath fill='%2306c16d' d='M-14.307309593565623%2c10.922494778843573A18%2c18%2c0%2c0%2c1%2c-15.063592289198603%2c9.853333818804495Q0%2c0%2c-6.083804458202074%2c3.4622714096905467L-15.071053602408847%2c7.865325378731595L-6.319436346927342%2c3.0107680510350874Q0%2c0%2c-14.307309593565623%2c10.922494778843573Z'/%3e%3cpath fill='%2306c16d' d='M1.102182119232618e-15%2c-18A18%2c18%2c0%2c0%2c1%2c1.2168487249928617%2c-17.958821764817515Q0%2c0%2c6.750424130817589%2c1.8525048054122797L16.232351185233306%2c5.050819240405948L6.609746982875956%2c2.304613811978528Q0%2c0%2c1.102182119232618e-15%2c-18Z'/%3e%3cpath fill='%2306c16d' d='M-17.309170689219634%2c4.938887531768659A18%2c18%2c0%2c0%2c1%2c-17.569737641214825%2c3.912073519104533Q0%2c0%2c1.5137445231607989%2c-6.834367382472257L4.163060797806497%2c-16.482382254812766L1.9131737909448414%2c-6.733480975367922Q0%2c0%2c-17.309170689219634%2c4.938887531768659Z'/%3e%3cpath fill='%2306c16d' d='M-17.58002633987454%2c-3.8655754926423915A18%2c18%2c0%2c0%2c1%2c-17.345082691280346%2c-4.811247908042884Q0%2c0%2c1.1416872534934808%2c-6.906268906957687L3.225634694434392%2c-16.691173739975902L1.5137445231607989%2c-6.834367382472257Q0%2c0%2c-17.58002633987454%2c-3.8655754926423915Z'/%3e%3cpath fill='%2306c16d' d='M3.788927490266378%2c17.59670504593129A18%2c18%2c0%2c0%2c1%2c2.87644286267391%2c17.768682462629926Q0%2c0%2c0.043828774711111844%2c6.999862787119996L-0.332067280321801%2c16.996756494147338L-0.31720496532288983%2c6.992809235920461Q0%2c0%2c3.788927490266378%2c17.59670504593129Z'/%3e%3cpath fill='%2306c16d' d='M-5.2721051500490885%2c-17.210604500912392A18%2c18%2c0%2c0%2c1%2c-4.424215536276313%2c-17.44781696627321Q0%2c0%2c-1.497434202646969%2c-6.837959550095557L-3.2293960445918732%2c-16.69044640467038L-1.1612729288539025%2c-6.903002620940476Q0%2c0%2c-5.2721051500490885%2c-17.210604500912392Z'/%3e%3cpath fill='%2306c16d' d='M-17.345082691280346%2c-4.811247908042884A18%2c18%2c0%2c0%2c1%2c-17.092175157417415%2c-5.644249142991736Q0%2c0%2c0.3822182057281436%2c6.989557156444889L0.5174940898720511%2c16.99212169998048L0.043828774711111844%2c6.999862787119996Q0%2c0%2c-17.345082691280346%2c-4.811247908042884Z'/%3e%3cpath fill='%2306c16d' d='M-17.569737641214825%2c3.912073519104533A18%2c18%2c0%2c0%2c1%2c-17.723151939882584%2c3.144818804929181Q0%2c0%2c-6.975054911140608%2c0.5904311869924194L-16.96658280216861%2c1.0653957091880621L-6.99412443299015%2c0.28674625690707706Q0%2c0%2c-17.569737641214825%2c3.912073519104533Z'/%3e%3cpath fill='%2306c16d' d='M15.700465907257074%2c-8.803145477331286A18%2c18%2c0%2c0%2c1%2c16.019024727093367%2c-8.209192822243319Q0%2c0%2c0.6436197184762823%2c6.970348173368997L1.2458787014298938%2c16.954285188745747L0.3822182057281436%2c6.989557156444889Q0%2c0%2c15.700465907257074%2c-8.803145477331286Z'/%3e%3cpath fill='%2306c16d' d='M9.227268709097187%2c15.45501576091451A18%2c18%2c0%2c0%2c1%2c8.69818086368903%2c15.758859402334737Q0%2c0%2c6.809329608985933%2c1.622661479233263L16.467780476288628%2c4.220450945665299L6.750424130817589%2c1.8525048054122797Q0%2c0%2c9.227268709097187%2c15.45501576091451Z'/%3e%3cpath fill='%2306c16d' d='M-17.092175157417415%2c-5.644249142991736A18%2c18%2c0%2c0%2c1%2c-16.893821593848173%2c-6.2127926052001055Q0%2c0%2c6.859794504298499%2c1.3939940311192585L16.600544492049362%2c3.663594214359656L6.809329608985933%2c1.622661479233263Q0%2c0%2c-17.092175157417415%2c-5.644249142991736Z'/%3e%3cpath fill='%2306c16d' d='M16.019024727093367%2c-8.209192822243319A18%2c18%2c0%2c0%2c1%2c16.258789041743192%2c-7.723456408635415Q0%2c0%2c0.933357764280889%2c-6.937495461898089L2.5199828118323198%2c-16.81218863289577L1.1416872534934808%2c-6.906268906957687Q0%2c0%2c16.019024727093367%2c-8.209192822243319Z'/%3e%3cpath fill='%2306c16d' d='M-15.063592289198603%2c9.853333818804495A18%2c18%2c0%2c0%2c1%2c-15.345412071450419%2c9.408417951886692Q0%2c0%2c-6.421377861185211%2c-2.786737584323368L-15.494096562860761%2c-6.995210625903009L-6.337100850264753%2c-2.9734076097255397Q0%2c0%2c-15.063592289198603%2c9.853333818804495Z'/%3e%3cpath fill='%2306c16d' d='M-17.723151939882584%2c3.144818804929181A18%2c18%2c0%2c0%2c1%2c-17.79913767114246%2c2.6815477179638854Q0%2c0%2c6.893815315479991%2c1.214623561459896L16.702232150528182%2c3.167876448010992L6.859794504298499%2c1.3939940311192585Q0%2c0%2c-17.723151939882584%2c3.144818804929181Z'/%3e%3cpath fill='%2306c16d' d='M2.87644286267391%2c17.768682462629926A18%2c18%2c0%2c0%2c1%2c2.4310695080664586%2c17.8350750221845Q0%2c0%2c6.922041278796754%2c1.0417987015896153L16.77770982085307%2c2.7401556830316194L6.893815315479991%2c1.214623561459896Q0%2c0%2c2.87644286267391%2c17.768682462629926Z'/%3e%3cpath fill='%2306c16d' d='M-16.893821593848173%2c-6.2127926052001055A18%2c18%2c0%2c0%2c1%2c-16.758555300141733%2c-6.568928698965414Q0%2c0%2c-6.960997315798432%2c0.7379135243692413L-16.92329671948347%2c1.6130803279192063L-6.975054911140608%2c0.5904311869924194Q0%2c0%2c-16.893821593848173%2c-6.2127926052001055Z'/%3e%3cpath fill='%2306c16d' d='M-15.345412071450419%2c9.408417951886692A18%2c18%2c0%2c0%2c1%2c-15.524402785678062%2c9.11004490373298Q0%2c0%2c-4.938725591003733%2c-4.9607448570516945L-11.877047417054499%2c-12.162883895402398L-4.841915426937537%2c-5.055279912960733Q0%2c0%2c-15.345412071450419%2c9.408417951886692Z'/%3e%3cpath fill='%2306c16d' d='M-16.758555300141733%2c-6.568928698965414A18%2c18%2c0%2c0%2c1%2c-16.633743188615085%2c-6.878850742326169Q0%2c0%2c-5.029950633492696%2c-4.868223148606319L-12.105342482094064%2c-11.935689481182422L-4.938725591003733%2c-4.9607448570516945Q0%2c0%2c-16.758555300141733%2c-6.568928698965414Z'/%3e%3cpath fill='%2306c16d' d='M-17.79913767114246%2c2.6815477179638854A18%2c18%2c0%2c0%2c1%2c-17.83858460205986%2c2.405181780064205Q0%2c0%2c-5.104846031592948%2c-4.789629108159601L-12.306908847502346%2c-11.727744651861606L-5.029950633492696%2c-4.868223148606319Q0%2c0%2c-17.79913767114246%2c2.6815477179638854Z'/%3e%3cpath fill='%2306c16d' d='M1.2168487249928617%2c-17.958821764817515A18%2c18%2c0%2c0%2c1%2c1.493387877510767%2c-17.93794282093975Q0%2c0%2c-1.602605876049697%2c-6.814077663635114L-3.764446081589181%2c-16.577965668284147L-1.497434202646969%2c-6.837959550095557Q0%2c0%2c1.2168487249928617%2c-17.958821764817515Z'/%3e%3cpath fill='%2306c16d' d='M-13.811979103656501%2c-11.542496837346592A18%2c18%2c0%2c0%2c1%2c-13.688727759344824%2c-11.68840161572755Q0%2c0%2c-5.155379901422825%2c-4.735193562253351L-12.459021121890359%2c-11.56601887791516L-5.104846031592948%2c-4.789629108159601Q0%2c0%2c-13.811979103656501%2c-11.542496837346592Z'/%3e%3cpath fill='%2306c16d' d='M17.89449831093339%2c1.9460036485068808A18%2c18%2c0%2c0%2c1%2c17.87447726967608%2c2.1220420202797854Q0%2c0%2c6.405690299813363%2c-2.822610809671958L15.590224343538331%2c-6.778267102891771L6.433162495674019%2c-2.759423908038274Q0%2c0%2c17.89449831093339%2c1.9460036485068808Z'/%3e%3cpath fill='%2306c16d' d='M-13.688727759344824%2c-11.68840161572755A18%2c18%2c0%2c0%2c1%2c-13.577315491155604%2c-11.817635298723095Q0%2c0%2c6.931605745162534%2c0.9761361552722791L16.822474627553053%2c2.450376992491929L6.922041278796754%2c1.0417987015896153Q0%2c0%2c-13.688727759344824%2c-11.68840161572755Z'/%3e%3cpath fill='%2306c16d' d='M2.4310695080664586%2c17.8350750221845A18%2c18%2c0%2c0%2c1%2c2.2629861613838336%2c17.857180450266647Q0%2c0%2c0.8679771735705593%2c-6.945978377893244L2.187359535730877%2c-16.858690882196257L0.933357764280889%2c-6.937495461898089Q0%2c0%2c2.4310695080664586%2c17.8350750221845Z'/%3e%3cpath fill='%2306c16d' d='M16.258789041743192%2c-7.723456408635415A18%2c18%2c0%2c0%2c1%2c16.325209057083192%2c-7.582054420968562Q0%2c0%2c-5.196282784718337%2c-4.690271337698902L-12.569994477873482%2c-11.445315147527838L-5.155379901422825%2c-4.735193562253351Q0%2c0%2c16.258789041743192%2c-7.723456408635415Z'/%3e%3cpath fill='%2306c16d' d='M-17.83858460205986%2c2.405181780064205A18%2c18%2c0%2c0%2c1%2c-17.857441585717105%2c2.260924592440306Q0%2c0%2c-6.443691654508224%2c-2.7347463980451767L-15.621997692638402%2c-6.704713870941879L-6.421377861185211%2c-2.786737584323368Q0%2c0%2c-17.83858460205986%2c2.405181780064205Z'/%3e%3cpath fill='%2306c16d' d='M17.87447726967608%2c2.1220420202797854A18%2c18%2c0%2c0%2c1%2c17.857891644298974%2c2.2573670548842766Q0%2c0%2c0.6963964728191856%2c6.965273286285686L1.6271741869590317%2c16.921947410546288L0.6436197184762823%2c6.970348173368997Q0%2c0%2c17.87447726967608%2c2.1220420202797854Z'/%3e%3cpath fill='%2306c16d' d='M2.2629861613838336%2c17.857180450266647A18%2c18%2c0%2c0%2c1%2c2.1286857103194987%2c17.873687284572302Q0%2c0%2c6.384291097317606%2c-2.870684096989978L15.530801401683702%2c-6.9133355062125785L6.405690299813363%2c-2.822610809671958Q0%2c0%2c2.2629861613838336%2c17.857180450266647Z'/%3e%3cpath fill='%2306c16d' d='M1.493387877510767%2c-17.93794282093975A18%2c18%2c0%2c0%2c1%2c1.6234545187373837%2c-17.926639267458672Q0%2c0%2c0.7468980678561157%2c6.960039028355574L1.752583467349382%2c16.909419008055057L0.6963964728191856%2c6.965273286285686Q0%2c0%2c1.493387877510767%2c-17.93794282093975Z'/%3e%3cpath fill='%2306c16d' d='M17.857891644298974%2c2.2573670548842766A18%2c18%2c0%2c0%2c1%2c17.841436785105383%2c2.3839323486811517Q0%2c0%2c-5.229408701712415%2c-4.653308997955593L-12.659847795133487%2c-11.345847425558562L-5.196282784718337%2c-4.690271337698902Q0%2c0%2c17.857891644298974%2c2.2573670548842766Z'/%3e%3cpath fill='%2306c16d' d='M1.6234545187373837%2c-17.926639267458672A18%2c18%2c0%2c0%2c1%2c1.7359557894578006%2c-17.916094928779764Q0%2c0%2c3.2888280487023835%2c6.17928879937396L7.940012035479745%2c15.03183983670784L3.2499731831013334%2c6.1998124414470945Q0%2c0%2c1.6234545187373837%2c-17.926639267458672Z'/%3e%3cpath fill='%2306c16d' d='M-4.424215536276313%2c-17.44781696627321A18%2c18%2c0%2c0%2c1%2c-4.315226081959462%2c-17.475091526557932Q0%2c0%2c-6.956255917800448%2c0.7813473018231077L-16.899604082077488%2c1.8448257015311444L-6.960997315798432%2c0.7379135243692413Q0%2c0%2c-4.424215536276313%2c-17.44781696627321Z'/%3e%3cpath fill='%2306c16d' d='M1.7359557894578006%2c-17.916094928779764A18%2c18%2c0%2c0%2c1%2c1.831729963289991%2c-17.90655649033576Q0%2c0%2c0.8308239863871818%2c-6.950520232590055L2.062837352436058%2c-16.874380049572032L0.8679771735705593%2c-6.945978377893244Q0%2c0%2c1.7359557894578006%2c-17.916094928779764Z'/%3e%3cpath fill='%2306c16d' d='M-15.524402785678062%2c9.11004490373298A18%2c18%2c0%2c0%2c1%2c-15.561578597018565%2c9.046395501458784Q0%2c0%2c-6.952997944875032%2c0.8098268818479527L-16.88984366593684%2c1.9321441302897802L-6.956255917800448%2c0.7813473018231077Q0%2c0%2c-15.524402785678062%2c9.11004490373298Z'/%3e%3cpath fill='%2306c16d' d='M2.1286857103194987%2c17.873687284572302A18%2c18%2c0%2c0%2c1%2c2.0610779993470114%2c17.88160947679508Q0%2c0%2c3.3121725983087984%2c6.166807332729987L8.015515114527258%2c14.991714960230036L3.2888280487023835%2c6.17928879937396Q0%2c0%2c2.1286857103194987%2c17.873687284572302Z'/%3e%3cpath fill='%2306c16d' d='M-17.857441585717105%2c2.260924592440306A18%2c18%2c0%2c0%2c1%2c-17.86554636673312%2c2.195962890877035Q0%2c0%2c3.3345791059358003%2c6.154720317468244L8.071068985888052%2c14.961879742366465L3.3121725983087984%2c6.166807332729987Q0%2c0%2c-17.857441585717105%2c2.260924592440306Z'/%3e%3cpath fill='%2306c16d' d='M-15.561578597018565%2c9.046395501458784A18%2c18%2c0%2c0%2c1%2c-15.593429083483366%2c8.9913830648224Q0%2c0%2c6.374113407854006%2c-2.8932124470587683L15.49237247970039%2c-6.999028143265463L6.384291097317606%2c-2.870684096989978Q0%2c0%2c-15.561578597018565%2c9.046395501458784Z'/%3e%3cpath fill='%2306c16d' d='M1.831729963289991%2c-17.90655649033576A18%2c18%2c0%2c0%2c1%2c1.8945664830490359%2c-17.900017258128752Q0%2c0%2c6.3639196529043565%2c-2.915566265989797L15.467635391029447%2c-7.053527869809073L6.374113407854006%2c-2.8932124470587683Q0%2c0%2c1.831729963289991%2c-17.90655649033576Z'/%3e%3cpath fill='%2306c16d' d='M17.841436785105383%2c2.3839323486811517A18%2c18%2c0%2c0%2c1%2c17.833213359198403%2c2.4446883820453817Q0%2c0%2c0.8071449437800742%2c-6.953309790289101L1.98896515674679%2c-16.88324665475356L0.8308239863871818%2c-6.950520232590055Q0%2c0%2c17.841436785105383%2c2.3839323486811517Z'/%3e%3cpath fill='%2306c16d' d='M-16.633743188615085%2c-6.878850742326169A18%2c18%2c0%2c0%2c1%2c-16.611023372908402%2c-6.933534632832719Q0%2c0%2c-6.0723814760207615%2c3.4822669641599733L-14.761102889304663%2c8.432665147588958L-6.083804458202074%2c3.4622714096905467Q0%2c0%2c-16.633743188615085%2c-6.878850742326169Z'/%3e%3cpath fill='%2306c16d' d='M1.8945664830490359%2c-17.900017258128752A18%2c18%2c0%2c0%2c1%2c1.946649936062911%2c-17.89442801618499Q0%2c0%2c-5.242928317679522%2c-4.638071005889645L-12.716422699614535%2c-11.282401948376428L-5.229408701712415%2c-4.653308997955593Q0%2c0%2c1.8945664830490359%2c-17.900017258128752Z'/%3e%3cpath fill='%2306c16d' d='M1.946649936062911%2c-17.89442801618499A18%2c18%2c0%2c0%2c1%2c1.98822083867277%2c-17.889856843940013Q0%2c0%2c-6.450028209043559%2c-2.7197676559850343L-15.656670399159529%2c-6.623342963495235L-6.443691654508224%2c-2.7347463980451767Q0%2c0%2c1.946649936062911%2c-17.89442801618499Z'/%3e%3cpath fill='%2306c16d' d='M2.0610779993470114%2c17.88160947679508A18%2c18%2c0%2c0%2c1%2c2.0215821252531407%2c17.886117681343176Q0%2c0%2c-5.253158533694485%2c-4.626480889388047L-12.7452560898463%2c-11.249819874301801L-5.242928317679522%2c-4.638071005889645Q0%2c0%2c2.0610779993470114%2c17.88160947679508Z'/%3e%3cpath fill='%2306c16d' d='M1.98822083867277%2c-17.889856843940013A18%2c18%2c0%2c0%2c1%2c2.027180706596014%2c-17.88548401309858Q0%2c0%2c-6.951217628563257%2c0.8249687753796489L-16.883700350801703%2c1.985110189470212L-6.952997944875032%2c0.8098268818479527Q0%2c0%2c1.98822083867277%2c-17.889856843940013Z'/%3e%3cpath fill='%2306c16d' d='M-4.315226081959462%2c-17.475091526557932A18%2c18%2c0%2c0%2c1%2c-4.277573923396312%2c-17.484346179651094Q0%2c0%2c0.7618885778826847%2c6.95841402870596L1.832099132424865%2c16.9009885145505L0.7468980678561157%2c6.960039028355574Q0%2c0%2c-4.315226081959462%2c-17.475091526557932Z'/%3e%3cpath fill='%2306c16d' d='M17.833213359198403%2c2.4446883820453817A18%2c18%2c0%2c0%2c1%2c17.82807135353188%2c2.4819089051325167Q0%2c0%2c3.3474194800606103%2c6.147746158106298L8.11385984530178%2c14.938717428574629L3.3345791059358003%2c6.154720317468244Q0%2c0%2c17.833213359198403%2c2.4446883820453817Z'/%3e%3cpath fill='%2306c16d' d='M-4.277573923396312%2c-17.484346179651094A18%2c18%2c0%2c0%2c1%2c-4.242513340299704%2c-17.49288657018558Q0%2c0%2c-5.262422979417412%2c-4.615940249364106L-12.76892682370177%2c-11.222945592443608L-5.253158533694485%2c-4.626480889388047Q0%2c0%2c-4.277573923396312%2c-17.484346179651094Z'/%3e%3cpath fill='%2306c16d' d='M-17.86554636673312%2c2.195962890877035A18%2c18%2c0%2c0%2c1%2c-17.869805981370536%2c2.1610261886829996Q0%2c0%2c-1.6159263791642773%2c-6.810931062426122L-3.9082196062137213%2c-16.544661359774235L-1.602605876049697%2c-6.814077663635114Q0%2c0%2c-17.86554636673312%2c2.195962890877035Z'/%3e%3cpath fill='%2306c16d' d='M-13.577315491155604%2c-11.817635298723095A18%2c18%2c0%2c0%2c1%2c-13.55945653775372%2c-11.838122249781334Q0%2c0%2c0.7966452041757306%2c-6.954520574321698L1.9474600203540424%2c-16.888084541152754L0.8071449437800742%2c-6.953309790289101Q0%2c0%2c-13.577315491155604%2c-11.817635298723095Z'/%3e%3cpath fill='%2306c16d' d='M-16.611023372908402%2c-6.933534632832719A18%2c18%2c0%2c0%2c1%2c-16.601138249302835%2c-6.957169598876717Q0%2c0%2c6.359763566142405%2c-2.9246208955636694L15.450190678170168%2c-7.091657634727132L6.3639196529043565%2c-2.915566265989797Q0%2c0%2c-16.611023372908402%2c-6.933534632832719Z'/%3e%3cpath fill='%2306c16d' d='M-4.242513340299704%2c-17.49288657018558A18%2c18%2c0%2c0%2c1%2c-4.2204626844593935%2c-17.49821975885221Q0%2c0%2c6.356072447779583%2c-2.9326341467317847L15.440661082843773%2c-7.112382535040824L6.359763566142405%2c-2.9246208955636694Q0%2c0%2c-4.242513340299704%2c-17.49288657018558Z'/%3e%3cpath fill='%2306c16d' d='M8.69818086368903%2c15.758859402334737A18%2c18%2c0%2c0%2c1%2c8.67858504280837%2c15.769659528814907Q0%2c0%2c0.7705376681400642%2c6.957461584656955L1.8608036581519551%2c16.89785222286573L0.7618885778826847%2c6.95841402870596Q0%2c0%2c8.69818086368903%2c15.758859402334737Z'/%3e%3cpath fill='%2306c16d' d='M8.67858504280837%2c15.769659528814907A18%2c18%2c0%2c0%2c1%2c8.65990474592529%2c15.77992553187437Q0%2c0%2c0.7884091988851646%2c-6.955459074361178L1.924709255379358%2c-16.890692534122365L0.7966452041757306%2c-6.954520574321698Q0%2c0%2c8.67858504280837%2c15.769659528814907Z'/%3e%3cpath fill='%2306c16d' d='M-17.869805981370536%2c2.1610261886829996A18%2c18%2c0%2c0%2c1%2c-17.871853034303985%2c2.1440310446071873Q0%2c0%2c6.353280641549561%2c-2.938677438867968L15.43278763886063%2c-7.129450588497726L6.356072447779583%2c-2.9326341467317847Q0%2c0%2c-17.869805981370536%2c2.1610261886829996Z'/%3e%3cpath fill='%2306c16d' d='M17.82807135353188%2c2.4819089051325167A18%2c18%2c0%2c0%2c1%2c17.82579725312137%2c2.4981898027593195Q0%2c0%2c-1.6221459586392268%2c-6.809452436787442L-3.931945391558995%2c-16.53903883053057L-1.6159263791642773%2c-6.810931062426122Q0%2c0%2c17.82807135353188%2c2.4819089051325167Z'/%3e%3cpath fill='%2306c16d' d='M-15.593429083483366%2c8.9913830648224A18%2c18%2c0%2c0%2c1%2c-15.601426894525941%2c8.97749847422781Q0%2c0%2c3.3528907817931164%2c6.1447639015153985L8.136091838159885%2c14.926620836647123L3.3474194800606103%2c6.147746158106298Q0%2c0%2c-15.593429083483366%2c8.9913830648224Z'/%3e%3cpath fill='%2306c16d' d='M2.0215821252531407%2c17.886117681343176A18%2c18%2c0%2c0%2c1%2c2.008114726080082%2c17.88763470241106Q0%2c0%2c-6.069757884360617%2c3.4868379981355795L-14.744027410956688%2c8.462485196734928L-6.0723814760207615%2c3.4822669641599733Q0%2c0%2c2.0215821252531407%2c17.886117681343176Z'/%3e%3cpath fill='%2306c16d' d='M16.325209057083192%2c-7.582054420968562A18%2c18%2c0%2c0%2c1%2c16.33040092044707%2c-7.570865589710438Q0%2c0%2c-1.6268118391207735%2c-6.808339242436182L-3.945163271710616%2c-16.535890866824975L-1.6221459586392268%2c-6.809452436787442Q0%2c0%2c16.325209057083192%2c-7.582054420968562Z'/%3e%3cpath fill='%2306c16d' d='M-13.55945653775372%2c-11.838122249781334A18%2c18%2c0%2c0%2c1%2c-13.55162656006527%2c-11.84708477122256Q0%2c0%2c-6.451825028635404%2c-2.715502494912087L-15.666536930395198%2c-6.5999712581619185L-6.450028209043559%2c-2.7197676559850343Q0%2c0%2c-13.55945653775372%2c-11.838122249781334Z'/%3e%3cpath fill='%2306c16d' d='M-13.55162656006527%2c-11.84708477122256A18%2c18%2c0%2c0%2c1%2c-13.544164684676776%2c-11.855614829875103Q0%2c0%2c0.7749180886860396%2c6.956975057870135L1.8766249405670314%2c16.896102474607623L0.7705376681400642%2c6.957461584656955Q0%2c0%2c-13.55162656006527%2c-11.84708477122256Z'/%3e%3cpath fill='%2306c16d' d='M-4.2204626844593935%2c-17.49821975885221A18%2c18%2c0%2c0%2c1%2c-4.210187544325916%2c-17.500694867393207Q0%2c0%2c3.356498218823848%2c6.142794128654511L8.147115566142466%2c14.92060682250957L3.3528907817931164%2c6.1447639015153985Q0%2c0%2c-4.2204626844593935%2c-17.49821975885221Z'/%3e%3cpath fill='%2306c16d' d='M2.008114726080082%2c17.88763470241106A18%2c18%2c0%2c0%2c1%2c1.9987221034401355%2c17.88868664696265Q0%2c0%2c-1.6303865020771857%2c-6.807484106029519L-3.9551695506185984%2c-16.533500350072863L-1.6268118391207735%2c-6.808339242436182Q0%2c0%2c2.008114726080082%2c17.88763470241106Z'/%3e%3cpath fill='%2306c16d' d='M-16.601138249302835%2c-6.957169598876717A18%2c18%2c0%2c0%2c1%2c-16.597978214305645%2c-6.964705248424749Q0%2c0%2c3.3592864978603547%2c6.1412697567598435L8.15488165176374%2c14.916363673688274L3.356498218823848%2c6.142794128654511Q0%2c0%2c-16.601138249302835%2c-6.957169598876717Z'/%3e%3cpath fill='%2306c16d' d='M17.82579725312137%2c2.4981898027593195A18%2c18%2c0%2c0%2c1%2c17.824858029334628%2c2.5048824790925455Q0%2c0%2c-6.452844133184536%2c-2.7130799090380506L-15.66995568690422%2c-6.591850178095529L-6.451825028635404%2c-2.715502494912087Q0%2c0%2c17.82579725312137%2c2.4981898027593195Z'/%3e%3cpath fill='%2306c16d' d='M-15.601426894525941%2c8.97749847422781A18%2c18%2c0%2c0%2c1%2c-15.60478948709937%2c8.971652303969039Q0%2c0%2c-1.63293701468023%2c-6.8068727552443065L-3.9626071970274603%2c-16.531719335933154L-1.6303865020771857%2c-6.807484106029519Q0%2c0%2c-15.601426894525941%2c8.97749847422781Z'/%3e%3cpath fill='%2306c16d' d='M-16.597978214305645%2c-6.964705248424749A18%2c18%2c0%2c0%2c1%2c-16.595621165562566%2c-6.970319801065929Q0%2c0%2c-1.6352396268864289%2c-6.806319957411666L-3.968500264386544%2c-16.530305673264603L-1.63293701468023%2c-6.8068727552443065Q0%2c0%2c-16.597978214305645%2c-6.964705248424749Z'/%3e%3cpath fill='%2306c16d' d='M-13.544164684676776%2c-11.855614829875103A18%2c18%2c0%2c0%2c1%2c-13.540431073450081%2c-11.859878850357093Q0%2c0%2c-6.950957528686041%2c0.8271574423305644L-16.881212900148377%2c2.006153289223938L-6.951217628563257%2c0.8249687753796489Q0%2c0%2c-13.544164684676776%2c-11.855614829875103Z'/%3e%3cpath fill='%2306c16d' d='M8.65990474592529%2c15.77992553187437A18%2c18%2c0%2c0%2c1%2c8.654965598531673%2c15.782635093299005Q0%2c0%2c-6.950698308594666%2c0.8293328782215579L-16.88058229481537%2c2.0114525567275816L-6.950957528686041%2c0.8271574423305644Q0%2c0%2c8.65990474592529%2c15.77992553187437Z'/%3e%3cpath fill='%2306c16d' d='M8.654965598531673%2c15.782635093299005A18%2c18%2c0%2c0%2c1%2c8.650198627283997%2c15.78524829416801Q0%2c0%2c-6.06870453370101%2c3.4886709908841804L-14.739561675700202%2c8.470261011812438L-6.069757884360617%2c3.4868379981355795Q0%2c0%2c8.654965598531673%2c15.782635093299005Z'/%3e%3cpath fill='%2306c16d' d='M17.824858029334628%2c2.5048824790925455A18%2c18%2c0%2c0%2c1%2c17.824131014224186%2c2.5100505149840155Q0%2c0%2c-6.950457559578139%2c0.8313481295480951L-16.87997516015871%2c2.0165412449104276L-6.950698308594666%2c0.8293328782215579Q0%2c0%2c17.824858029334628%2c2.5048824790925455Z'/%3e%3cpath fill='%2306c16d' d='M-13.540431073450081%2c-11.859878850357093A18%2c18%2c0%2c0%2c1%2c-13.537011652858983%2c-11.863781669870704Q0%2c0%2c3.3610567076600244%2c6.140301117037629L8.160416834326908%2c14.913336215952285L3.3592864978603547%2c6.1412697567598435Q0%2c0%2c-13.540431073450081%2c-11.859878850357093Z'/%3e%3cpath fill='%2306c16d' d='M16.33040092044707%2c-7.570865589710438A18%2c18%2c0%2c0%2c1%2c16.332447564635892%2c-7.566449401695561Q0%2c0%2c3.3627169864234254%2c6.139392027653827L8.164582417441757%2c14.911056097701493L3.3610567076600244%2c6.140301117037629Q0%2c0%2c16.33040092044707%2c-7.570865589710438Z'/%3e%3cpath fill='%2306c16d' d='M-13.537011652858983%2c-11.863781669870704A18%2c18%2c0%2c0%2c1%2c-13.533877681434381%2c-11.867356694056701Q0%2c0%2c6.352504247236272%2c-2.9403553847868666L15.428453213778045%2c-7.138825633832353L6.353280641549561%2c-2.938677438867968Q0%2c0%2c-13.537011652858983%2c-11.863781669870704Z'/%3e%3cpath fill='%2306c16d' d='M16.332447564635892%2c-7.566449401695561A18%2c18%2c0%2c0%2c1%2c16.333807122289862%2c-7.5635140570923065Q0%2c0%2c-6.950308039742228%2c0.8325972331773351L-16.879501153036387%2c2.020505091466808L-6.950457559578139%2c0.8313481295480951Q0%2c0%2c16.332447564635892%2c-7.566449401695561Z'/%3e%3cpath fill='%2306c16d' d='M1.9987221034401355%2c17.88868664696265A18%2c18%2c0%2c0%2c1%2c1.9955997329758712%2c17.889035236863574Q0%2c0%2c-6.453317583237055%2c-2.711953570746272L-15.671767858192299%2c-6.587540679110131L-6.452844133184536%2c-2.7130799090380506Q0%2c0%2c1.9987221034401355%2c17.88868664696265Z'/%3e%3cpath fill='%2306c16d' d='M-17.871853034303985%2c2.1440310446071873A18%2c18%2c0%2c0%2c1%2c-17.872160747612615%2c2.14146450157245Q0%2c0%2c0.7759171501281862%2c6.956863702570071L1.8831570805575166%2c16.89537568123142L0.7749180886860396%2c6.956975057870135Q0%2c0%2c-17.871853034303985%2c2.1440310446071873Z'/%3e%3cpath fill='%2306c16d' d='M-4.210187544325916%2c-17.500694867393207A18%2c18%2c0%2c0%2c1%2c-4.20770933665201%2c-17.501290870625844Q0%2c0%2c-6.453701541556212%2c-2.711039729055068L-15.672808976532169%2c-6.5850633091210815L-6.453317583237055%2c-2.711953570746272Q0%2c0%2c-4.210187544325916%2c-17.500694867393207Z'/%3e%3cpath fill='%2306c16d' d='M-13.533877681434381%2c-11.867356694056701A18%2c18%2c0%2c0%2c1%2c-13.532698979402024%2c-11.86870078538049Q0%2c0%2c-1.6359156049791381%2c-6.806157516057481L-3.972117072162927%2c-16.52943695245037L-1.6352396268864289%2c-6.806319957411666Q0%2c0%2c-13.533877681434381%2c-11.867356694056701Z'/%3e%3cpath fill='%2306c16d' d='M8.650198627283997%2c15.78524829416801A18%2c18%2c0%2c0%2c1%2c8.648704614840542%2c15.786066909944221Q0%2c0%2c6.352225932784493%2c-2.940956595881717L15.42717237872725%2c-7.141593127379564L6.352504247236272%2c-2.9403553847868666Q0%2c0%2c8.650198627283997%2c15.78524829416801Z'/%3e%3cpath fill='%2306c16d' d='M8.648704614840542%2c15.786066909944221A18%2c18%2c0%2c0%2c1%2c8.647705928403031%2c15.786614018714182Q0%2c0%2c-5.262714985705401%2c-4.61560732506913L-12.78052467832857%2c-11.209736345991121L-5.262422979417412%2c-4.615940249364106Q0%2c0%2c8.648704614840542%2c15.786066909944221Z'/%3e%3cpath fill='%2306c16d' d='M16.333807122289862%2c-7.5635140570923065A18%2c18%2c0%2c0%2c1%2c16.334192585037915%2c-7.562681574342024Q0%2c0%2c-6.453839704707797%2c-2.7107108045560993L-15.673442946981096%2c-6.583554221522634L-6.453701541556212%2c-2.711039729055068Q0%2c0%2c16.333807122289862%2c-7.5635140570923065Z'/%3e%3cpath fill='%2306c16d' d='M8.647705928403031%2c15.786614018714182A18%2c18%2c0%2c0%2c1%2c8.647062077901039%2c15.786966694743034Q0%2c0%2c-1.6361931868278798%2c-6.80609079100316L-3.9732749623060735%2c-16.529158662010346L-1.6359156049791381%2c-6.806157516057481Q0%2c0%2c8.647705928403031%2c15.786614018714182Z'/%3e%3cpath fill='%2306c16d' d='M1.9955997329758712%2c17.889035236863574A18%2c18%2c0%2c0%2c1%2c1.9952155289010503%2c17.88907809232304Q0%2c0%2c-6.950290156411032%2c0.8327465050637612L-16.879297810587897%2c2.0222031108379275L-6.950308039742228%2c0.8325972331773351Q0%2c0%2c1.9955997329758712%2c17.889035236863574Z'/%3e%3cpath fill='%2306c16d' d='M-4.20770933665201%2c-17.501290870625844A18%2c18%2c0%2c0%2c1%2c-4.207353908985977%2c-17.50137631972241Q0%2c0%2c-6.0686336824093825%2c3.488794237086264L-14.738196406036733%2c8.472636348686631L-6.06870453370101%2c3.4886709908841804Q0%2c0%2c-4.20770933665201%2c-17.501290870625844Z'/%3e%3cpath fill='%2306c16d' d='M16.334192585037915%2c-7.562681574342024A18%2c18%2c0%2c0%2c1%2c16.334295255731554%2c-7.5624598179815585Q0%2c0%2c-6.068586317410351%2c3.4888766255257404L-14.738052857263513%2c8.47288604765264L-6.0686336824093825%2c3.488794237086264Q0%2c0%2c16.334192585037915%2c-7.562681574342024Z'/%3e%3cpath fill='%2306c16d' d='M2.027180706596014%2c-17.88548401309858A18%2c18%2c0%2c0%2c1%2c2.0273379399904234%2c-17.88546619121446Q0%2c0%2c-6.068555646035643%2c3.4889299750738663L-14.737958098612511%2c8.473050872238518L-6.068586317410351%2c3.4888766255257404Q0%2c0%2c2.027180706596014%2c-17.88548401309858Z'/%3e%3cpath fill='%2306c16d' d='M-17.872160747612615%2c2.14146450157245A18%2c18%2c0%2c0%2c1%2c-17.872174687914082%2c2.141348155878243Q0%2c0%2c-6.0685329333863125%2c3.488969480578143L-14.737893275090444%2c8.473163624765181L-6.068555646035643%2c3.4889299750738663Q0%2c0%2c-17.872160747612615%2c2.14146450157245Z'/%3e%3cpath fill='%2306c16d' d='M8.647062077901039%2c15.786966694743034A18%2c18%2c0%2c0%2c1%2c8.64698653651738%2c15.787008071109838Q0%2c0%2c-6.453852675496554%2c-2.7106799226367504L-15.67362646172157%2c-6.583117311610159L-6.453839704707797%2c-2.7107108045560993Q0%2c0%2c8.647062077901039%2c15.786966694743034Z'/%3e%3cpath fill='%2306c16d' d='M17.824131014224186%2c2.5100505149840155Q0%2c0%2c-6.068530215616174%2c3.4889742077225954L-14.737862395218423%2c8.473217335794397L-6.0685329333863125%2c3.488969480578143Q0%2c0%2c17.824131014224186%2c2.5100505149840155Z'/%3e%3cpath fill='%2306c16d' d='M-13.532698979402024%2c-11.86870078538049Q0%2c0%2c-6.068529244983088%2c3.4889758959879593L-14.737857916442104%2c8.473225125934327L-6.068530215616174%2c3.4889742077225954Q0%2c0%2c-13.532698979402024%2c-11.86870078538049Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n\nvar img$11 = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1000' height='1000'%3e%3crect width='1000' height='1000' x='0' y='0' fill='white' id='backgorund'/%3e%3cg transform='translate(500%2c500)' id='chord_diagram'%3e%3cg%3e%3cg%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M2.1431318985078682e-14%2c-350A350%2c350%2c0%2c0%2c1%2c232.93541267410265%2c-261.22996291073787L216.29716891166674%2c-242.5706798456852A325%2c325%2c0%2c0%2c0%2c1.990051048614449e-14%2c-325Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M240.86173286281146%2c-253.94020091809736A350%2c350%2c0%2c0%2c1%2c349.8531477963459%2c10.137799415460982L324.8636372394641%2c9.413670885785198A325%2c325%2c0%2c0%2c0%2c223.65732337261065%2c-235.80161513823327Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M349.3756668323989%2c20.896014582130107A350%2c350%2c0%2c0%2c1%2c165.41199258105587%2c308.4458991628268L153.5968502538376%2c286.4140492226249A325%2c325%2c0%2c0%2c0%2c324.42026205865614%2c19.403442111977956Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M155.84455163886068%2c313.38869750596064A350%2c350%2c0%2c0%2c1%2c42.0115606000339%2c347.469464523071L39.010734842888624%2c322.65021705713735A325%2c325%2c0%2c0%2c0%2c144.71279795037063%2c291.00379054124915Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M31.30199382157275%2c348.59745435501134A350%2c350%2c0%2c0%2c1%2c-196.663696940388%2c289.5226939390748L-182.6162900160746%2c268.8425015148552A325%2c325%2c0%2c0%2c0%2c29.06613712003184%2c323.6976361867963Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-205.4775940298644%2c283.33541669141584A350%2c350%2c0%2c0%2c1%2c-347.76394314556467%2c39.49987149154348L-322.92366149231003%2c36.678452099290375A325%2c325%2c0%2c0%2c0%2c-190.80062302773123%2c263.09717264202897Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-348.81452304247665%2c28.78243413350475A350%2c350%2c0%2c0%2c1%2c-341.2245721875015%2c-77.88319032664609L-316.85138845982283%2c-72.32010530331424A325%2c325%2c0%2c0%2c0%2c-323.89919996801405%2c26.726545981111553Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-338.66703076309517%2c-88.34388645576317A350%2c350%2c0%2c0%2c1%2c-249.36138253349068%2c-245.59906535039198L-231.54985520966994%2c-228.05627496822112A325%2c325%2c0%2c0%2c0%2c-314.4765285657312%2c-82.03360885178009Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-241.68764898938974%2c-253.15426191549992A350%2c350%2c0%2c0%2c1%2c-203.014264362465%2c-285.10560931936635L-188.5132454794318%2c-264.74092293941163A325%2c325%2c0%2c0%2c0%2c-224.42424549014763%2c-235.07181463582134Z'/%3e%3c/g%3e%3cg%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-194.1470743827986%2c-291.2162658722896A350%2c350%2c0%2c0%2c1%2c-10.767531562764386%2c-349.83433259765235L-9.998422165424072%2c-324.8461659835343A325%2c325%2c0%2c0%2c0%2c-180.2794262125987%2c-270.4151040242689Z'/%3e%3c/g%3e%3c/g%3e%3cg fill-opacity='0.7'%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-184.92983462687795%2c255.00187502227425A315%2c315%2c0%2c0%2c1%2c-261.69227013946477%2c175.33441119544503Q0%2c0%2c-68.75080782380472%2c276.5833082880713L-120.33113933820219%2c269.34256422921754L-160.1404389371731%2c235.7541936361038Q0%2c0%2c-184.92983462687795%2c255.00187502227425Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M216.77555957653033%2c-228.5461808262876A315%2c315%2c0%2c0%2c1%2c270.853967942362%2c-160.8201730190524Q0%2c0%2c276.34742968349775%2c-69.69288419432985L293.24812510875245%2c-32.10198000437769L284.88042034845313%2c8.255065238303944Q0%2c0%2c216.77555957653033%2c-228.5461808262876Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-174.73236694451876%2c-262.0946392850606A315%2c315%2c0%2c0%2c1%2c-101.10033161192108%2c-298.3349174132314Q0%2c0%2c128.29187593433437%2c-254.4920324278333L165.97657242094422%2c-243.87861203351773L189.6759788917693%2c-212.71582694160085Q0%2c0%2c-174.73236694451876%2c-262.0946392850606Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M314.438100149159%2c18.806413123917096A315%2c315%2c0%2c0%2c1%2c306.5106254330534%2c72.63770712679766Q0%2c0%2c175.90598400850757%2c224.2366713764693L161.35132362979883%2c246.96305465172705L134.69262253028836%2c251.16308931830181Q0%2c0%2c314.438100149159%2c18.806413123917096Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M270.853967942362%2c-160.8201730190524A315%2c315%2c0%2c0%2c1%2c292.0590028165481%2c-118.01075744949495Q0%2c0%2c207.79313823067315%2c195.05643210170834L199.15455078659147%2c217.62919128873995L175.90598400850757%2c224.2366713764693Q0%2c0%2c270.853967942362%2c-160.8201730190524Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M140.2600964749746%2c282.04982775536456A315%2c315%2c0%2c0%2c1%2c101.10884827520199%2c298.33203113387304Q0%2c0%2c71.89946770224108%2c275.78155584471995L55.04080707325812%2c289.8197880696285L34.20941363145618%2c282.9394211116435Q0%2c0%2c140.2600964749746%2c282.04982775536456Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-101.10033161192108%2c-298.3349174132314A315%2c315%2c0%2c0%2c1%2c-62.51800230937679%2c-308.7337030310179Q0%2c0%2c230.81516377006284%2c167.18062140630732L227.45702501095195%2c187.85180801144068L207.79313823067315%2c195.05643210170834Q0%2c0%2c-101.10033161192108%2c-298.3349174132314Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-304.80032768678564%2c-79.50949781018684A315%2c315%2c0%2c0%2c1%2c-293.3820806291355%2c-114.68197227864297Q0%2c0%2c-225.0893264965717%2c-174.8136010078156L-221.96431789019096%2c-194.31119778217172L-203.0514114915567%2c-199.98781035674776Q0%2c0%2c-304.80032768678564%2c-79.50949781018684Z'/%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-261.69227013946477%2c175.33441119544503A315%2c315%2c0%2c0%2c1%2c-279.1552393684755%2c145.93612415412824Q0%2c0%2c99.95119681099044%2c-266.8984043714961L118.30017761336764%2c-270.2407592807674L128.29187593433437%2c-254.4920324278333Q0%2c0%2c-261.69227013946477%2c175.33441119544503Z'/%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-279.1552393684755%2c145.93612415412824A315%2c315%2c0%2c0%2c1%2c-292.34469062419055%2c117.30124408481912Q0%2c0%2c246.37029235924823%2c143.2713475989479L247.2742091587857%2c160.87406716092278L230.81516377006284%2c167.18062140630732Q0%2c0%2c-279.1552393684755%2c145.93612415412824Z'/%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-292.34469062419055%2c117.30124408481912A315%2c315%2c0%2c0%2c1%2c-302.0814754062226%2c89.28483755039122Q0%2c0%2c-278.8986896171418%2c58.65595391638598L-291.22289106331493%2c47.05558118570642L-283.1792108471027%2c32.164181071685405Q0%2c0%2c-292.34469062419055%2c117.30124408481912Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M1.9288187086570814e-14%2c-315A315%2c315%2c0%2c0%2c1%2c27.549259894261816%2c-313.7929863449443Q0%2c0%2c257.9564742110795%2c121.17531684542305L261.26161615683736%2c136.99404338553333L246.37029235924823%2c143.2713475989479Q0%2c0%2c1.9288187086570814e-14%2c-315Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-313.933070738229%2c25.904190720154276A315%2c315%2c0%2c0%2c1%2c-314.9940634233079%2c1.9339100478249036Q0%2c0%2c79.34616825508024%2c-273.73195937492665L92.86162227577799%2c-280.00306981944095L99.95119681099044%2c-266.8984043714961Q0%2c0%2c-313.933070738229%2c25.904190720154276Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-293.3820806291355%2c-114.68197227864297A315%2c315%2c0%2c0%2c1%2c-284.6317861377447%2c-134.94349306297488Q0%2c0%2c59.98433203544251%2c-278.6160079935498L72.15393406066968%2c-286.0398744922961L79.34616825508024%2c-273.73195937492665Q0%2c0%2c-293.3820806291355%2c-114.68197227864297Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M28.171794439415475%2c313.7377089195102A315%2c315%2c0%2c0%2c1%2c7.173479270619128%2c314.91830876459693Q0%2c0%2c-50.14133671653243%2c280.55453365126596L-61.566214998222314%2c288.50407479062176L-68.75080782380472%2c276.5833082880713Q0%2c0%2c28.171794439415475%2c313.7377089195102Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-62.51800230937679%2c-308.7337030310179A315%2c315%2c0%2c0%2c1%2c-42.857113222885914%2c-312.0709339977063Q0%2c0%2c-26.77555858083359%2c-283.73943938530005L-18.40449419682479%2c-294.42532940180104L-8.767847129679572%2c-284.8650994009455Q0%2c0%2c-62.51800230937679%2c-308.7337030310179Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-284.6317861377447%2c-134.94349306297488A315%2c315%2c0%2c0%2c1%2c-275.63128215345654%2c-152.48736438945235Q0%2c0%2c-32.48995051503272%2c283.14201933928973L-42.786276810956664%2c291.8806854121324L-50.14133671653243%2c280.55453365126596Q0%2c0%2c-284.6317861377447%2c-134.94349306297488Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-314.9940634233079%2c1.9339100478249036A315%2c315%2c0%2c0%2c1%2c-314.6042816350658%2c-15.784358614914433Q0%2c0%2c-280.9812138252342%2c-47.69232094685704L-289.3363925077958%2c-57.52783648439031L-277.8542944955369%2c-63.41916926598325Q0%2c0%2c-314.9940634233079%2c1.9339100478249036Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M292.0590028165481%2c-118.01075744949495A315%2c315%2c0%2c0%2c1%2c297.4336346517577%2c-103.72190211254672Q0%2c0%2c-18.733558139180687%2c284.38363841727244L-26.518199205913167%2c293.8056927815993L-32.48995051503272%2c283.14201933928973Q0%2c0%2c292.0590028165481%2c-118.01075744949495Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M101.10884827520199%2c298.33203113387304A315%2c315%2c0%2c0%2c1%2c87.9261055406742%2c302.47975132965547Q0%2c0%2c263.02320702169055%2c109.74421428041161L269.69473138732064%2c119.53975013325469L257.9564742110795%2c121.17531684542305Q0%2c0%2c101.10884827520199%2c298.33203113387304Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-275.63128215345654%2c-152.48736438945235A315%2c315%2c0%2c0%2c1%2c-268.7718938840816%2c-164.27619747840527Q0%2c0%2c267.52735450134054%2c98.25535401958545L274.6475568122201%2c107.67413587802008L263.02320702169055%2c109.74421428041161Q0%2c0%2c-275.63128215345654%2c-152.48736438945235Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M297.4336346517577%2c-103.72190211254672A315%2c315%2c0%2c0%2c1%2c301.24736647166367%2c-92.05989460067384Q0%2c0%2c49.08834236191803%2c-280.7406893276412L56.46060185772462%2c-289.54654278347635L59.98433203544251%2c-278.6160079935498Q0%2c0%2c297.4336346517577%2c-103.72190211254672Z'/%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-302.0814754062226%2c89.28483755039122A315%2c315%2c0%2c0%2c1%2c-305.2455583171615%2c77.78270455341837Q0%2c0%2c-231.54710866873825%2c-166.1653888965675L-236.3717630512307%2c-176.50322838988768L-225.0893264965717%2c-174.8136010078156Q0%2c0%2c-302.0814754062226%2c89.28483755039122Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-314.6042816350658%2c-15.784358614914433A315%2c315%2c0%2c0%2c1%2c-313.8922442966347%2c-26.39429806647251Q0%2c0%2c270.69135874154506%2c89.16943592204764L278.59147872207325%2c97.01436998428952L267.52735450134054%2c98.25535401958545Q0%2c0%2c-314.6042816350658%2c-15.784358614914433Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M7.173479270619128%2c314.91830876459693A315%2c315%2c0%2c0%2c1%2c-3.025977820588146%2c314.9854654713917Q0%2c0%2c273.43637595351225%2c80.35887197696033L281.6468823085783%2c87.74983581670027L270.69135874154506%2c89.16943592204764Q0%2c0%2c7.173479270619128%2c314.91830876459693Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-268.7718938840816%2c-164.27619747840527A315%2c315%2c0%2c0%2c1%2c-264.17124159296293%2c-171.57667415832609Q0%2c0%2c-282.1821566235534%2c-39.97787492201645L-291.48908897445926%2c-45.37742840708107L-280.9812138252342%2c-47.69232094685704Q0%2c0%2c-268.7718938840816%2c-164.27619747840527Z'/%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-305.2455583171615%2c77.78270455341837A315%2c315%2c0%2c0%2c1%2c-307.0959976869141%2c70.1216671555866Q0%2c0%2c-171.06803044991946%2c-227.94896130051882L-174.10484455754676%2c-238.14387059421134L-165.31161526657866%2c-232.15742473148404Q0%2c0%2c-305.2455583171615%2c77.78270455341837Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-264.17124159296293%2c-171.57667415832609A315%2c315%2c0%2c0%2c1%2c-259.9730810961694%2c-177.87354245464542Q0%2c0%2c-176.49485005248266%2c-223.7734745338501L-179.8920148742716%2c-233.80304314630902L-171.06803044991946%2c-227.94896130051882Q0%2c0%2c-264.17124159296293%2c-171.57667415832609Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-313.8922442966347%2c-26.39429806647251A315%2c315%2c0%2c0%2c1%2c-313.2991671210545%2c-32.68993547337703Q0%2c0%2c-180.95123232273966%2c-220.18549343878652L-185.00334466110584%2c-229.77981300411068L-176.49485005248266%2c-223.7734745338501Q0%2c0%2c-313.8922442966347%2c-26.39429806647251Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M27.549259894261816%2c-313.7929863449443A315%2c315%2c0%2c0%2c1%2c33.801216391945395%2c-313.18122193136816Q0%2c0%2c-32.42836265656225%2c-283.14907963017373L-30.64214921739402%2c-293.4042581343L-26.77555858083359%2c-283.73943938530005Q0%2c0%2c27.549259894261816%2c-313.7929863449443Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-217.51888409045077%2c-227.83883572394993A315%2c315%2c0%2c0%2c1%2c-214.36922982301414%2c-230.80475147857715Q0%2c0%2c-183.95819353640752%2c-217.67954205855366L-188.86108588193673%2c-226.61970399657602L-180.95123232273966%2c-220.18549343878652Q0%2c0%2c-217.51888409045077%2c-227.83883572394993Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M306.5106254330534%2c72.63770712679766A315%2c315%2c0%2c0%2c1%2c305.56033362922454%2c76.53680495289174Q0%2c0%2c275.4371033988507%2c-73.20793721483233L285.5784913264376%2c-73.9589432842019L276.34742968349775%2c-69.69288419432985Q0%2c0%2c306.5106254330534%2c72.63770712679766Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-214.36922982301414%2c-230.80475147857715A315%2c315%2c0%2c0%2c1%2c-211.52122325597333%2c-233.41759169414948Q0%2c0%2c274.40176048418664%2c76.99788206943792L283.53559934200695%2c81.44055442940517L273.43637595351225%2c80.35887197696033Q0%2c0%2c-214.36922982301414%2c-230.80475147857715Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M-3.025977820588146%2c314.9854654713917A315%2c315%2c0%2c0%2c1%2c-6.865621754049611%2c314.9251708548085Q0%2c0%2c45.66229102319265%2c-281.31824537081354L49.038519508209944%2c-290.89555445974577L49.08834236191803%2c-280.7406893276412Q0%2c0%2c-3.025977820588146%2c314.9854654713917Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M301.24736647166367%2c-92.05989460067384A315%2c315%2c0%2c0%2c1%2c302.26254385476324%2c-88.66991926491941Q0%2c0%2c-186.39196369940686%2c-215.59924830174847L-191.67547357989787%2c-224.24431504036366L-183.95819353640752%2c-217.67954205855366Q0%2c0%2c301.24736647166367%2c-92.05989460067384Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-313.2991671210545%2c-32.68993547337703A315%2c315%2c0%2c0%2c1%2c-312.9400345388795%2c-35.96574457459351Q0%2c0%2c-233.2727867479492%2c-163.73395177190898L-240.56797392548913%2c-170.7397139548534L-231.54710866873825%2c-166.1653888965675Q0%2c0%2c-313.2991671210545%2c-32.68993547337703Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M305.56033362922454%2c76.53680495289174A315%2c315%2c0%2c0%2c1%2c304.7952937593635%2c79.52879291265076Q0%2c0%2c-15.944604638829267%2c284.5536321731132L-17.947685847233995%2c294.4535287150232L-18.733558139180687%2c284.38363841727244Q0%2c0%2c305.56033362922454%2c76.53680495289174Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M-6.865621754049611%2c314.9251708548085A315%2c315%2c0%2c0%2c1%2c-9.929527932014844%2c314.84346027041335Q0%2c0%2c274.7117494128154%2c-75.88448283114619L284.72953030706077%2c-77.16277970058198L275.4371033988507%2c-73.20793721483233Q0%2c0%2c-6.865621754049611%2c314.9251708548085Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M33.801216391945395%2c-313.18122193136816A315%2c315%2c0%2c0%2c1%2c36.73992577619219%2c-312.85008846724Q0%2c0%2c-13.272463683751202%2c284.6907826182005L-15.121280906372725%2c294.61219741170015L-15.944604638829267%2c284.5536321731132Q0%2c0%2c33.801216391945395%2c-313.18122193136816Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M304.7952937593635%2c79.52879291265076A315%2c315%2c0%2c0%2c1%2c304.0525622035829%2c82.32277581226437Q0%2c0%2c-188.36282767959653%2c-213.87951081986938L-193.95408332278876%2c-222.2764350137385L-186.39196369940686%2c-215.59924830174847Q0%2c0%2c304.7952937593635%2c79.52879291265076Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M36.73992577619219%2c-312.85008846724A315%2c315%2c0%2c0%2c1%2c39.28071279507187%2c-312.54123824274944Q0%2c0%2c74.13790124698859%2c275.18824756644636L75.58136733132824%2c285.1533919004416L71.89946770224108%2c275.78155584471995Q0%2c0%2c36.73992577619219%2c-312.85008846724Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-42.857113222885914%2c-312.0709339977063A315%2c315%2c0%2c0%2c1%2c-40.334496536014285%2c-312.4069915817926Q0%2c0%2c-282.4959283070007%2c-37.69682334051392L-292.2480599647539%2c-40.200391127918294L-282.1821566235534%2c-39.97787492201645Q0%2c0%2c-42.857113222885914%2c-312.0709339977063Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M39.28071279507187%2c-312.54123824274944A315%2c315%2c0%2c0%2c1%2c41.44290216354192%2c-312.2618866596804Q0%2c0%2c43.71416473249592%2c-281.6275409148406L46.25651284823363%2c-291.35087955783007L45.66229102319265%2c-281.31824537081354Q0%2c0%2c39.28071279507187%2c-312.54123824274944Z'/%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-307.0959976869141%2c70.1216671555866A315%2c315%2c0%2c0%2c1%2c-307.46336308449736%2c68.4929219757089Q0%2c0%2c-282.6917716273913%2c-36.19892614659791L-292.5104509276101%2c-38.24442571311785L-282.4959283070007%2c-37.69682334051392Q0%2c0%2c-307.0959976869141%2c70.1216671555866Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M-9.929527932014844%2c314.84346027041335A315%2c315%2c0%2c0%2c1%2c-11.470532374172151%2c314.79108451011297Q0%2c0%2c75.48402865553258%2c274.82205409670223L77.4361430121711%2c284.65530691592346L74.13790124698859%2c275.18824756644636Q0%2c0%2c-9.929527932014844%2c314.84346027041335Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-312.9400345388795%2c-35.96574457459351A315%2c315%2c0%2c0%2c1%2c-312.76725573852883%2c-37.438532794297664Q0%2c0%2c76.77693597084381%2c274.46366262754884L78.80194560139459%2c284.2802373881006L75.48402865553258%2c274.82205409670223Q0%2c0%2c-312.9400345388795%2c-35.96574457459351Z'/%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-307.46336308449736%2c68.4929219757089A315%2c315%2c0%2c0%2c1%2c-307.77323847727854%2c67.08676230977478Q0%2c0%2c274.36200421835065%2c-77.13942339225599L284.1704919055758%2c-79.19678989796942L274.7117494128154%2c-75.88448283114619Q0%2c0%2c-307.46336308449736%2c68.4929219757089Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M41.44290216354192%2c-312.2618866596804A315%2c315%2c0%2c0%2c1%2c42.861060086310225%2c-312.0703919443139Q0%2c0%2c274.0087336088243%2c-78.38503623835581L283.806640337913%2c-80.49093675754115L274.36200421835065%2c-77.13942339225599Q0%2c0%2c41.44290216354192%2c-312.2618866596804Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M304.0525622035829%2c82.32277581226437A315%2c315%2c0%2c0%2c1%2c303.6866654022048%2c83.66247221358738Q0%2c0%2c42.47211008351596%2c-281.8175293785922L44.605285693026715%2c-291.6082448907154L43.71416473249592%2c-281.6275409148406Q0%2c0%2c304.0525622035829%2c82.32277581226437Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-259.9730810961694%2c-177.87354245464542A315%2c315%2c0%2c0%2c1%2c-259.2133074006057%2c-178.97894084623226Q0%2c0%2c-278.6463937558491%2c59.84302170562843L-288.55468839227126%2c61.32855621029434L-278.8986896171418%2c58.65595391638598Q0%2c0%2c-259.9730810961694%2c-177.87354245464542Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M42.861060086310225%2c-312.0703919443139A315%2c315%2c0%2c0%2c1%2c44.03626109202079%2c-311.90672918203506Q0%2c0%2c-189.1671315536184%2c-213.16846938460677L-195.38865877617548%2c-221.01645192529733L-188.36282767959653%2c-213.87951081986938Q0%2c0%2c42.861060086310225%2c-312.0703919443139Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M44.03626109202079%2c-311.90672918203506A315%2c315%2c0%2c0%2c1%2c44.9740777478254%2c-311.77288581711616Q0%2c0%2c-233.76413878353355%2c-163.03167612090868L-241.71236630128053%2c-169.11573545071317L-233.2727867479492%2c-163.73395177190898Q0%2c0%2c44.03626109202079%2c-311.90672918203506Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M-11.470532374172151%2c314.79108451011297A315%2c315%2c0%2c0%2c1%2c-12.370337714841433%2c314.7570090479651Q0%2c0%2c-189.77571556374974%2c-212.62685103783753L-196.1197440061572%2c-220.36797864245017L-189.1671315536184%2c-213.16846938460677Q0%2c0%2c-11.470532374172151%2c314.79108451011297Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M44.9740777478254%2c-311.77288581711616A315%2c315%2c0%2c0%2c1%2c45.85284146744636%2c-311.6448570558501Q0%2c0%2c-282.7926993645098%2c-35.40182461588636L-292.66330644135417%2c-37.05656571802142L-282.6917716273913%2c-36.19892614659791Q0%2c0%2c44.9740777478254%2c-311.77288581711616Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-40.334496536014285%2c-312.4069915817926A315%2c315%2c0%2c0%2c1%2c-39.463306782868244%2c-312.51823533637395Q0%2c0%2c-12.478655659004264%2c284.726681491117L-13.327346645313574%2c294.6987984899084L-13.272463683751202%2c284.6907826182005Q0%2c0%2c-40.334496536014285%2c-312.4069915817926Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M303.6866654022048%2c83.66247221358738A315%2c315%2c0%2c0%2c1%2c303.45950681337814%2c84.48270665989178Q0%2c0%2c77.51823706984545%2c274.25521493963106L79.85459225238918%2c283.9863449115198L76.77693597084381%2c274.46366262754884Q0%2c0%2c303.6866654022048%2c83.66247221358738Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-39.463306782868244%2c-312.51823533637395A315%2c315%2c0%2c0%2c1%2c-38.652217412573556%2c-312.61958686091816Q0%2c0%2c-190.32682404409795%2c-212.13368438154038L-196.71990098945625%2c-219.83239195964393L-189.77571556374974%2c-212.62685103783753Q0%2c0%2c-39.463306782868244%2c-312.51823533637395Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-312.76725573852883%2c-37.438532794297664A315%2c315%2c0%2c0%2c1%2c-312.6715014262405%2c-38.2299907907451Q0%2c0%2c-33.14487650666057%2c-283.06610033940524L-33.93705445874144%2c-293.04142426398425L-32.42836265656225%2c-283.14907963017373Q0%2c0%2c-312.76725573852883%2c-37.438532794297664Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-211.52122325597333%2c-233.41759169414948A315%2c315%2c0%2c0%2c1%2c-211.06463375668858%2c-233.830537734392Q0%2c0%2c41.92125179822635%2c-281.8999976014007L43.677287090690356%2c-291.7486839600093L42.47211008351596%2c-281.8175293785922Q0%2c0%2c-211.52122325597333%2c-233.41759169414948Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-259.2133074006057%2c-178.97894084623226A315%2c315%2c0%2c0%2c1%2c-258.88314502276046%2c-179.45617075799981Q0%2c0%2c273.863864434184%2c-78.88969360553322L283.5482192775042%2c-81.39660523975424L274.0087336088243%2c-78.38503623835581Q0%2c0%2c-259.2133074006057%2c-178.97894084623226Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-38.652217412573556%2c-312.61958686091816A315%2c315%2c0%2c0%2c1%2c-38.142167458577696%2c-312.68222696783045Q0%2c0%2c273.7348016509114%2c-79.33636218743725L283.40642146568285%2c-81.88895085428655L273.863864434184%2c-78.88969360553322Q0%2c0%2c-38.652217412573556%2c-312.61958686091816Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M87.9261055406742%2c302.47975132965547A315%2c315%2c0%2c0%2c1%2c87.4393099365294%2c302.6208305418243Q0%2c0%2c-12.020521926270415%2c284.7463907631141L-12.679403028761818%2c294.72738715435696L-12.478655659004264%2c284.726681491117Q0%2c0%2c87.9261055406742%2c302.47975132965547Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M87.4393099365294%2c302.6208305418243A315%2c315%2c0%2c0%2c1%2c86.9753568970163%2c302.7545000369716Q0%2c0%2c41.489112650264616%2c-281.96392239343965L43.168534628973596%2c-291.8243951728284L41.92125179822635%2c-281.8999976014007Q0%2c0%2c87.4393099365294%2c302.6208305418243Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-312.6715014262405%2c-38.2299907907451A315%2c315%2c0%2c0%2c1%2c-312.62420547186116%2c-38.61484368850341Q0%2c0%2c273.636935455362%2c-79.67325495169662L283.28893514080437%2c-82.2944665623949L273.7348016509114%2c-79.33636218743725Q0%2c0%2c-312.6715014262405%2c-38.2299907907451Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M303.45950681337814%2c84.48270665989178A315%2c315%2c0%2c0%2c1%2c303.3594262878872%2c84.84137246817711Q0%2c0%2c-33.47947077919315%2c-283.0267214175106L-34.48102786390973%2c-292.97791506775434L-33.14487650666057%2c-283.06610033940524Q0%2c0%2c303.45950681337814%2c84.48270665989178Z'/%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-307.77323847727854%2c67.08676230977478A315%2c315%2c0%2c0%2c1%2c-307.8503335406365%2c66.73209227140171Q0%2c0%2c77.83419065052979%2c274.16571405953914L80.40170839127083%2c283.83193140970775L77.51823706984545%2c274.25521493963106Q0%2c0%2c-307.77323847727854%2c67.08676230977478Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M-12.370337714841433%2c314.7570090479651A315%2c315%2c0%2c0%2c1%2c-12.677081225493662%2c314.74480394694723Q0%2c0%2c-278.58794085525363%2c60.114550734657406L-288.3932425019102%2c62.08331240546376L-278.6463937558491%2c59.84302170562843Q0%2c0%2c-12.370337714841433%2c314.7570090479651Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M302.26254385476324%2c-88.66991926491941A315%2c315%2c0%2c0%2c1%2c302.3410737908786%2c-88.40178221607573Q0%2c0%2c-33.730497903132324%2c-282.9969143139317L-34.78411001951041%2c-292.94208589779413L-33.47947077919315%2c-283.0267214175106Q0%2c0%2c302.26254385476324%2c-88.66991926491941Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-211.06463375668858%2c-233.830537734392A315%2c315%2c0%2c0%2c1%2c-210.86444423012222%2c-234.01108127505773Q0%2c0%2c-233.90357573081573%2c-162.83156100811217L-242.0385761614982%2c-168.6485329011629L-233.76413878353355%2c-163.03167612090868Q0%2c0%2c-211.06463375668858%2c-233.830537734392Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-210.86444423012222%2c-234.01108127505773A315%2c315%2c0%2c0%2c1%2c-210.6736632310846%2c-234.18285082557935Q0%2c0%2c-11.788459429802975%2c284.7560925147553L-12.322193128338593%2c294.7425377452463L-12.020521926270415%2c284.7463907631141Q0%2c0%2c-210.86444423012222%2c-234.01108127505773Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-38.142167458577696%2c-312.68222696783045A315%2c315%2c0%2c0%2c1%2c-37.904513203477975%2c-312.7111252878723Q0%2c0%2c78.04253827580034%2c274.106479710842L80.67304974284089%2c283.75492779014274L77.83419065052979%2c274.16571405953914Q0%2c0%2c-38.142167458577696%2c-312.68222696783045Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M-12.677081225493662%2c314.74480394694723A315%2c315%2c0%2c0%2c1%2c-12.890992126590579%2c314.7361153760276Q0%2c0%2c-33.92282673846814%2c-282.9739242864471L-35.01356477476362%2c-292.9147491707501L-33.730497903132324%2c-282.9969143139317Q0%2c0%2c-12.677081225493662%2c314.74480394694723Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-258.88314502276046%2c-179.45617075799981A315%2c315%2c0%2c0%2c1%2c-258.77765152154495%2c-179.60826003553913Q0%2c0%2c78.20359032338173%2c274.0605744366246L80.86422794051525%2c283.70050518034753L78.04253827580034%2c274.106479710842Q0%2c0%2c-258.88314502276046%2c-179.45617075799981Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M303.3594262878872%2c84.84137246817711A315%2c315%2c0%2c0%2c1%2c303.31815896626%2c84.98879009209755Q0%2c0%2c-233.98268154342048%2c-162.71786852632462L-242.15166661540943%2c-168.4861132419512L-233.90357573081573%2c-162.83156100811217Q0%2c0%2c303.3594262878872%2c84.84137246817711Z'/%3e%3cpath fill='rgb(119%2c 198%2c 167)' d='M-307.8503335406365%2c66.73209227140171A315%2c315%2c0%2c0%2c1%2c-307.882660742244%2c66.58278466898382Q0%2c0%2c-34.06005806407837%2c-282.9574392813725L-35.18412562520883%2c-292.8943108085057L-33.92282673846814%2c-282.9739242864471Q0%2c0%2c-307.8503335406365%2c66.73209227140171Z'/%3e%3cpath fill='rgb(67%2c 143%2c 180)' d='M-258.77765152154495%2c-179.60826003553913A315%2c315%2c0%2c0%2c1%2c-258.6989807852018%2c-179.72155502526067Q0%2c0%2c-34.18395472643565%2c-282.9424981144773L-35.31927062403622%2c-292.87804479439234L-34.06005806407837%2c-282.9574392813725Q0%2c0%2c-258.77765152154495%2c-179.60826003553913Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-210.6736632310846%2c-234.18285082557935A315%2c315%2c0%2c0%2c1%2c-210.57820338078133%2c-234.26869244720325Q0%2c0%2c-282.8071040633262%2c-35.28656814306192L-292.7227113605176%2c-36.58434438044602L-282.7926993645098%2c-35.40182461588636Q0%2c0%2c-210.6736632310846%2c-234.18285082557935Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M86.9753568970163%2c302.7545000369716A315%2c315%2c0%2c0%2c1%2c86.85270203640124%2c302.7897094502653Q0%2c0%2c-282.8213756648302%2c-35.17199833749857L-292.73755253115866%2c-36.46539918974041L-282.8071040633262%2c-35.28656814306192Q0%2c0%2c86.9753568970163%2c302.7545000369716Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M86.85270203640124%2c302.7897094502653A315%2c315%2c0%2c0%2c1%2c86.73432930790327%2c302.8236386405595Q0%2c0%2c-278.5644196800855%2c60.22345131505823L-288.35078859220135%2c62.280195232960004L-278.58794085525363%2c60.114550734657406Q0%2c0%2c86.85270203640124%2c302.7897094502653Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M303.31815896626%2c84.98879009209755A315%2c315%2c0%2c0%2c1%2c303.28624213071475%2c85.1026164946148Q0%2c0%2c-282.8345554608114%2c-35.065855718707574L-292.7517589821829%2c-36.35117072169616L-282.8213756648302%2c-35.17199833749857Q0%2c0%2c303.31815896626%2c84.98879009209755Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-210.57820338078133%2c-234.26869244720325A315%2c315%2c0%2c0%2c1%2c-210.49077608792626%2c-234.34724914515743Q0%2c0%2c78.30584505085749%2c274.03137526726954L81.00049866475928%2c283.6616280289957L78.20359032338173%2c274.0605744366246Q0%2c0%2c-210.57820338078133%2c-234.26869244720325Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M302.3410737908786%2c-88.40178221607573A315%2c315%2c0%2c0%2c1%2c302.3719969342438%2c-88.29595387104483Q0%2c0%2c78.40175445707638%2c274.00395051541193L81.1030571276591%2c283.6323220730452L78.30584505085749%2c274.03137526726954Q0%2c0%2c302.3410737908786%2c-88.40178221607573Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-210.49077608792626%2c-234.34724914515743A315%2c315%2c0%2c0%2c1%2c-210.41064664408708%2c-234.4191966943346Q0%2c0%2c273.6096812800558%2c-79.76679954609122L283.22413034299115%2c-82.51722239300324L273.636935455362%2c-79.67325495169662Q0%2c0%2c-210.49077608792626%2c-234.34724914515743Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M302.3719969342438%2c-88.29595387104483A315%2c315%2c0%2c0%2c1%2c302.392528244889%2c-88.22561341052852Q0%2c0%2c-282.842704862239%2c-35.00006151726551L-292.7627946035998%2c-36.2621854814413L-282.8345554608114%2c-35.065855718707574Q0%2c0%2c302.3719969342438%2c-88.29595387104483Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M-12.890992126590579%2c314.7361153760276A315%2c315%2c0%2c0%2c1%2c-12.962097996928314%2c314.7331949691961Q0%2c0%2c-234.0194373182285%2c-162.66500225082137L-242.21162446497507%2c-168.3999078801348L-233.98268154342048%2c-162.71786852632462Q0%2c0%2c-12.890992126590579%2c314.7361153760276Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-312.62420547186116%2c-38.61484368850341A315%2c315%2c0%2c0%2c1%2c-312.6170223156321%2c-38.672953837373235Q0%2c0%2c-11.735528555394511%2c284.7582788428205L-12.174695588780672%2c294.7486671510501L-11.788459429802975%2c284.7560925147553Q0%2c0%2c-312.62420547186116%2c-38.61484368850341Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-37.904513203477975%2c-312.7111252878723A315%2c315%2c0%2c0%2c1%2c-37.84719635387472%2c-312.71806747956094Q0%2c0%2c-234.04924793869318%2c-162.62210655176045L-242.246074966025%2c-168.35034649074828L-234.0194373182285%2c-162.66500225082137Q0%2c0%2c-37.904513203477975%2c-312.7111252878723Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-210.41064664408708%2c-234.4191966943346A315%2c315%2c0%2c0%2c1%2c-210.38050944974705%2c-234.44624382502892Q0%2c0%2c-34.22032774974699%2c-282.9381013025639L-35.402216442384656%2c-292.8680301278488L-34.18395472643565%2c-282.9424981144773Q0%2c0%2c-210.41064664408708%2c-234.4191966943346Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M86.73432930790327%2c302.8236386405595A315%2c315%2c0%2c0%2c1%2c86.69723151471652%2c302.8342616806818Q0%2c0%2c273.5999074656706%2c-79.80031725987376L283.20496312773867%2c-82.58298165975954L273.6096812800558%2c-79.76679954609122Q0%2c0%2c86.73432930790327%2c302.8236386405595Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M86.69723151471652%2c302.8342616806818A315%2c315%2c0%2c0%2c1%2c86.6724334988453%2c302.8413599087619Q0%2c0%2c-190.34419407200465%2c-212.11809866930037L-197.01394813749684%2c-219.56890544718692L-190.32682404409795%2c-212.13368438154038Q0%2c0%2c86.69723151471652%2c302.8342616806818Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M302.392528244889%2c-88.22561341052852A315%2c315%2c0%2c0%2c1%2c302.3983477684235%2c-88.20566459659835Q0%2c0%2c-234.05997549515664%2c-162.60666613397703L-242.26705436509994%2c-168.32015437628885L-234.04924793869318%2c-162.62210655176045Q0%2c0%2c302.392528244889%2c-88.22561341052852Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M86.6724334988453%2c302.8413599087619A315%2c315%2c0%2c0%2c1%2c86.6564464311644%2c302.8459349106782Q0%2c0%2c-34.235263959142046%2c-282.9362944226984L-35.42877115992439%2c-292.8648189422856L-34.22032774974699%2c-282.9381013025639Q0%2c0%2c86.6724334988453%2c302.8413599087619Z'/%3e%3cpath fill='rgb(94%2c 79%2c 162)' d='M-12.962097996928314%2c314.7331949691961A315%2c315%2c0%2c0%2c1%2c-12.970847350699197%2c314.7328345104858Q0%2c0%2c-282.8436777297441%2c-34.99219867788597L-292.7675138258867%2c-36.22406449046361L-282.842704862239%2c-35.00006151726551Q0%2c0%2c-12.962097996928314%2c314.7331949691961Z'/%3e%3cpath fill='rgb(254%2c 237%2c 161)' d='M-37.84719635387472%2c-312.71806747956094A315%2c315%2c0%2c0%2c1%2c-37.83897595484121%2c-312.71906225666663Q0%2c0%2c-278.5628364965018%2c60.23077388696909L-288.3377905022618%2c62.34034462748651L-278.5644196800855%2c60.22345131505823Q0%2c0%2c-37.84719635387472%2c-312.71806747956094Z'/%3e%3cpath fill='rgb(158%2c 1%2c 66)' d='M302.3983477684235%2c-88.20566459659835A315%2c315%2c0%2c0%2c1%2c302.3998977252148%2c-88.20035065564994Q0%2c0%2c-278.561778041772%2c60.23566895292648L-288.3364233247977%2c62.346667787966545L-278.5628364965018%2c60.23077388696909Q0%2c0%2c302.3983477684235%2c-88.20566459659835Z'/%3e%3cpath fill='rgb(240%2c 248%2c 169)' d='M45.85284146744636%2c-311.6448570558501A315%2c315%2c0%2c0%2c1%2c45.85638766608194%2c-311.6443352769596Q0%2c0%2c-278.5610926030705%2c60.2388386988294L-288.3355207769975%2c62.350841680426676L-278.561778041772%2c60.23566895292648Q0%2c0%2c45.85284146744636%2c-311.6448570558501Z'/%3e%3cpath fill='rgb(214%2c 66%2c 75)' d='M-312.6170223156321%2c-38.672953837373235A315%2c315%2c0%2c0%2c1%2c-312.61669643813826%2c-38.67558801240029Q0%2c0%2c-278.56058500813026%2c60.241185910705816L-288.33490332765416%2c62.353696947593555L-278.5610926030705%2c60.2388386988294Q0%2c0%2c-312.6170223156321%2c-38.672953837373235Z'/%3e%3cpath fill='rgb(253%2c 190%2c 112)' d='M86.6564464311644%2c302.8459349106782A315%2c315%2c0%2c0%2c1%2c86.65457071571599%2c302.84647162229743Q0%2c0%2c-234.06098261518255%2c-162.60521645142632L-242.27312744423205%2c-168.31141291781404L-234.05997549515664%2c-162.60666613397703Q0%2c0%2c86.6564464311644%2c302.8459349106782Z'/%3e%3cpath fill='rgb(244%2c 125%2c 77)' d='M303.28624213071475%2c85.1026164946148A315%2c315%2c0%2c0%2c1%2c303.2861563246273%2c85.10292228727349Q0%2c0%2c-278.5605242689493%2c60.24146677337898L-288.33460918729713%2c62.355057090893915L-278.56058500813026%2c60.241185910705816Q0%2c0%2c303.28624213071475%2c85.1026164946148Z'/%3e%3cpath fill='rgb(190%2c 229%2c 160)' d='M-210.38050944974705%2c-234.44624382502892Q0%2c0%2c-278.560502576316%2c60.24156708146155L-288.33456652518583%2c62.35525436347111L-278.5605242689493%2c60.24146677337898Q0%2c0%2c-210.38050944974705%2c-234.44624382502892Z'/%3e%3c/g%3e%3cg font-size='14' font-family='sans-serif'%3e%3cg%3e%3cg%3e%3cg transform='rotate(-69.13851037590459) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' font-weight='bold'%3eNorth America %e2%86%93%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cg transform='rotate(-22.427130600120364) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' font-weight='bold'%3eAfrica %e2%86%93%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cg transform='rotate(32.60959423429597) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' font-weight='bold'%3eEurope %e2%86%93%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cg transform='rotate(73.3326835624458) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' font-weight='bold'%3eFmr Soviet Union %e2%86%93%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cg transform='rotate(104.52798892095473) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' transform='rotate(180) translate(-16)' text-anchor='end' font-weight='bold'%3e%e2%86%91 West Asia%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cg transform='rotate(149.73498207993072) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' transform='rotate(180) translate(-16)' text-anchor='end' font-weight='bold'%3e%e2%86%91 South Asia%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cg transform='rotate(184.07010618269186) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' transform='rotate(180) translate(-16)' text-anchor='end' font-weight='bold'%3e%e2%86%91 East Asia%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cg transform='rotate(209.5923619259013) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' transform='rotate(180) translate(-16)' text-anchor='end' font-weight='bold'%3e%e2%86%91 South-East Asia%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cg transform='rotate(230.43701340499945) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' transform='rotate(180) translate(-16)' text-anchor='end' font-weight='bold'%3e%e2%86%91 Oceania%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cg transform='rotate(252.27329539887978) translate(350%2c0)'%3e%3ctext x='8' dy='0.35em' transform='rotate(180) translate(-16)' text-anchor='end' font-weight='bold'%3e%e2%86%91 Latin America%3c/text%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n\n/*\nCopied and adapted from:\nhttps://github.com/rawgraphs/rawgraphs-charts/blob/master/docs/add-a-new-chart.md\n*/\n\nconst metadata$x = {\n  name: 'Chord Diagram',\n  id: 'rawgraphs.chorddiagram',\n  thumbnail: img$11,\n  icon: img$10,\n  categories: ['networks'],\n  description: '' //TODO\n  // code:\n  //   'https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/arcdiagram',\n  // tutorial: 'https://rawgraphs.io/learning/how-to-make-an-arc-diagram/',\n\n};\n\n/*\nCopied from:\nhttps://github.com/rawgraphs/rawgraphs-charts/tree/master/src/arcdiagram/dimensions.js\n*/\nconst dimensions$x = [{\n  id: 'source',\n  name: 'Source node',\n  validTypes: ['number', 'date', 'string'],\n  required: true\n}, {\n  id: 'target',\n  name: 'Target node',\n  validTypes: ['number', 'date', 'string'],\n  required: true\n}, {\n  id: 'size',\n  name: 'Size',\n  validTypes: ['number'],\n  required: false,\n  aggregation: true,\n  aggregationDefault: 'sum'\n}];\n\n/*\nCopied from:\nhttps://github.com/rawgraphs/rawgraphs-charts/tree/master/src/arcdiagram/mapping.js\n*/\nconst mapData$x = function (data, mapping, dataTypes, dimensions) {\n  const sizeAggregator = getDimensionAggregator('size', mapping, dataTypes, dimensions);\n  const results = [];\n  rollups(data, v => {\n    const item = {\n      source: v[0][mapping.source.value],\n      target: v[0][mapping.target.value],\n      value: mapping.size.value ? sizeAggregator(v.map(d => d[mapping.size.value])) : 1\n    };\n    results.push(item);\n    return item;\n  }, d => d[mapping.source.value] + d[mapping.target.value] // crossgrup functions. aggregate links among same source and target\n  );\n  return results;\n};\n\n/*\nChord Diagram mainly based on the documents by Mike Bostrock: \nhttps://observablehq.com/@d3/chord-diagram\nhttps://observablehq.com/@d3/chord-dependency-diagram\n\nAnd on the document from Yan Holtz:\nhttps://d3-graph-gallery.com/graph/chord_axis_labels.html\n\nImplementation of the Chord Diagram and the Porting to RawGraps2.0 is based on the implementation of the Arc Diagram:\nhttps://github.com/rawgraphs/rawgraphs-charts/tree/master/src/arcdiagram\n\nand on the official instructions for adding a new card;\nhttps://github.com/rawgraphs/rawgraphs-charts/blob/master/docs/add-a-new-chart.md\n*/\nfunction render$x(svgNode, data, visualOptions, mapping, originalData) {\n  const {\n    // artboard\n    width,\n    height,\n    background,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    //chart\n    ringWidth,\n    chordPadding,\n    chordPaddingSource,\n    chordPaddingTarget,\n    chordColors,\n    chordOpacity,\n    showChordGroupLabels,\n    fontSize,\n    fontFamily\n  } = visualOptions;\n  const {\n    names,\n    matrix\n  } = matrixFromData(data);\n  const innerWidth = width - marginLeft - marginRight;\n  const innerHeight = height - marginTop - marginBottom;\n  const diameter = Math.min(innerWidth, innerHeight);\n  const radius = diameter / 2;\n  const translationX = innerWidth / 2 + marginLeft;\n  const translationY = innerHeight / 2 + marginTop;\n  select(svgNode).append('rect').attr('width', width).attr('height', height).attr('x', 0).attr('y', 0).attr('fill', background).attr('id', 'backgorund');\n  const svg = select(svgNode).append('g').attr('transform', `translate(${translationX},${translationY})`).attr('id', 'chord_diagram');\n  const outerRadius = radius;\n  const innerRadius = outerRadius - ringWidth;\n  const chords = createChords(matrix, innerRadius);\n  drawRing(svg, chords, innerRadius, outerRadius);\n  drawChords(svg, chords, innerRadius);\n\n  if (showChordGroupLabels) {\n    drawGroupLabels(svg, chords, names, outerRadius);\n  }\n\n  function matrixFromData(data) {\n    let names = Array.from(new Set(data.flatMap(entry => [entry.source, entry.target])));\n    const numberOfNodes = names.length;\n    const matrix = Array(numberOfNodes);\n\n    for (let row = 0; row < numberOfNodes; row++) {\n      matrix[row] = Array(numberOfNodes).fill(0);\n    }\n\n    for (let entry of data) {\n      const sourceIndex = names.indexOf(entry.source);\n      const targetIndex = names.indexOf(entry.target);\n      const value = entry.value;\n      matrix[sourceIndex][targetIndex] = value;\n    }\n\n    return {\n      names,\n      matrix\n    };\n  }\n\n  function createChords(matrix, innerRadius) {\n    const chords = chordDirected().padAngle(chordPadding / innerRadius).sortSubgroups(descending).sortChords(descending);\n    return chords(matrix);\n  }\n\n  function drawRing(svg, chords, innerRadius, outerRadius) {\n    const arc$1 = arc().innerRadius(innerRadius).outerRadius(outerRadius);\n    svg.append(\"g\").selectAll(\"g\").data(chords.groups).join(\"g\").append(\"path\").attr(\"fill\", d => chordColors(names[d.index])).attr(\"d\", arc$1);\n  }\n\n  function drawChords(svg, chords, innerRadius) {\n    const ribbon = ribbonArrow().sourceRadius(() => innerRadius - chordPaddingSource).targetRadius(() => innerRadius - chordPaddingTarget);\n    svg.append(\"g\").attr(\"fill-opacity\", chordOpacity).selectAll(\"path\").data(chords).join(\"path\").attr(\"fill\", d => chordColors(names[d.source.index])).attr(\"d\", ribbon);\n  }\n\n  function drawGroupLabels(svg, chords, names, radius) {\n    const labels = svg.append(\"g\").attr(\"font-size\", fontSize).attr(\"font-family\", fontFamily).selectAll(\"g\").data(chords.groups).join(\"g\");\n    labels.append(\"g\").selectAll(\"g\").data(d => [{\n      value: d.value,\n      angle: (d.startAngle + d.endAngle) / 2\n    }]).join(\"g\").attr(\"transform\", d => `rotate(${d.angle * 180 / Math.PI - 90}) translate(${radius},0)`).append(\"text\").attr(\"x\", 8).attr(\"dy\", \"0.35em\").attr(\"transform\", d => d.angle > Math.PI ? \"rotate(180) translate(-16)\" : null).attr(\"text-anchor\", d => d.angle > Math.PI ? \"end\" : null);\n    labels.select(\"text\").attr(\"font-weight\", \"bold\").text(function (d) {\n      return this.getAttribute(\"text-anchor\") === \"end\" ? ` ${names[d.index]}` : `${names[d.index]} `;\n    });\n  }\n}\n\n/*\nCopied and customized from:\nhttps://github.com/rawgraphs/rawgraphs-charts/tree/master/src/arcdiagram/visualOptions.js\n*/\nconst visualOptions$x = {\n  marginTop: {\n    type: 'number',\n    label: 'Margin (top)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginRight: {\n    type: 'number',\n    label: 'Margin (right)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginBottom: {\n    type: 'number',\n    label: 'Margin (bottom)',\n    default: 50,\n    group: 'artboard'\n  },\n  marginLeft: {\n    type: 'number',\n    label: 'Margin (left)',\n    default: 50,\n    group: 'artboard'\n  },\n  ringWidth: {\n    type: 'number',\n    label: 'Ring width',\n    default: 10,\n    group: 'chart'\n  },\n  chordPadding: {\n    type: 'number',\n    label: 'Category padding',\n    default: 10,\n    group: 'chart'\n  },\n  chordPaddingSource: {\n    type: 'number',\n    label: 'Chord padding (source)',\n    default: 10,\n    group: 'chart'\n  },\n  chordPaddingTarget: {\n    type: 'number',\n    label: 'Chord padding (target)',\n    default: 30,\n    group: 'chart'\n  },\n\n  /*\n  Inspired and customized from barchart:\n  https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/barchart\n  */\n  chordColors: {\n    type: 'colorScale',\n    label: 'Chord Colors',\n    dimension: 'source',\n    default: {\n      scaleType: 'ordinal',\n      interpolator: 'interpolateSpectral'\n    },\n    group: 'colors'\n  },\n  chordOpacity: {\n    type: 'number',\n    label: 'Chord opacity',\n    default: 0.7,\n    min: 0.1,\n    max: 1,\n    step: 0.05,\n    group: 'colors'\n  },\n\n  /*\n  Copied and customized from linechart:\n  https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/linechart\n  */\n  showChordGroupLabels: {\n    type: 'boolean',\n    label: 'Show Chord Group Labels',\n    default: true,\n    group: 'labels'\n  },\n  fontSize: {\n    type: 'number',\n    label: 'Font size',\n    default: 12,\n    group: 'labels'\n  },\n\n  /*\n  Inspired and customized from barchart:\n  https://github.com/rawgraphs/rawgraphs-charts/tree/master/src/barchart\n  */\n  fontFamily: {\n    type: 'text',\n    label: 'Font family',\n    group: 'labels',\n    options: [{\n      label: 'Serif',\n      value: 'serif'\n    }, {\n      label: 'Sans-serif',\n      value: 'sans-serif'\n    }, {\n      label: 'Monospace',\n      value: 'monospace'\n    }],\n    default: 'sans-serif'\n  }\n};\n\n/*\nCopied from:\nhttps://github.com/rawgraphs/rawgraphs-charts/blob/master/docs/add-a-new-chart.md\n*/\nvar chorddiagram = {\n  metadata: metadata$x,\n  dimensions: dimensions$x,\n  mapData: mapData$x,\n  render: render$x,\n  visualOptions: visualOptions$x,\n  styles: styles$1\n};\n\nexport { alluvialdiagram, arcdiagram, barchart, barchartmultiset, barchartpaired, barchartstacked, beeswarm, boxplot, bubblechart, bumpchart, chorddiagram, circlepacking, circularDendrogram, colortest, contourPlot, convexHull, dendrogram, ganttChart, hexagonalBinning, horizongraph, linechart, matrixplot, parallelcoordinates, piechart, radarchart, sankeydiagram, similaritymap, slopechart, streamgraph, sunburst, treemap, violinplot, voronoidiagram, voronoitreemap };\n","import {\n  alluvialdiagram,\n  arcdiagram,\n  barchart,\n  barchartmultiset,\n  barchartstacked,\n  barchartpaired,\n  beeswarm,\n  boxplot,\n  bubblechart,\n  bumpchart,\n  chorddiagram,\n  circlepacking,\n  circularDendrogram,\n  contourPlot,\n  convexHull,\n  dendrogram,\n  ganttChart,\n  hexagonalBinning,\n  horizongraph,\n  linechart,\n  matrixplot,\n  parallelcoordinates,\n  piechart,\n  radarchart,\n  sankeydiagram,\n  similaritymap,\n  slopechart,\n  streamgraph,\n  sunburst,\n  treemap,\n  violinplot,\n  voronoidiagram,\n  voronoitreemap\n} from '@rawgraphs/rawgraphs-charts'\n\nimport { calendarHeatmap } from '@rawgraphs/rawgraphs-calendar-heatmap'\n\n// New charts, not included into first release.\n// Comment at necessity.\nlet charts = [\n  alluvialdiagram,\n  arcdiagram,\n  barchart,\n  barchartmultiset,\n  barchartstacked,\n  barchartpaired,\n  beeswarm,\n  boxplot,\n  bubblechart,\n  bumpchart,\n  calendarHeatmap,\n  circlepacking,\n  circularDendrogram,\n  contourPlot,\n  convexHull,\n  dendrogram,\n  ganttChart,\n  hexagonalBinning,\n  horizongraph,\n  linechart,\n  matrixplot,\n  parallelcoordinates,\n  piechart,\n  radarchart,\n  sankeydiagram,\n  similaritymap,\n  slopechart,\n  streamgraph,\n  sunburst,\n  treemap,\n  violinplot,\n  voronoidiagram,\n  voronoitreemap,\n  chorddiagram,\n]\n\nexport default charts\n","import React, { useCallback } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { useDropzone } from 'react-dropzone'\nimport classNames from 'classnames'\nimport S from './LoadProject.module.scss'\nimport { deserializeProject } from '@rawgraphs/rawgraphs-core'\nimport charts from '../../../charts'\n\n\nexport default function LoadProject({ onProjectSelected, setLoadingError }) {\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      const reader = new FileReader()\n      reader.addEventListener('load', (e) => {\n        try {\n          const project = deserializeProject(e.target.result, charts)\n          setLoadingError(null)\n          onProjectSelected(project)\n        } catch (e) {\n          setLoadingError(e.message)\n        }\n      })\n      if (acceptedFiles.length) {\n        reader.readAsText(acceptedFiles[0])\n      }\n    },\n    [onProjectSelected, setLoadingError]\n  )\n  const {\n    getRootProps,\n    getInputProps,\n    isDragReject,\n    isDragAccept,\n  } = useDropzone({\n    onDrop,\n    accept: '.rawgraphs',\n    maxFiles: 1,\n  })\n  return (\n    <div\n      className={classNames(S.dropzone, {\n        [S.reject]: isDragReject,\n        [S.accept]: isDragAccept,\n      })}\n      {...getRootProps()}\n    >\n      <input {...getInputProps()} />\n      <span>Drag a file here or </span>\n      <Button className={S['browse-button']} color=\"primary\">\n        Browse\n      </Button>\n      <span>a file from your computer</span>\n      {isDragAccept && <p>All files will be accepted</p>}\n      {isDragReject && <p>Some files will be rejected</p>}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Paste({ userInput, setUserInput, setLoadingError }) {\n  return (\n    <textarea\n      value={userInput}\n      onChange={(e) => {\n        const str = e.target.value\n        setUserInput(str)\n        setLoadingError(null)\n      }}\n      style={{\n        backgroundColor: 'white',\n        border: '1px solid lightgrey',\n        borderRadius: 4,\n        width: '100%',\n        padding: '1rem',\n        minHeight: '250px',\n        height: '40vh',\n      }}\n    />\n  )\n}\n","import React, { useCallback } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { useDropzone } from 'react-dropzone'\nimport classNames from 'classnames'\nimport S from './UploadFile.module.scss'\n\nexport default function UploadFile({\n  setUserInput,\n  setLoadingError,\n}) {\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      const reader = new FileReader()\n      reader.addEventListener('load', (e) => {\n        setUserInput(e.target.result)\n        setLoadingError(null)\n      })\n      if (acceptedFiles.length) {\n        reader.readAsText(acceptedFiles[0])\n      }\n    },\n    [setLoadingError, setUserInput]\n  )\n  const {\n    getRootProps,\n    getInputProps,\n    isDragReject,\n    isDragAccept,\n  } = useDropzone({\n    onDrop,\n    accept:\n      'text/csv,text/plain,application/json,application/vnd.ms-excel,text/tsv,text/tab-separated-values',\n    maxFiles: 1,\n  })\n  return (\n    <div\n      className={classNames(S.dropzone, {\n        [S.reject]: isDragReject,\n        [S.accept]: isDragAccept,\n      })}\n      {...getRootProps()}\n    >\n      <input {...getInputProps()} />\n      <span>Drag a file here or </span>\n      <Button className={S['browse-button']} color=\"primary\">\n        Browse\n      </Button>\n      <span>a file from your computer</span>\n      {isDragAccept && <p>All files will be accepted</p>}\n      {isDragReject && <p>Some files will be rejected</p>}\n    </div>\n  )\n}\n","import React from 'react'\nimport styles from './DataLoader.module.scss'\n\nexport default function Loading(){\n  return (\n    <div className={styles['loading-component']}>\n      <div className={styles['bg-animated']}/>\n      <p>loading...</p>\n    </div>\n  )\n}","import React from 'react'\nimport { Alert } from 'react-bootstrap'\n/**\n *\n * @param {string} type The warning type: success, secondary, warning, danger\n * @param {string} error The error message to be displayed\n */\nfunction WarningMessage({\n  variant = 'warning',\n  message = 'A default warning message.',\n  action = null,\n}) {\n  return (\n    <Alert\n      variant={variant}\n      className=\"my-2 d-flex flex-row justify-content-between align-items-center\"\n    >\n      {message}\n      {action}\n    </Alert>\n  )\n}\n\nexport default WarningMessage\n","import React, { useState } from 'react'\nimport { Modal, Button } from 'react-bootstrap'\n\nfunction DataMismatchModal({\n  replaceRequiresConfirmation,\n  commitDataReplace,\n  cancelDataReplace,\n}) {\n  const [showModal, setShowModal] = useState(true)\n\n  const handleClose = () => {\n    setShowModal(false)\n  }\n  return (\n    <Modal\n      className=\"raw-modal\"\n      show={showModal}\n      onHide={handleClose}\n      backdrop=\"static\"\n      keyboard={false}\n      // size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header>\n        <Modal.Title as=\"h5\">\n          Warning:{' '}\n          {replaceRequiresConfirmation === 'parse-error' && <>parsing error</>}\n          {replaceRequiresConfirmation.startsWith('missing-column:') && (\n            <>missing column</>\n          )}\n          {replaceRequiresConfirmation === 'type-mismatch' && (\n            <>data-type mismatch</>\n          )}\n        </Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n        {replaceRequiresConfirmation === 'parse-error' && (\n          <>\n            <p>There was an error while parsing new data.</p>\n            <p>\n              You can load the new data and try to fix the error or return to\n              the data previously loaded.\n            </p>\n          </>\n        )}\n        {replaceRequiresConfirmation.startsWith('missing-column:') && (\n          <>\n            <p>\n              The data mapping of this project requires the dimension{' '}\n              <span className=\"font-weight-bold\">\n                {replaceRequiresConfirmation.split(':')[1]}\n              </span>\n              , that we can't find in the new data.\n            </p>\n            <p>\n              You can create a new data mapping with the new data or return to\n              the data previously loaded.\n            </p>\n          </>\n        )}\n        {replaceRequiresConfirmation === 'type-mismatch' && (\n          <>\n            <p>\n              The data-types previously set for this project can't be applied to\n              the new data.\n            </p>\n            <p>\n              You can use the new data and re-set data-types or return to the\n              data previously loaded.\n            </p>\n          </>\n        )}\n      </Modal.Body>\n      <Modal.Footer>\n        <Button\n          variant=\"warning\"\n          onClick={() => {\n            commitDataReplace()\n          }}\n        >\n          Load new data\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={() => {\n            cancelDataReplace()\n          }}\n        >\n          Cancel\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  )\n}\n\nexport default DataMismatchModal\n","import React, { useCallback, useState } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { BsClipboard } from 'react-icons/bs'\nimport { IoMdCheckmarkCircle } from 'react-icons/io'\nimport { useCopyToClipboard } from '../../hooks/useCopyToClipboard'\nimport style from './style.module.css'\n\nexport function CopyToClipboardButton({ content }) {\n  const copyToClipboard = useCopyToClipboard()\n  const [pending, setPending] = useState(false)\n\n  const handleCopy = useCallback(() => {\n    if (!pending) {\n      setPending(true)\n      copyToClipboard(content)\n      setTimeout(() => {\n        setPending(false)\n      }, 3000)\n    }\n  }, [content, copyToClipboard, pending])\n\n  return (\n    <Button\n      variant=\"light\"\n      className={style['copy-to-clipboard-button'] + \" d-flex flex-row align-items-center\"}\n      onClick={handleCopy}\n    >\n      {pending && (\n        <>\n          <IoMdCheckmarkCircle className=\"text-success\" />\n          <span className=\"ml-2\">Copied to clipboard</span>\n        </>\n      )}\n      {!pending && (\n        <>\n          <BsClipboard />\n          <span className=\"ml-2\">Copy to clipboard</span>\n        </>\n      )}\n    </Button>\n  )\n}\n","import ClipboardJS from \"clipboard\";\nimport { useCallback } from \"react\";\n\n\nexport function useCopyToClipboard() {\n  return useCallback((str) => {\n    const btn = document.createElement(\"button\")\n    btn.style.display = \"none\"\n    document.body.appendChild(btn)\n    const clipboard = new ClipboardJS(btn, {\n      text: function() {\n        return str\n      }\n    })\n    btn.focus()\n    btn.click()\n    clipboard.destroy()\n    document.body.removeChild(btn)\n  }, [])\n}","import { get } from 'lodash'\nimport React, { useCallback, useState } from 'react'\nimport { Col, Row } from 'react-bootstrap'\nimport {\n  BsArrowCounterclockwise,\n  BsArrowRepeat,\n  BsClipboard,\n  BsCloud,\n  BsFolder,\n  BsGift,\n  BsSearch,\n  BsUpload,\n} from 'react-icons/bs'\nimport { DATA_LOADER_MODE } from '../../hooks/useDataLoader'\nimport DataGrid from '../DataGrid/DataGrid'\nimport DataSamples from '../DataSamples/DataSamples'\nimport JsonViewer from '../JsonViewer'\nimport ParsingOptions from '../ParsingOptions'\nimport styles from './DataLoader.module.scss'\nimport LoadProject from './loaders/LoadProject'\nimport Paste from './loaders/Paste'\nimport UploadFile from './loaders/UploadFile'\nimport UrlFetch from './loaders/UrlFetch'\nimport Loading from './loading'\nimport WarningMessage from '../WarningMessage'\nimport DataMismatchModal from './DataMismatchModal'\nimport SparqlFetch from './loaders/SparqlFetch'\nimport { tsvFormat } from 'd3-dsv'\nimport { CopyToClipboardButton } from '../CopyToClipboardButton'\n\nfunction DataLoader({\n  userInput,\n  setUserInput,\n  userData,\n  userDataType,\n  parseError,\n  unstackedColumns,\n  separator,\n  setSeparator,\n  thousandsSeparator,\n  setThousandsSeparator,\n  decimalsSeparator,\n  setDecimalsSeparator,\n  locale,\n  setLocale,\n  stackDimension,\n  dataSource,\n  data,\n  loading,\n  coerceTypes,\n  loadSample,\n  handleInlineEdit,\n  handleStackOperation,\n  setJsonData,\n  resetDataLoader,\n  dataLoaderMode,\n  startDataReplace,\n  cancelDataReplace,\n  commitDataReplace,\n  replaceRequiresConfirmation,\n  hydrateFromProject,\n}) {\n  const [loadingError, setLoadingError] = useState()\n  const [initialOptionState, setInitialOptionState] = useState(null)\n\n  const options = [\n    {\n      id: 'paste',\n      name: 'Paste your data',\n      loader: (\n        <Paste\n          userInput={userInput}\n          setUserInput={(rawInput) => setUserInput(rawInput, { type: 'paste' })}\n          setLoadingError={setLoadingError}\n        />\n      ),\n      message:\n        'Copy and paste your data from other applications or websites. You can use tabular (TSV, CSV, DSV) or JSON data.',\n      icon: BsClipboard,\n      allowedForReplace: true,\n    },\n    {\n      id: 'upload',\n      name: 'Upload your data',\n      loader: (\n        <UploadFile\n          userInput={userInput}\n          setUserInput={(rawInput) =>\n            setUserInput(rawInput, { type: 'upload' })\n          }\n          setLoadingError={setLoadingError}\n        />\n      ),\n      message: 'You can load tabular (TSV, CSV, DSV) or JSON data.',\n      icon: BsUpload,\n      allowedForReplace: true,\n    },\n    {\n      id: 'sample',\n      name: 'Try our data samples',\n      message: '',\n      loader: (\n        <DataSamples\n          onSampleReady={loadSample}\n          setLoadingError={setLoadingError}\n        />\n      ),\n      icon: BsGift,\n      allowedForReplace: true,\n    },\n    {\n      id: 'sparql',\n      name: 'SPARQL query',\n      message: 'Load data with a SparQL query',\n      loader: (\n        <SparqlFetch\n          userInput={userInput}\n          setUserInput={(rawInput, source) => setUserInput(rawInput, source)}\n          setLoadingError={setLoadingError}\n          initialState={\n            initialOptionState?.type === 'sparql' ? initialOptionState : null\n          }\n        />\n      ),\n      icon: BsCloud,\n      disabled: false,\n      allowedForReplace: true,\n    },\n    {\n      id: 'url',\n      name: 'From URL',\n      message:\n        'Enter a web address (URL) pointing to the data (e.g. a public Dropbox file, a public API, ...). Please, be sure the server is CORS-enabled.',\n      loader: (\n        <UrlFetch\n          userInput={userInput}\n          setUserInput={(rawInput, source) => setUserInput(rawInput, source)}\n          setLoadingError={setLoadingError}\n          initialState={\n            initialOptionState?.type === 'url' ? initialOptionState : null\n          }\n        />\n      ),\n      icon: BsSearch,\n      disabled: false,\n      allowedForReplace: true,\n    },\n    {\n      id: 'project',\n      name: 'Open your project',\n      message: 'Load a .rawgraphs project.',\n      loader: (\n        <LoadProject\n          onProjectSelected={hydrateFromProject}\n          setLoadingError={setLoadingError}\n        />\n      ),\n      icon: BsFolder,\n      allowedForReplace: false,\n    },\n  ]\n  const [optionIndex, setOptionIndex] = useState(0)\n  const selectedOption = options[optionIndex]\n\n  let mainContent\n  if (userData && data) {\n    mainContent = (\n      <DataGrid\n        userDataset={userData}\n        dataset={data.dataset}\n        errors={data.errors}\n        dataTypes={data.dataTypes}\n        coerceTypes={coerceTypes}\n        onDataUpdate={handleInlineEdit}\n      />\n    )\n  } else if (userDataType === 'json' && userData === null) {\n    mainContent = (\n      <JsonViewer\n        context={JSON.parse(userInput)}\n        selectFilter={(ctx) => Array.isArray(ctx)}\n        onSelect={(ctx, path) => {\n          setJsonData(ctx, path)\n        }}\n      />\n    )\n  } else if (loading && !data) {\n    mainContent = <Loading />\n  } else {\n    mainContent = (\n      <>\n        {selectedOption.loader}\n        <p className=\"mt-3\">\n          {selectedOption.message}\n          {/*<a\n            href=\"https://rawgraphs.io/learning\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Check out our guides\n          </a>*/}\n        </p>\n      </>\n    )\n  }\n\n  // #TODO: memoize/move to component?\n  function parsingErrors(data) {\n    const errors = get(data, 'errors', [])\n    const successRows = data.dataset.length - errors.length\n    const row = errors[0].row + 1\n    const column = Object.keys(errors[0].error)[0]\n    return (\n      <span>\n        Ops, please check <span className=\"font-weight-bold\">row {row}</span> at\n        column <span className=\"font-weight-bold\">{column}</span>.{' '}\n        {errors.length === 2 && (\n          <>\n            {' '}\n            There's another issue at row{' '}\n            <span className=\"font-weight-bold\">{errors[1].row + 1}</span>.{' '}\n          </>\n        )}\n        {errors.length > 2 && (\n          <>\n            {' '}\n            There are issues in{' '}\n            <span className=\"font-weight-bold\">{errors.length - 1}</span> more\n            rows.{' '}\n          </>\n        )}\n        {successRows > 0 && (\n          <>\n            The remaining{' '}\n            <span className=\"font-weight-bold\">\n              {successRows} row{successRows > 1 && <>s</>}\n            </span>{' '}\n            look{successRows === 1 && <>s</>} fine.\n          </>\n        )}\n      </span>\n    )\n  }\n\n  const reloadRAW = useCallback(() => {\n    window.location.replace(window.location.pathname)\n  }, [])\n\n  const copyToClipboardButton = !!userData ? (\n    <CopyToClipboardButton content={tsvFormat(userData)} />\n  ) : null\n\n  return (\n    <>\n      <Row>\n        {!userData && (\n          <Col\n            xs={3}\n            lg={2}\n            className=\"d-flex flex-column justify-content-start pl-3 pr-0 options\"\n          >\n            {options\n              .filter((opt) => {\n                return (\n                  dataLoaderMode !== DATA_LOADER_MODE.REPLACE ||\n                  opt.allowedForReplace\n                )\n              })\n              .map((d, i) => {\n                const classnames = [\n                  'w-100',\n                  'd-flex',\n                  'align-items-center',\n                  'user-select-none',\n                  'cursor-pointer',\n                  styles['loading-option'],\n                  d.disabled ? styles['disabled'] : null,\n                  d.id === selectedOption.id && !userDataType\n                    ? styles.active\n                    : null,\n                  userDataType ? styles.disabled : null,\n                ]\n                  .filter((c) => c !== null)\n                  .join(' ')\n                return (\n                  <div\n                    key={d.id}\n                    className={classnames}\n                    onClick={() => {\n                      setOptionIndex(i)\n                    }}\n                  >\n                    <d.icon className=\"w-25\" />\n                    <h4 className=\"m-0 d-inline-block\">{d.name}</h4>\n                  </div>\n                )\n              })}\n\n            {dataLoaderMode === DATA_LOADER_MODE.REPLACE && (\n              <>\n                <div className=\"divider mb-3 mt-0\" />\n                <div\n                  className={`w-100 mb-2 d-flex justify-content-center align-items-center ${styles['start-over']} user-select-none cursor-pointer`}\n                  onClick={reloadRAW}\n                >\n                  <BsArrowRepeat className=\"mr-2\" />\n                  <h4 className=\"m-0 d-inline-block\">{'Reset'}</h4>\n                </div>\n\n                <div\n                  className={`w-100 d-flex justify-content-center align-items-center ${styles['start-over']} ${styles['cancel']} user-select-none cursor-pointer mb-3`}\n                  onClick={() => {\n                    cancelDataReplace()\n                  }}\n                >\n                  <h4 className=\"m-0 d-inline-block\">{'Cancel'}</h4>\n                </div>\n              </>\n            )}\n          </Col>\n        )}\n        {userData && (\n          <Col\n            xs={3}\n            lg={2}\n            className=\"d-flex flex-column justify-content-start pl-3 pr-0 options\"\n          >\n            <ParsingOptions\n              locale={locale}\n              setLocale={setLocale}\n              separator={separator}\n              setSeparator={setSeparator}\n              thousandsSeparator={thousandsSeparator}\n              setThousandsSeparator={setThousandsSeparator}\n              decimalsSeparator={decimalsSeparator}\n              setDecimalsSeparator={setDecimalsSeparator}\n              dimensions={data ? unstackedColumns || data.dataTypes : []}\n              stackDimension={stackDimension}\n              setStackDimension={handleStackOperation}\n              userDataType={userDataType}\n              dataSource={dataSource}\n              onDataRefreshed={(rawInput) => setUserInput(rawInput, dataSource)}\n            />\n\n            <div className=\"divider mb-3 mt-0\" />\n\n            <div\n              className={`w-100 mb-2 d-flex justify-content-center align-items-center ${styles['start-over']} user-select-none cursor-pointer`}\n              onClick={reloadRAW}\n            >\n              <BsArrowRepeat className=\"mr-2\" />\n              <h4 className=\"m-0 d-inline-block\">{'Reset'}</h4>\n            </div>\n\n            <div\n              className={`w-100 d-flex justify-content-center align-items-center ${styles['start-over']} user-select-none cursor-pointer`}\n              onClick={() => {\n                setInitialOptionState(dataSource)\n                const dataSourceIndex = options.findIndex(\n                  (opt) => opt.id === dataSource?.type\n                )\n                setOptionIndex(Math.max(dataSourceIndex, 0))\n                startDataReplace()\n              }}\n            >\n              <BsArrowCounterclockwise className=\"mr-2\" />\n              <h4 className=\"m-0 d-inline-block\">{'Change data'}</h4>\n            </div>\n          </Col>\n        )}\n        <Col>\n          <Row className=\"h-100\">\n            <Col className=\"h-100\">\n              {mainContent}\n\n              {data && !parseError && get(data, 'errors', []).length === 0 && (\n                <WarningMessage\n                  variant=\"success\"\n                  message={\n                    <span>\n                      <span className=\"font-weight-bold\">\n                        {data.dataset.length} rows\n                      </span>{' '}\n                      (\n                      {data.dataset.length * Object.keys(data.dataTypes).length}{' '}\n                      cells) have been successfully parsed, now you can choose a\n                      chart!\n                    </span>\n                  }\n                  action={copyToClipboardButton}\n                />\n              )}\n\n              {parseError && (\n                <WarningMessage\n                  variant=\"danger\"\n                  message={parseError}\n                  action={copyToClipboardButton}\n                />\n              )}\n\n              {get(data, 'errors', []).length > 0 && (\n                <WarningMessage\n                  variant=\"warning\"\n                  message={parsingErrors(data)}\n                  action={copyToClipboardButton}\n                />\n              )}\n\n              {loadingError && (\n                <WarningMessage\n                  variant=\"danger\"\n                  message={loadingError}\n                  action={copyToClipboardButton}\n                />\n              )}\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n      {replaceRequiresConfirmation && (\n        <DataMismatchModal\n          replaceRequiresConfirmation={replaceRequiresConfirmation}\n          commitDataReplace={commitDataReplace}\n          cancelDataReplace={cancelDataReplace}\n        />\n      )}\n    </>\n  )\n}\n\nexport default React.memo(DataLoader)\n","import React, { useState, useMemo, useCallback } from 'react'\nimport classNames from 'classnames'\nimport { Row, Col, Card, Dropdown } from 'react-bootstrap'\nimport { BsLink, BsPlus } from 'react-icons/bs'\nimport uniq from 'lodash/uniq'\nimport styles from './ChartSelector.module.scss'\nimport { BsFillTrashFill } from 'react-icons/bs'\n\nfunction filterCharts(charts, filter) {\n  return filter === 'All charts'\n    ? charts\n    : charts.filter((d) => d.metadata.categories.indexOf(filter) !== -1)\n}\n\nfunction ChartSelector({\n  availableCharts,\n  currentChart,\n  setCurrentChart,\n  onRemoveCustomChart,\n  onAddChartClick,\n}) {\n  const [filter, setFilter] = useState('All charts')\n\n  const charts = useMemo(() => {\n    return filterCharts(availableCharts, filter)\n  }, [availableCharts, filter])\n\n  const handleFilterChange = useCallback(\n    (nextFilter) => {\n      setFilter(nextFilter)\n      const nextCharts = filterCharts(availableCharts, nextFilter)\n      if (nextCharts.indexOf(currentChart) === -1) {\n        setCurrentChart(nextCharts[0])\n      }\n    },\n    [availableCharts, currentChart, setCurrentChart]\n  )\n\n  return (\n    <>\n      <Row>\n        <Col className=\"text-right\">\n          Show\n          <Dropdown className=\"d-inline-block ml-2 raw-dropdown\">\n            <Dropdown.Toggle variant=\"white\" className=\"pr-5\">\n              {filter.charAt(0).toUpperCase() + filter.slice(1)}\n            </Dropdown.Toggle>\n            <Dropdown.Menu>\n              <Dropdown.Item\n                key={'All charts'}\n                onClick={() => handleFilterChange('All charts')}\n              >\n                All charts\n              </Dropdown.Item>\n              {uniq(\n                availableCharts.map((d) => d.metadata.categories).flat()\n              ).map((d) => {\n                return (\n                  <Dropdown.Item key={d} onClick={() => handleFilterChange(d)}>\n                    {d.charAt(0).toUpperCase() + d.slice(1)}\n                  </Dropdown.Item>\n                )\n              })}\n            </Dropdown.Menu>\n          </Dropdown>\n        </Col>\n      </Row>\n      <Row>\n        <Col xs={3} className=\"pt-3\">\n          {currentChart && (\n            <Card className={styles.currentChart}>\n              <Card.Img variant=\"top\" src={currentChart.metadata.thumbnail} />\n              <Card.Body>\n                <Card.Title className=\"m-0\">\n                  <h2 className=\"m-0\">{currentChart.metadata.name}</h2>\n                </Card.Title>\n                <Card.Subtitle className=\"m-0\">\n                  <h4 className=\"mb-2\">{currentChart.metadata.category}</h4>\n                </Card.Subtitle>\n                <Card.Text>{currentChart.metadata.description}</Card.Text>\n                <Card.Link\n                  className={classNames({\n                    [styles.disabled]: !currentChart.metadata.code,\n                    underlined: true,\n                  })}\n                  href={currentChart.metadata.code}\n                  target=\"_blank\"\n                >\n                  <BsLink color=\"black\" /> Code\n                </Card.Link>\n                <Card.Link\n                  className={classNames({\n                    [styles.disabled]: !currentChart.metadata.tutorial,\n                    underlined: true,\n                  })}\n                  href={currentChart.metadata.tutorial}\n                  target=\"_blank\"\n                >\n                  <BsLink color=\"black\" /> Tutorial\n                </Card.Link>\n              </Card.Body>\n            </Card>\n          )}\n        </Col>\n        <Col>\n          <Row>\n            {charts.map((d, i) => {\n              return (\n                <Col xs={4} key={'chart-' + i} className={`p-3`}>\n                  <Card\n                    onClick={() => {\n                      setCurrentChart(d)\n                    }}\n                    className={classNames('flex-row h-100 cursor-pointer', {\n                      active: d === currentChart ? 'active' : '',\n                      [styles.customChart]: !!d.rawCustomChart,\n                    })}\n                  >\n                    <div\n                      className={`h-100 w-25 ${styles.thumbnail}`}\n                      style={{ backgroundImage: `url(\"${d.metadata.icon}\")` }}\n                    ></div>\n                    <Card.Body className=\"w-75 px-2 py-3\">\n                      <Card.Title className=\"m-0\">\n                        <h2 className=\"m-0\" style={{ whiteSpace: 'nowrap' }}>\n                          {d.metadata.name}\n                        </h2>\n                        {d.rawCustomChart && (\n                          <div>\n                            <button\n                              style={{\n                                position: 'absolute',\n                                top: -8,\n                                right: -8,\n                              }}\n                              className=\"btn btn-sm btn-primary\"\n                              onClick={(e) => {\n                                e.stopPropagation()\n                                onRemoveCustomChart(d)\n                              }}\n                            >\n                              <BsFillTrashFill />\n                            </button>\n                            <small\n                              style={{\n                                maxWidth: '100%',\n                                overflow: 'hidden',\n                                textOverflow: 'ellipsis',\n                                display: 'block',\n                                whiteSpace: 'nowrap',\n                              }}\n                            >\n                              {d.rawCustomChart.source}\n                            </small>\n                          </div>\n                        )}\n                      </Card.Title>\n                      <Card.Subtitle className=\"m-0\">\n                        <h4 className=\"m-0\">\n                          {d.metadata.categories\n                            .join(', ')\n                            .charAt(0)\n                            .toUpperCase() +\n                            d.metadata.categories.join(', ').slice(1)}\n                        </h4>\n                      </Card.Subtitle>\n                    </Card.Body>\n                  </Card>\n                </Col>\n              )\n            })}\n            <Col xs={4} className={`p-3`}>\n              <Card\n                onClick={() => {\n                  onAddChartClick()\n                }}\n                className={classNames('flex-row h-100 cursor-pointer py-2')}\n              >\n                <div className=\"d-flex align-items-center justify-content-center w-25\">\n                  <BsPlus size={50} color=\"var(--primary)\" />\n                </div>\n                <Card.Body className=\"w-75 px-2 py-3\">\n                  <Card.Title className=\"m-0\">\n                    <h2 className=\"m-0\" style={{ whiteSpace: 'nowrap' }}>\n                      Add your chart!\n                    </h2>\n                  </Card.Title>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default React.memo(ChartSelector)\n","import React from 'react'\nimport { dataTypeIcons } from '../../constants'\nimport { getTypeName } from '@rawgraphs/rawgraphs-core'\n\nimport { useDrag } from 'react-dnd'\n\nimport styles from './DataMapping.module.scss'\n\nconst ColumnCard = ({\n  dimensionName,\n  dimensionType,\n  commitLocalMapping,\n  rollbackLocalMapping,\n}) => {\n  const [{ isDragging }, drag] = useDrag({\n    item: { id: dimensionName, type: 'column' },\n    collect: (monitor) => ({\n      isDragging: !!monitor.isDragging(),\n    }),\n    end: (dropResult, monitor) => {\n      const didDrop = monitor.didDrop()\n      if (didDrop) {\n        commitLocalMapping()\n      } else {\n        rollbackLocalMapping()\n      }\n      // console.log('DID DROP', didDrop)\n    },\n  })\n\n  const dimType = getTypeName(dimensionType)\n  const DataTypeIcon = dataTypeIcons[dimType]\n\n  return (\n    <div\n      ref={drag}\n      className={`column-card ${styles['column-card']} ${\n        isDragging ? 'is-dragging' : ''\n      }`}\n    >\n      <DataTypeIcon className={styles['data-type-icon']} />\n      <span className={styles['column-title']}>{dimensionName}</span>\n    </div>\n  )\n}\n\nexport default ColumnCard\n","import React from 'react'\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap'\nimport { dataTypeIcons } from '../../constants'\nimport styles from './DataMapping.module.scss'\n\nfunction DataTypeIcon({ type }) {\n  const DataTypeIcon = dataTypeIcons[type]\n  return (\n    <span>\n      <OverlayTrigger\n        key=\"top\"\n        placement=\"top\"\n        overlay={\n          <Tooltip id={`tooltip-top`}>\n            Accepts {type}s\n          </Tooltip>\n        }\n      >\n        <DataTypeIcon className={styles['accepted-type-icon']} />\n      </OverlayTrigger>\n    </span>\n  )\n}\n\nexport default DataTypeIcon\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAsterisk(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-asterisk\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAsterisk);\nexport default __webpack_public_path__ + \"static/media/asterisk.a0a42b25.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { ReactComponent as Asterisk } from './asterisk.svg'\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap'\n\nfunction RequiredIcon() {\n  return (\n    <OverlayTrigger\n      key=\"top\"\n      placement=\"top\"\n      overlay={<Tooltip id={`tooltip-top`}>Mandatory</Tooltip>}\n    >\n      <Asterisk width=\"1rem\" height=\"1rem\" style={{marginRight:\"2px\"}} />\n    </OverlayTrigger>\n  )\n}\n\nexport default RequiredIcon\n","import React, { useRef } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport classnames from 'classnames'\nimport styles from './DataMapping.module.scss'\nimport { BsX } from 'react-icons/bs'\nimport { useDrag, useDrop } from 'react-dnd'\nimport get from 'lodash/get'\nimport { AGGREGATIONS_LABELS } from '../../constants'\n\nexport default function ChartDimensionItem({\n  draggingColumn,\n  index,\n  isValid,\n  DataTypeIcon,\n  columnId,\n  dimension,\n  aggregators,\n  relatedAggregation,\n  onMove,\n\n  onChangeAggregation,\n  onDeleteItem,\n  onChangeDimension,\n\n  commitLocalMapping,\n  rollbackLocalMapping,\n  onInsertColumn,\n  replaceDimension,\n\n  localMappding,\n}) {\n  const ref = useRef(null)\n\n  const [{ isOver }, drop] = useDrop({\n    accept: ['column', 'card'],\n    collect: (monitor) => {\n      return {\n        isOver: monitor.isOver() && monitor.getItem().type === 'column',\n      }\n    },\n    hover(item, monitor) {\n      if (!dimension.multiple) {\n        return\n      }\n      if (!ref.current) {\n        return\n      }\n\n      const hoverIndex = index\n\n      //#TODO: for now we allow only dropping on \"drop another dimension here\" in case of multiple dimensions\n      if (false && item.type === 'column') {\n        onInsertColumn(hoverIndex, item)\n        item.type = 'card'\n        item.dimensionId = dimension.id\n        item.index = hoverIndex\n        return\n      } else if (item.dimensionId === dimension.id) {\n        const dragIndex = item.index\n        // Don't replace items with themselves\n        if (dragIndex === hoverIndex) {\n          return\n        }\n        // Determine rectangle on screen\n        const hoverBoundingRect = ref.current?.getBoundingClientRect()\n        // Get vertical middle\n        const hoverMiddleY =\n          (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\n        // Determine mouse position\n        const clientOffset = monitor.getClientOffset()\n        // Get pixels to the top\n        const hoverClientY = clientOffset.y - hoverBoundingRect.top\n        // Only perform the move when the mouse has crossed half of the items height\n        // When dragging downwards, only move when the cursor is below 50%\n        // When dragging upwards, only move when the cursor is above 50%\n        // Dragging downwards\n        if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n          return\n        }\n        // Dragging upwards\n        if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n          return\n        }\n        onMove(dragIndex, hoverIndex)\n        // Note: we're mutating the monitor item here!\n        // Generally it's better to avoid mutations,\n        // but it's good here for the sake of performance\n        // to avoid expensive index searches.\n        item.index = hoverIndex\n      } else {\n        //#TODO: for now we allow only dropping on \"drop another dimension here\" in case of multiple dimensions\n\n        // replaceDimension(\n        //   item.dimensionId,\n        //   dimension.id,\n        //   item.index,\n        //   index,\n        //   true\n        // )\n        // item.dimensionId = dimension.id\n        // item.index = hoverIndex\n        return\n      }\n    },\n    drop: (item, monitor) => {\n      if (!dimension.multiple) {\n        if (item.type === 'column') {\n          onChangeDimension(index, item.id)\n        } else {\n          replaceDimension(item.dimensionId, dimension.id, item.index, index)\n        }\n      }\n    },\n  })\n\n  const [{ isDragging }, drag] = useDrag({\n    item: { type: 'card', index, id: columnId, dimensionId: dimension.id },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n    end: (dropResult, monitor) => {\n      const didDrop = monitor.didDrop()\n      if (didDrop) {\n        commitLocalMapping()\n      } else {\n        rollbackLocalMapping()\n      }\n    },\n  })\n\n  drag(drop(ref))\n\n  return (\n    <div\n      ref={ref}\n      style={{\n        opacity: isDragging || draggingColumn ? 0.5 : 1,\n      }}\n      className={classnames(\n        'assigned-column',\n        styles['column-card'],\n        styles['assigned-column'],\n        isValid ? styles['column-valid'] : styles['column-invalid'],\n        {\n          'border border-danger': isOver,\n          // 'border border-warning': isDragging,\n        }\n      )}\n    >\n      <span>\n        {!!DataTypeIcon && (\n          <DataTypeIcon className={styles['data-type-icon']} />\n        )}\n      </span>\n      <span className={styles['column-title']}>{columnId}</span>\n      {dimension.aggregation && (\n        <Dropdown className=\"d-inline-block ml-2 raw-dropdown\">\n          <Dropdown.Toggle\n            variant={isValid ? 'primary' : 'danger'}\n            className=\"pr-5\"\n          >\n            {get(AGGREGATIONS_LABELS, relatedAggregation, relatedAggregation)}\n          </Dropdown.Toggle>\n          <Dropdown.Menu>\n            {aggregators.map((aggregatorName) => (\n              <Dropdown.Item\n                key={aggregatorName}\n                onClick={() => onChangeAggregation(index, aggregatorName)}\n              >\n                {get(AGGREGATIONS_LABELS, aggregatorName, aggregatorName)}\n              </Dropdown.Item>\n            ))}\n          </Dropdown.Menu>\n        </Dropdown>\n      )}\n      <button\n        className={styles['remove-assigned']}\n        type=\"button\"\n        onClick={() => onDeleteItem(index)}\n      >\n        <BsX />\n      </button>\n    </div>\n  )\n}\n","import React, { useCallback } from 'react'\nimport DataTypeIcon from './DataTypeIcon'\nimport RequiredIcon from './RequiredIcon'\nimport { Col } from 'react-bootstrap'\nimport { useDrop } from 'react-dnd'\nimport get from 'lodash/get'\nimport uniqueId from 'lodash/uniqueId'\nimport classnames from 'classnames'\nimport arrayMove from 'array-move'\nimport arrayInsert from 'array-insert'\n\n// import { DATATYPE_ICONS } from \"../../constants\"\nimport { dataTypeIcons } from '../../constants'\nimport {\n  getTypeName,\n  getAggregatorNames,\n  getDefaultDimensionAggregation,\n} from '@rawgraphs/rawgraphs-core'\nimport ChartDimensionItem from './ChartDimensionItem'\n\nimport styles from './DataMapping.module.scss'\nconst aggregators = getAggregatorNames()\nconst emptyList = []\n\nconst ChartDimensionCard = ({\n  dimension,\n  dataTypes,\n  mapping,\n  setMapping,\n  commitLocalMapping,\n  rollbackLocalMapping,\n  draggingId,\n  setDraggingId,\n  replaceDimension,\n  localMappding,\n}) => {\n  const [{ isOver }, drop] = useDrop({\n    accept: ['column', 'card'],\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n    }),\n    drop: (item, monitor) => {\n      if (item.type === 'column') {\n        const defaulAggregation = dimension.aggregation\n          ? getDefaultDimensionAggregation(dimension, dataTypes[item.id])\n          : null\n\n        const columnDataType = getTypeName(dataTypes[item.id]);\n        const isValid =\n          dimension.validTypes?.length === 0 ||\n          dimension.validTypes?.includes(columnDataType)\n\n        setMapping({\n          ...mapping,\n          ids: (mapping.ids || []).concat(uniqueId()),\n          value: [...(mapping.value || []), item.id],\n          isValid: isValid,\n          mappedType: columnDataType,\n          config: dimension.aggregation\n            ? {\n                aggregation: [\n                  ...(get(mapping, 'config.aggregation') || []),\n                  defaulAggregation,\n                ],\n              }\n            : undefined,\n        })\n      } else if (item.dimensionId !== dimension.id) {\n        replaceDimension(\n          item.dimensionId,\n          dimension.id,\n          item.index,\n          mapping.value ? mapping.value.length : 0,\n          true\n        )\n      }\n    },\n  })\n\n  // const [collectedProps, drag] = useDrag({\n  //   item: {\n  //     type: 'card',\n\n  //   }\n  // })\n\n  const setAggregation = useCallback(\n    (newAggregations) => {\n      setMapping({\n        ...mapping,\n        config: { aggregation: [...newAggregations] },\n      })\n    },\n    [mapping, setMapping]\n  )\n\n  const idsMappedHere = get(mapping, 'ids', emptyList)\n  const columnsMappedHere = get(mapping, 'value', emptyList)\n  let aggregationsMappedHere = get(mapping, 'config.aggregation', emptyList)\n\n  const onChangeAggregation = useCallback(\n    (i, aggregatorName) => {\n      const newAggregations = [...aggregationsMappedHere]\n      newAggregations[i] = aggregatorName\n      setAggregation(newAggregations)\n    },\n    [aggregationsMappedHere, setAggregation]\n  )\n\n  const onDeleteItem = useCallback(\n    (i) => {\n      let nextConfig\n      if (mapping.config) {\n        nextConfig = {\n          ...mapping.config,\n          aggregation: mapping.config.aggregation.filter((col, j) => j !== i),\n        }\n      }\n\n      setMapping({\n        ...mapping,\n        ids: mapping.ids.filter((col, j) => j !== i),\n        value: mapping.value.filter((col, j) => j !== i),\n        config: nextConfig,\n      })\n    },\n    [mapping, setMapping]\n  )\n\n  const onChangeDimension = useCallback(\n    (i, newCol) => {\n      setMapping({\n        ...mapping,\n        value: mapping.value.map((col, j) => (j === i ? newCol : col)),\n      })\n    },\n    [mapping, setMapping]\n  )\n\n  const onMove = useCallback(\n    (dragIndex, hoverIndex) => {\n      let nextConfig\n      if (mapping.config) {\n        nextConfig = {\n          ...mapping.config,\n          aggregation: arrayMove(\n            mapping.config.aggregation,\n            dragIndex,\n            hoverIndex\n          ),\n        }\n      }\n\n      setMapping(\n        {\n          ...mapping,\n          ids: arrayMove(mapping.ids, dragIndex, hoverIndex),\n          value: arrayMove(mapping.value, dragIndex, hoverIndex),\n          config: nextConfig,\n        },\n        true\n      )\n    },\n    [mapping, setMapping]\n  )\n\n  const onInsertColumn = useCallback(\n    (index, item) => {\n      const defaulAggregation = dimension.aggregation\n        ? getDefaultDimensionAggregation(dimension, dataTypes[item.id])\n        : null\n\n      const nextId = uniqueId()\n      setDraggingId(nextId)\n      setMapping(\n        {\n          ...mapping,\n          ids: arrayInsert(mapping.ids ?? [], index, nextId),\n          value: arrayInsert(mapping.value ?? [], index, item.id),\n          config: dimension.aggregation\n            ? {\n                aggregation: arrayInsert(\n                  get(mapping, 'config.aggregation', []),\n                  index,\n                  defaulAggregation\n                ),\n              }\n            : undefined,\n        },\n        true\n      )\n    },\n    [dataTypes, dimension, mapping, setDraggingId, setMapping]\n  )\n\n  return (\n    // <div\n    //   className=\"Xcard Xp-3 Xm-2 \"\n    //   style={{ minWidth: 250 }}\n    // >\n\n    <Col xs={6} lg={4} xl={4}>\n      <div className={styles['chart-dimension'] + ' user-select-none'}>\n        {/* This is the card header */}\n        <div\n          className={`d-flex flex-row justify-content-between align-items-center ${styles['chart-dimension-header']}`}\n        >\n          <span className=\"text-left\">\n            {dimension.validTypes.map((t) => {\n              return <DataTypeIcon key={t} type={t} />\n              // const DataTypeIcon = dataTypeIcons[t]\n              // return (\n              //   <span key={t}>\n              //     <DataTypeIcon className={styles['accepted-type-icon']} />\n              //   </span>\n              // )\n            })}\n          </span>\n          <span className=\"text-capitalize text-center\">{dimension.name}</span>\n          <span\n            className={styles['dimension-required'] + ' text-right'}\n            style={{ opacity: dimension.required ? 1 : 0 }}\n          >\n            {dimension.required && <RequiredIcon />}\n          </span>\n        </div>\n\n        {/* These are the columns that have been dropped on the current dimension */}\n        {idsMappedHere.map((renderId, i) => {\n          const columnId = columnsMappedHere[i]\n          const columnDataType = getTypeName(dataTypes[columnId])\n          const relatedAggregation = dimension.aggregation\n            ? aggregationsMappedHere[i] ||\n              getDefaultDimensionAggregation(dimension, columnDataType)\n            : undefined\n          const isValid =\n            dimension.validTypes?.length === 0 ||\n            dimension.validTypes?.includes(columnDataType)\n\n          const DataTypeIcon = dataTypeIcons[getTypeName(dataTypes[columnId])]\n\n          return (\n            <ChartDimensionItem\n              id={renderId}\n              key={renderId}\n              index={i}\n              onMove={onMove}\n              onChangeDimension={onChangeDimension}\n              onChangeAggregation={onChangeAggregation}\n              onDeleteItem={onDeleteItem}\n              isValid={isValid}\n              DataTypeIcon={DataTypeIcon}\n              columnId={columnId}\n              dimension={dimension}\n              aggregators={aggregators}\n              relatedAggregation={relatedAggregation}\n              commitLocalMapping={commitLocalMapping}\n              rollbackLocalMapping={rollbackLocalMapping}\n              onInsertColumn={onInsertColumn}\n              draggingColumn={draggingId === renderId}\n              replaceDimension={replaceDimension}\n              localMappding={localMappding}\n            />\n          )\n        })}\n\n        {/* This is the dropzone */}\n        {(dimension.multiple || columnsMappedHere.length === 0) && (\n          <div\n            className={classnames('dropzone', styles['dropzone'], {\n              [styles['active']]: isOver,\n            })}\n            ref={drop}\n          >\n            {!dimension.multiple && 'Drop dimension here'}\n            {dimension.multiple &&\n              columnsMappedHere.length === 0 &&\n              'Drop dimensions here'}\n            {dimension.multiple &&\n              columnsMappedHere.length > 0 &&\n              'Drop another dimension here'}\n          </div>\n        )}\n      </div>\n    </Col>\n  )\n}\n\nexport default ChartDimensionCard\n","import React, {\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport map from 'lodash/map'\nimport { HTML5Backend } from 'react-dnd-html5-backend'\nimport { DndProvider } from 'react-dnd'\nimport ColumnCard from './ColumnCard'\nimport ChartDimensionCard from './ChartDimensionCard'\nimport get from 'lodash/get'\nimport uniqueId from 'lodash/uniqueId'\nimport arrayInsert from 'array-insert'\nimport { getDefaultDimensionAggregation } from '@rawgraphs/rawgraphs-core'\n\nfunction removeIndex(mapping, i) {\n  let nextConfig\n  if (mapping.config) {\n    nextConfig = {\n      ...mapping.config,\n      aggregation: mapping.config.aggregation.filter((col, j) => j !== i),\n    }\n  }\n\n  return {\n    ...mapping,\n    ids: mapping.ids.filter((col, j) => j !== i),\n    value: mapping.value.filter((col, j) => j !== i),\n    config: nextConfig,\n  }\n}\n\nfunction arrayReplace(arr, i, value) {\n  return arr.map((item, j) => (j === i ? value : item))\n}\n\nfunction handleReplaceLocalMapping(\n  nextId,\n  prev,\n  fromDimension,\n  toDimension,\n  fromIndex,\n  toIndex,\n  dimensions,\n  dataTypes,\n  multiple = false\n) {\n  const removedItem = {}\n  removedItem.aggregation =\n    prev[fromDimension]?.config?.aggregation?.[fromIndex]\n  removedItem.value = prev[fromDimension].value[fromIndex]\n\n  let moveFn = multiple ? arrayInsert : arrayReplace\n\n  const prevToMapping = prev[toDimension] || {}\n  const toDimensionMapping = {\n    ...prevToMapping,\n    ids: moveFn(prevToMapping.ids ?? [], toIndex, nextId),\n    value: moveFn(prevToMapping.value ?? [], toIndex, removedItem.value),\n  }\n\n  const dimension = dimensions[toDimension]\n  if (dimensions.aggregation) {\n    let newAggregation\n    if (removedItem.aggregation) {\n      newAggregation = removedItem.aggregation\n    } else {\n      newAggregation = getDefaultDimensionAggregation(\n        dimension,\n        dataTypes[removedItem.value]\n      )\n    }\n    toDimensionMapping.config = {\n      aggregation: moveFn(\n        get(prevToMapping, 'config.aggregation', []),\n        toIndex,\n        newAggregation\n      ),\n    }\n  }\n  const obj = {\n    ...prev,\n    [fromDimension]: removeIndex(prev[fromDimension], fromIndex),\n    [toDimension]: toDimensionMapping,\n  }\n  return obj\n}\n\nfunction DataMapping({ dataTypes, dimensions, mapping, setMapping }, ref) {\n  const [localMappding, setLocalMapping] = useState(mapping)\n\n  const updateMapping = useCallback(\n    (dimension, mappingConf, isLocal) => {\n      // Local\n      setLocalMapping((prev) => ({\n        ...prev,\n        [dimension]: mappingConf,\n      }))\n      if (!isLocal) {\n        // Gloab mapping\n        setMapping((prev) => ({\n          ...prev,\n          [dimension]: mappingConf,\n        }))\n      }\n    },\n    [setMapping]\n  )\n  const replaceDimension = useCallback(\n    (fromDimension, toDimension, fromIndex, toIndex, multiple = false) => {\n      const nextId = uniqueId()\n      if (multiple) {\n        setDraggingId(nextId)\n      }\n      setLocalMapping((prev) => {\n        return handleReplaceLocalMapping(\n          nextId,\n          prev,\n          fromDimension,\n          toDimension,\n          fromIndex,\n          toIndex,\n          dimensions,\n          dataTypes,\n          multiple\n        )\n      })\n      if (!multiple) {\n        setMapping((prev) => {\n          return handleReplaceLocalMapping(\n            nextId,\n            prev,\n            fromDimension,\n            toDimension,\n            fromIndex,\n            toIndex,\n            dimensions,\n            dataTypes\n          )\n        })\n      }\n    },\n    [dataTypes, dimensions, setMapping]\n  )\n\n  const [draggingId, setDraggingId] = useState(null)\n\n  const rollbackLocalMapping = useCallback(() => {\n    setLocalMapping(mapping)\n    setDraggingId(null)\n  }, [mapping])\n\n  // const commitLocalMapping = useCallback(() => {\n  //   console.log('COMMIT!', localMappding)\n  //   setMapping(localMappding)\n  //   setDraggingId(null)\n  // }, [localMappding, setMapping])\n  const commitLocalMapping = () => {\n    // setMapping()\n    setMapping(lastMapping.current)\n    setDraggingId(null)\n  }\n\n  const lastMapping = useRef()\n  useEffect(() => {\n    lastMapping.current = localMappding\n  })\n\n  useImperativeHandle(ref, () => ({\n    clearLocalMapping: () => {\n      setLocalMapping({})\n    },\n  }))\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Row>\n        <Col xs={3}>\n          <h5 className=\"text-uppercase\">Dimensions</h5>\n          {map(dataTypes, (dataType, columnName) => {\n            return (\n              <ColumnCard\n                key={columnName}\n                dimensionName={columnName}\n                dimensionType={dataType}\n                commitLocalMapping={commitLocalMapping}\n                rollbackLocalMapping={rollbackLocalMapping}\n              />\n            )\n          })}\n        </Col>\n        <Col>\n          <h5 className=\"text-uppercase\">Chart Variables</h5>\n          <Row\n            className=\"sticky-top\"\n            style={{ top: 'calc(var(--header-height) + 16px)' }}\n          >\n            {dimensions.map((d) => {\n              return (\n                <ChartDimensionCard\n                  key={d.id}\n                  dimension={d}\n                  dataTypes={dataTypes}\n                  // mapping={mapping[d.id] || {}}\n                  mapping={localMappding[d.id] || {}}\n                  setMapping={(mappingConf, isLocal = false) =>\n                    updateMapping(d.id, mappingConf, isLocal)\n                  }\n                  commitLocalMapping={commitLocalMapping}\n                  rollbackLocalMapping={rollbackLocalMapping}\n                  draggingId={draggingId}\n                  setDraggingId={setDraggingId}\n                  replaceDimension={replaceDimension}\n                  localMappding={localMappding}\n                />\n              )\n            })}\n          </Row>\n        </Col>\n      </Row>\n    </DndProvider>\n  )\n}\n\nexport default React.memo(React.forwardRef(DataMapping))\n","import React from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport isObject from 'lodash/isObject'\n\nconst ChartOptionSelect = ({\n  options = [],\n  value,\n  error,\n  onChange,\n  default: defaultValue,\n  label,\n  ...props\n}) => {\n  return (\n    <Row className={props.className}>\n      <Col xs={6} className=\"d-flex align-items-center nowrap\">{label}</Col>\n      <Col xs={6}>\n        <select\n          className=\"custom-select raw-select\"\n          value={value ?? defaultValue}\n          onChange={(e) => {\n            const stringValue = e.target.value\n            const value =\n              props.type === 'number' ? Number(stringValue) : stringValue\n            onChange(value)\n          }}\n        >\n          {options.map((option) =>\n            isObject(option) ? (\n              <option key={option.value} value={option.value}>\n                {option.label}\n              </option>\n            ) : (\n              <option key={option} value={option}>\n                {option}\n              </option>\n            )\n          )}\n        </select>\n        {error && (\n          <small>\n            <i>{error}</i>\n          </small>\n        )}\n      </Col>\n    </Row>\n  )\n}\n\nexport default React.memo(ChartOptionSelect)\n","import React from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport ChartOptionSelect from './ChartOptionSelect'\n\nconst ChartOptionNumber = ({\n  value,\n  error,\n  onChange,\n  default: defaultValue,\n  label,\n  isEnabled,\n  ...props\n}) => {\n  if (props.options) {\n    return (\n      <ChartOptionSelect\n        value={value}\n        error={error}\n        onChange={onChange}\n        default={defaultValue}\n        disabled={!isEnabled}\n        label={label}\n        {...props}\n      />\n    )\n  }\n  return (\n    <Row className={props.className}>\n      <Col xs={6} className=\"d-flex align-items-center nowrap\">{label}</Col>\n      <Col xs={6}>\n        <input\n          className=\"w-100 form-control text-field\"\n          type=\"number\"\n          value={value ?? ''}\n          step={props.step}\n          min={props.min}\n          max={props.max}\n          disabled={!isEnabled}\n          onChange={(e) => {\n            const str = e.target.value\n            if (str === '') {\n              onChange(undefined)\n            } else {\n              const n = parseFloat(str)\n              if (!isNaN(n)) {\n                onChange(n)\n              } else {\n                onChange(undefined)\n              }\n            }\n          }}\n          placeholder={defaultValue}\n        />\n      </Col>\n      {error && (\n        <small>\n          <i>{error}</i>\n        </small>\n      )}\n    </Row>\n  )\n}\n\nexport default React.memo(ChartOptionNumber)\n","import React from 'react'\nimport ChartOptionSelect from './ChartOptionSelect'\n\nconst ChartOptionText = ({\n  value,\n  error,\n  onChange,\n  default: defaultValue,\n  label,\n  isEnabled,\n  ...props\n}) => {\n  if (props.options) {\n    return (\n      <ChartOptionSelect\n        value={value}\n        error={error}\n        onChange={onChange}\n        default={defaultValue}\n        label={label}\n        {...props}\n      />\n    )\n  }\n  return (\n    <label className=\"d-block\">\n      <b>{label}</b>\n      <br />\n      <input\n        type=\"text\"\n        value={value ?? ''}\n        step={props.step}\n        disabled={!isEnabled}\n        onChange={(e) => {\n          onChange(e.target.value)\n        }}\n        placeholder={defaultValue}\n      />\n      {error && (\n        <small>\n          <i>{error}</i>\n        </small>\n      )}\n    </label>\n  )\n}\n\nexport default React.memo(ChartOptionText)\n","import React, { useState } from 'react'\nimport styles from './InlineColorPicker.module.scss'\nimport { SketchPicker } from 'react-color'\n\nexport default function InlineColorPicker({ color: maybeColor, onChange, disabled }) {\n  const [displayColorPicker, setDisplayColorPicker] = useState(false)\n  const color = maybeColor ?? '#000000' // Same as <input type='color' />\n\n  return (\n    <>\n      <div\n        className={styles.swatch}\n        onClick={() => setDisplayColorPicker(true)}\n      >\n        <div className={styles.color} style={{ background: color }} />\n        {color.toUpperCase()}\n      </div>\n      {displayColorPicker && (\n        <div className={styles.popover}>\n          <div\n            className={styles.cover}\n            onClick={() => setDisplayColorPicker(false)}\n          />\n          <SketchPicker\n            disabled={disabled}\n            disableAlpha\n            color={color}\n            onChangeComplete={(color) => onChange(color.hex)}\n          />\n        </div>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { Col } from 'react-bootstrap'\nimport InilineColorPicker from '../../InlineColorPicker'\nimport ChartOptionSelect from './ChartOptionSelect'\n\nconst ChartOptionColor = ({\n  value,\n  error,\n  onChange,\n  default: defaultValue,\n  label,\n  isEnabled,\n  ...props\n}) => {\n  if (props.options) {\n    return (\n      <ChartOptionSelect\n        value={value}\n        error={error}\n        onChange={onChange}\n        default={defaultValue}\n        label={label}\n        {...props}\n      />\n    )\n  }\n\n  return (\n    <label className={props.className+\" row\"}>\n      <Col xs={6} className=\"d-flex align-items-center\">{label}</Col>\n      <Col xs={6}>\n        <InilineColorPicker disabled={!isEnabled} color={value} onChange={onChange} />\n      </Col>\n      {error && (\n        <small>\n          <i>{error}</i>\n        </small>\n      )}\n    </label>\n  )\n}\n\nexport default React.memo(ChartOptionColor)\n","import React from 'react'\nimport styles from '../ChartOptions.module.scss'\nimport { COLOR_SCHEMES_LABELS } from '../../../constants'\nimport get from 'lodash/get'\n\nconst ColorSchemePreview = ({ label, scale, numSamples=150 }) => {\n  let samples\n  if (scale.ticks) {\n    samples = scale.ticks(numSamples)\n  } else {\n    if(scale.domain){\n      samples = scale.domain()\n    } else {\n      samples = []\n    }\n    \n  }\n  return (\n    <div className={styles['scheme-preview']}>\n      {label && <div style={{marginBottom:2}}>{get(COLOR_SCHEMES_LABELS, label, label)}</div>}\n      <div className=\"d-flex\">\n        {samples.map((sample) => (\n          <div\n            key={'sample-'+sample}\n            style={{ flex: 1, height: 10, background: scale(sample) }}\n          ></div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(ColorSchemePreview)","import React from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport ColorSchemePreview from './ColorSchemePreview'\nimport {\n  colorPresets,\n  getColorDomain,\n  getPresetScale\n} from '@rawgraphs/rawgraphs-core'\nimport styles from '../ChartOptions.module.scss'\n\nconst ColorSchemesDropDown = ({\n    interpolators,\n    interpolator,\n    setInterpolator,\n    // To display color-scale preview\n    colorDataset,\n    colorDataType,\n    scaleType,\n    currentFinalScale\n}) => {\n\n  return (\n    <Dropdown className=\"d-inline-block raw-dropdown w-100\">\n      <Dropdown.Toggle variant=\"white\" className=\"w-100\" style={{paddingRight:24}} disabled={!colorDataType}>\n        { currentFinalScale && <ColorSchemePreview\n          scale={currentFinalScale}\n        />}\n      </Dropdown.Toggle>\n      {colorDataType && <Dropdown.Menu className=\"w-100\">\n      {interpolators.map(\n        (intrplr) => {\n          return (\n            <Dropdown.Item key={intrplr} onClick={()=>setInterpolator(intrplr)} className={styles[\"color-scheme-dropdown-item\"]}>\n              { colorDataset[0] && colorPresets[scaleType][interpolator] && \n                <ColorSchemePreview\n                  scale={\n                    getPresetScale(scaleType, getColorDomain(colorDataset, colorDataType, scaleType), intrplr)\n                  }\n                  label={intrplr}\n                />\n              }\n            </Dropdown.Item>\n          )\n        }\n      )}\n      </Dropdown.Menu>}\n    </Dropdown>\n  )\n}\n\nexport default React.memo(ColorSchemesDropDown)","import React from 'react'\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap'\nimport {\n  BsArrowCounterclockwise,\n  BsArrowLeftRight,\n  BsLockFill,\n  BsUnlockFill,\n} from 'react-icons/bs'\n\nfunction ResetBtn({ resetScale }) {\n  return (\n    <OverlayTrigger\n      key=\"bottom\"\n      placement=\"bottom\"\n      overlay={<Tooltip id={`tooltip-top`}>Reset domain</Tooltip>}\n    >\n      <span type=\"button\" className=\"btn\" onClick={resetScale}>\n        <BsArrowCounterclockwise width=\"16\" height=\"16\" />\n      </span>\n    </OverlayTrigger>\n  )\n}\n\nfunction InvertBtn({ invertScale }) {\n  return (\n    <OverlayTrigger\n      key=\"bottom\"\n      placement=\"bottom\"\n      overlay={<Tooltip id={`tooltip-top`}>Invert</Tooltip>}\n    >\n      <span type=\"button\" className=\"btn\" onClick={invertScale}>\n        <BsArrowLeftRight width=\"16\" height=\"16\" />\n      </span>\n    </OverlayTrigger>\n  )\n}\n\nfunction LockBtn({ handleChangeLocked, locked }) {\n  return (\n    <OverlayTrigger\n      key=\"bottom\"\n      placement=\"bottom\"\n      overlay={<Tooltip id={`tooltip-top`}>{locked ? 'Unlock' : 'Lock'} scale</Tooltip>}\n    >\n      <span\n        type=\"button\"\n        className={`btn ${locked ? 'Xbtn-primary' : ''}`}\n        onClick={() => handleChangeLocked(!locked)}\n      >\n        {locked ? <BsUnlockFill width=\"16\" height=\"16\" /> : <BsLockFill width=\"16\" height=\"16\" />}\n      </span>\n    </OverlayTrigger>\n  )\n}\n\nexport { ResetBtn, InvertBtn, LockBtn }\n","import { useRef, useEffect } from 'react'\nexport default function usePrevious(value) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = useRef()\n\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value\n  }, [value]) // Only re-run if value changes\n\n  // Return previous value (happens before update in useEffect above)\n  return ref.current\n}\n","import React, { useState, useMemo, useEffect, useCallback, useRef } from 'react'\nimport InilineColorPicker from '../../InlineColorPicker'\nimport ColorSchemesDropDown from './ColorSchemesDropDown'\nimport { Row, Col, Dropdown } from 'react-bootstrap'\nimport { ResetBtn, InvertBtn, LockBtn } from './ColorScaleUtils'\nimport { SCALES_LABELS } from '../../../constants'\nimport get from 'lodash/get'\nimport keyBy from 'lodash/keyBy'\nimport {\n  getInitialScaleValues,\n  getColorScale,\n  getDefaultColorScale,\n  getColorDomain,\n  colorPresets,\n  getAvailableScaleTypes,\n  getValueType,\n} from '@rawgraphs/rawgraphs-core'\nimport styles from '../ChartOptions.module.scss'\nimport usePrevious from '../../../hooks/usePrevious'\n\nfunction getDatePickerValue(userValue) {\n  if (userValue.userDomain === 0) {\n    return 0\n  }\n  if (!userValue.userDomain) {\n    return ''\n  }\n\n  if (getValueType(userValue.userDomain) === 'date') {\n    return userValue.userDomain.toISOString().substring(0, 10)\n  }\n\n  return userValue.userDomain\n}\n\nconst ChartOptionColorScale = ({\n  value,\n  error,\n  onChange,\n  defaultValue,\n  label,\n  dimension,\n  dataset,\n  mapping,\n  dataTypes,\n  chart,\n  mappedData,\n  mappingValue,\n  colorDataset,\n  colorDataType,\n  hasAnyMapping,\n  ...props\n}) => {\n\n  // here we leverage injection of the __loaded prop in the color scale, see App.js\n  const initialValue = useRef(!!value.__loaded)\n  \n  const [scaleType, setScaleType] = useState(get(value, 'scaleType'))\n\n  const defaultColor = useMemo(() => {\n    const colorFromDefault = get(defaultValue, 'defaultColor', '#cccccc')\n    return get(value, 'defaultColor', colorFromDefault)\n  }, [defaultValue, value])\n\n  const [locked, setLocked] = useState(get(value, 'locked'))\n\n  const availableScaleTypes = useMemo(() => {\n    const nextTypes = getAvailableScaleTypes(colorDataType, colorDataset)\n    return nextTypes\n  }, [colorDataType, colorDataset])\n\n  const [interpolators, setInterpolators] = useState(\n    get(value, 'scaleType')\n      ? Object.keys(colorPresets[get(value, 'scaleType')])\n      : []\n  )\n\n  const [interpolator, setInterpolator] = useState(get(value, 'interpolator'))\n  const [userValues, setUserValues] = useState(\n    get(value, 'userScaleValues', []).map((userValue) => ({\n      ...userValue,\n      userDomain: userValue.domain,\n      userRange: userValue.range,\n    }))\n  )\n\n  const getCurrentFinalScale = useCallback(\n    (interpolator, scaleType, userValuesForFinalScale, defaultColor) => {\n      if (\n        !scaleType ||\n        !interpolator ||\n        !colorPresets[scaleType][interpolator] ||\n        !userValuesForFinalScale ||\n        !userValuesForFinalScale.length\n      ) {\n        return\n      }\n\n      const domains = userValuesForFinalScale\n        .map((x) => x.domain)\n        .filter((x) => x !== undefined)\n      if (!domains.length) {\n        return\n      }\n\n      const previewScale = getColorScale(\n        colorDataset, //the array of values of the dataset mapped on the color dimension\n        colorDataType,\n        scaleType, //\n        interpolator,\n        userValuesForFinalScale,\n      )\n\n      return previewScale\n    },\n    [colorDataType, colorDataset]\n  )\n\n  const getDefaultUserValues = useCallback(\n    (interpolator, scaleType) => {\n      if (!colorDataset.length || !colorDataType || !scaleType) {\n        return []\n      }\n      if (!colorPresets[scaleType][interpolator]) {\n        return []\n      }\n\n      const domain = getColorDomain(colorDataset, colorDataType, scaleType)\n\n      return getInitialScaleValues(domain, scaleType, interpolator).map(\n        (userValue) => ({\n          ...userValue,\n          userRange: userValue.range,\n          userDomain: userValue.domain,\n        })\n      )\n    },\n    [colorDataType, colorDataset]\n  )\n\n  const getUserValuesForFinalScale = useCallback(\n    (values) => {\n      return values.map((value) => ({\n        range: value.userRange,\n        domain:\n          colorDataType === 'date'\n            ? value.userDomain?.toString()\n            : value.userDomain,\n        // domain: value.userDomain,\n      }))\n    },\n    [colorDataType]\n  )\n\n  const currentFinalScale = useMemo(() => {\n\n    if (scaleType && interpolator) {\n      const currentUserValues =\n        userValues && userValues.length\n          ? userValues\n          : getDefaultUserValues(interpolator, scaleType)\n      const valuesForFinalScale = getUserValuesForFinalScale(currentUserValues)\n      return getCurrentFinalScale(interpolator, scaleType, valuesForFinalScale)\n    }\n    return getDefaultColorScale()\n  }, [\n    getCurrentFinalScale,\n    getDefaultUserValues,\n    getUserValuesForFinalScale,\n    interpolator,\n    scaleType,\n    userValues,\n  ])\n\n  const handleChangeValues = useCallback(\n    (nextUserValues) => {\n      let valuesForFinalScale = getUserValuesForFinalScale(nextUserValues)\n\n      //notify ui\n      const outScaleParams = {\n        scaleType,\n        interpolator: interpolator,\n        userScaleValues: valuesForFinalScale,\n        defaultColor,\n        locked,\n      }\n      onChange(outScaleParams)\n    },\n    [getUserValuesForFinalScale, scaleType, interpolator, defaultColor, locked, onChange]\n  )\n\n  const setUserValueRange = useCallback(\n    (index, value) => {\n      const newUserValues = [...userValues]\n      newUserValues[index].userRange = value\n      setUserValues(newUserValues)\n      handleChangeValues(newUserValues)\n    },\n    [handleChangeValues, userValues]\n  )\n\n  const setUserValueDomain = useCallback(\n    (index, value) => {\n      const newUserValues = [...userValues]\n      newUserValues[index].userDomain = value\n      setUserValues(newUserValues)\n      handleChangeValues(newUserValues)\n    },\n    [handleChangeValues, userValues]\n  )\n\n\n  const handleChangeScaleType = useCallback(\n    (nextScaleType) => {\n\n      setScaleType(nextScaleType)\n\n      //update interpolators\n      const nextInterpolators = colorPresets[nextScaleType]\n        ? Object.keys(colorPresets[nextScaleType])\n        : []\n      setInterpolators(nextInterpolators)\n\n      //set first interpolator\n      const nextInterpolator = nextScaleType === scaleType ? interpolator : nextInterpolators[0]\n      setInterpolator(nextInterpolator)\n\n      //user values\n      const nextUserValues = getDefaultUserValues(\n        nextInterpolator,\n        nextScaleType,\n      )\n      setUserValues(nextUserValues)\n      const valuesForFinalScale = getUserValuesForFinalScale(nextUserValues)\n\n      //notify ui\n      const outScaleParams = {\n        scaleType: nextScaleType,\n        interpolator: nextInterpolator,\n        userScaleValues: valuesForFinalScale,\n        defaultColor,\n        locked,\n      }\n      onChange(outScaleParams)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [getDefaultUserValues, getUserValuesForFinalScale, defaultColor, onChange, locked]\n  )\n\n  const handleSetInterpolator = useCallback(\n    (nextInterpolator, customUserValues) => {\n      setInterpolator(nextInterpolator)\n\n      //user values\n      const nextUserValues = getDefaultUserValues(nextInterpolator, scaleType)\n      setUserValues(nextUserValues)\n      let valuesForFinalScale = getUserValuesForFinalScale(nextUserValues)\n      \n      if(customUserValues){\n        const byDomain = keyBy(customUserValues, 'domain')\n        valuesForFinalScale = valuesForFinalScale.map(v => ({\n          ...v,\n          range: byDomain[v.domain.toString()] ? byDomain[v.domain.toString()].userRange : v.range\n        }))\n      }\n      //notify ui\n      const outScaleParams = {\n        scaleType,\n        interpolator: nextInterpolator,\n        userScaleValues: valuesForFinalScale,\n        defaultColor,\n        locked,\n      }\n      onChange(outScaleParams)\n    },\n    [getDefaultUserValues, getUserValuesForFinalScale, onChange, scaleType, defaultColor, locked,]\n  )\n\n  const handleChangeLocked = useCallback(\n    (nextLocked) => {\n      setLocked(nextLocked)\n      //this is needed for disabiling automatic scale reset\n      initialValue.current = true\n\n      const outScaleParams = {\n        scaleType,\n        interpolator,\n        userScaleValues: userValues,\n        defaultColor,\n        locked: nextLocked,\n      }\n      onChange(outScaleParams)\n    },\n    [scaleType, interpolator, userValues, defaultColor, onChange]\n  )\n\n\n\n  const resetScale = useCallback(() => {\n    handleSetInterpolator(interpolator, userValues)\n  }, [handleSetInterpolator, interpolator, userValues])\n\n  const invertScale = useCallback(() => {\n\n    let reversedValues = [...userValues]\n    reversedValues.reverse()\n\n    const invertedValues = userValues.map((v, i) => ({\n      ...v,\n      userRange: reversedValues[i].userRange,\n      range: reversedValues[i].range,\n\n    }))\n\n    setUserValues(invertedValues)\n    handleChangeValues(invertedValues)\n  }, [handleChangeValues, userValues])\n\n\n\n  const prevMappingValue = usePrevious(mappingValue)\n\n  useEffect(() => {\n    if (prevMappingValue && mappingValue !== prevMappingValue) {\n      initialValue.current = false\n    }\n  }, [mappingValue, prevMappingValue])\n\n  useEffect(() => {\n    if (!initialValue.current && !locked) {\n      const nextScaleType = availableScaleTypes[0]\n      handleChangeScaleType(nextScaleType)\n    }\n\n  }, [availableScaleTypes, handleChangeScaleType, locked])\n\n  // update scale on dataset update.\n  // #TODO: fixme\n\n  // const prevDataset = usePrevious(colorDataset)\n  // const prevScaleType = usePrevious(colorDataset)\n\n  // useEffect(() => {\n  //   if (!locked && colorDataset !== prevDataset && prevScaleType === scaleType) {\n  //     console.info(\"dddd resetting scope\")\n  //     const nextUserValues = getDefaultUserValues(\n  //       interpolator,\n  //       scaleType,\n  //     )\n  //     setUserValues(nextUserValues)\n  //     const valuesForFinalScale = getUserValuesForFinalScale(nextUserValues)\n  //     //notify ui\n  //     const outScaleParams = {\n  //       scaleType,\n  //       interpolator,\n  //       userScaleValues: valuesForFinalScale,\n  //       defaultColor,\n  //       locked,\n  //     }\n  //     onChange(outScaleParams)\n  //   }\n  // }, [colorDataset, defaultColor, getDefaultUserValues, getUserValuesForFinalScale, interpolator, locked, onChange, prevDataset, prevScaleType, scaleType])\n\n\n  return hasAnyMapping ? (\n    <>\n      <Row className={props.className} style={{marginTop:'8px', marginBottom:'8px'}}>\n        <Col xs={5} className=\"d-flex align-items-center nowrap\">\n          Color scale\n        </Col>\n        <Col xs={7}>\n          <Dropdown className=\"d-inline-block raw-dropdown w-100\">\n            <Dropdown.Toggle variant=\"white\" className=\"w-100\" style={{paddingRight:24}} disabled={!colorDataType}>\n              {get(SCALES_LABELS, scaleType, scaleType)}\n            </Dropdown.Toggle>\n            <Dropdown.Menu className=\"w-100\">\n            {availableScaleTypes.map(\n              (s) => {\n                return (\n                  <Dropdown.Item key={s} onClick={()=>handleChangeScaleType(s)}>\n                    {get(SCALES_LABELS, s, s)}\n                  </Dropdown.Item>\n                )\n              }\n            )}\n            </Dropdown.Menu>\n          </Dropdown>\n        </Col>\n      </Row>\n\n      {/* Color scheme */}\n      <Row className={[props.className].join(' ')} style={{marginTop:'8px', marginBottom:'8px'}}>\n        <Col xs={5} className=\"d-flex align-items-center nowrap\">\n          Color scheme\n        </Col>\n        <Col xs={7}>\n          <ColorSchemesDropDown\n            interpolators={interpolators}\n            interpolator={interpolator}\n            setInterpolator={handleSetInterpolator}\n            // To display color-scale preview\n            colorDataset={colorDataset}\n            colorDataType={colorDataType}\n            scaleType={scaleType}\n            currentFinalScale={currentFinalScale}\n          />\n        </Col>\n      </Row>\n\n      {/* Scale color swatches */}\n      {colorDataType && userValues && (\n        <div className={styles['color-swatches-list']}>\n          {userValues.map((userValue, i) => (\n            <Row\n              key={i}\n              className={[\n                styles['chart-option'],\n                styles['color-swatch'],\n                scaleType !== 'ordinal'\n                  ? styles['not-ordinal']\n                  : styles['ordinal'],\n              ].join(' ')}\n            >\n              <Col xs={12}>\n                <div className={styles['color-scale-item']}>\n                  {scaleType === 'ordinal' &&\n                    get(userValue, 'domain') !== undefined && (\n                      <span\n                        className=\"nowrap text-truncate pr-2\"\n                        title={userValue.domain && userValue.domain.toString()}\n                      >\n                        {userValue.domain === ''\n                          ? '[empty string]'\n                          : userValue.domain.toString()}\n                      </span>\n                    )}\n                  {scaleType !== 'ordinal' && (\n                    <>\n                      <span className=\"nowrap\">\n                        {i === 0\n                          ? 'Start'\n                          : i === userValues.length - 1\n                            ? 'End'\n                            : 'Middle'}\n                      </span>\n                      <input\n                        disabled={locked}\n                        type={getValueType(userValue.userDomain)}\n                        className=\"form-control text-field\"\n                        value={getDatePickerValue(userValue)}\n                        onChange={(e) => {\n                          if (colorDataType === 'date') {\n                            setUserValueDomain(i, new Date(e.target.value))\n                          } else {\n                            setUserValueDomain(i, e.target.value)\n                          }\n                        }}\n                      ></input>\n                    </>\n                  )}\n                  <InilineColorPicker\n                    color={userValue.userRange}\n                    onChange={(color) => {\n                      setUserValueRange(i, color)\n                    }}\n                  />\n                </div>\n              </Col>\n            </Row>\n          ))}\n          <Row>\n            <Col className=\"d-flex justify-content-end\">\n              <ResetBtn resetScale={resetScale} />\n              <InvertBtn invertScale={invertScale} />\n              {\n                scaleType !== 'ordinal' && (\n                  <LockBtn locked={locked} handleChangeLocked={handleChangeLocked} />\n                )\n              }\n\n            </Col>\n          </Row>\n\n        </div>\n      )}\n\n    </>\n  ) : null\n}\n\nexport default ChartOptionColorScale\n","import React, { useState, useMemo, useEffect, useCallback } from 'react'\nimport InilineColorPicker from '../../InlineColorPicker'\nimport { Col } from 'react-bootstrap'\nimport get from 'lodash/get'\nimport style from '../ChartOptions.module.scss'\n\nconst ChartOptionColorScaleDefault = ({\n  value,\n  error,\n  onChange,\n  default: defaultValue,\n  label,\n  dimension,\n  dataset,\n  mapping,\n  dataTypes,\n  chart,\n  mappedData,\n  mappingValue,\n  colorDataType,\n  colorDataset,\n  ...props\n}) => {\n  const colorFromValue = useMemo(() => {\n    const colorFromDefault = get(defaultValue, 'defaultColor', '#cccccc')\n    return get(value, 'defaultColor', colorFromDefault)\n  }, [defaultValue, value])\n\n  const [defaultColor, setDefaultColor] = useState(colorFromValue)\n\n  const handleChangeDefaultColor = useCallback(\n    (nextDefaultColor) => {\n      setDefaultColor(nextDefaultColor)\n      const outScaleParams = {\n        ...value,\n        defaultColor: nextDefaultColor,\n      }\n      onChange(outScaleParams)\n    },\n    [value, onChange]\n  )\n\n  useEffect(() => {\n    if (defaultValue && defaultValue.defaultColor !== defaultColor) {\n      handleChangeDefaultColor(defaultValue.defaultColor)\n    }\n  }, [defaultColor, defaultValue, handleChangeDefaultColor])\n\n  return (\n    <>\n      <label className={[style['chart-option'], 'row'].join(' ')}>\n        <Col xs={6} className=\"d-flex align-items-center\">\n          Default\n        </Col>\n        <Col xs={6}>\n          <InilineColorPicker\n            color={defaultColor}\n            onChange={handleChangeDefaultColor}\n          />\n        </Col>\n      </label>\n    </>\n  )\n}\n\nexport default ChartOptionColorScaleDefault\n","import React, { useMemo } from 'react'\nimport ChartOptionColorScale from './ChartOptionColorScale'\nimport ChartOptionColorScaleDefault from './ChartOptionColorScaleDefault'\n\nconst ChartOptionColorScaleWrapper = ({\n  value,\n  onChange,\n  default: defaultValue,\n  mappingValue,\n  colorDataType,\n  colorDataset,\n\n}) => {\n\n  const hasAnyMapping = useMemo(() => {\n    return colorDataset && colorDataset.length > 0\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [colorDataset])\n\n  return <>\n    {!hasAnyMapping && <ChartOptionColorScaleDefault onChange={onChange} defaultValue={defaultValue} value={value} />}\n    {hasAnyMapping &&  <ChartOptionColorScale hasAnyMapping={hasAnyMapping} mappingValue={mappingValue} defaultValue={defaultValue} value={value} colorDataType={colorDataType} colorDataset={colorDataset} onChange={onChange} />}\n  </>\n}\n\nexport default ChartOptionColorScaleWrapper\n","import React from 'react'\nimport { Row, Col, Form } from 'react-bootstrap'\n\nconst ChartOptionBoolean = ({ optionId, label, value, error, onChange, className, isEnabled }) => {\n  return (\n    <Row className={className}>\n      <Col xs={6} className=\"d-flex align-items-center nowrap\">{label}</Col>\n      <Form className=\"col-6 d-flex align-items-center\">\n        <Form.Check\n          type=\"switch\"\n          checked={!!value}\n          disabled={!isEnabled}\n          onChange={(e) => {\n            onChange(e.target.checked)\n          }}\n          id={optionId}\n          label={value ? 'Yes' : 'No'}\n        />\n      </Form>\n      {error && (\n        <div className=\"col-12\">\n          <small>\n            <i>{error}</i>\n          </small>\n        </div>\n      )}\n    </Row>\n  )\n}\n\nexport default React.memo(ChartOptionBoolean)\n","import React, { useCallback, useState, useMemo } from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport {\n  getOptionsConfig,\n  getContainerOptions,\n  getDefaultOptionsValues,\n  getEnabledOptions,\n  getTypeName,\n} from '@rawgraphs/rawgraphs-core'\nimport ChartOptionNumber from './ChartOptionTypes/ChartOptionNumber'\nimport ChartOptionText from './ChartOptionTypes/ChartOptionText'\nimport ChartOptionColor from './ChartOptionTypes/ChartOptionColor'\nimport ChartOptionColorScaleWrapper from './ChartOptionTypes/ChartOptionColorScaleWrapper'\nimport ChartOptionBoolean from './ChartOptionTypes/ChartOptionBoolean'\nimport get from 'lodash/get'\nimport map from 'lodash/map'\nimport styles from './ChartOptions.module.scss'\nimport omit from 'lodash/omit'\n\nconst CHART_OPTION_COMPONENTS = {\n  number: ChartOptionNumber,\n  text: ChartOptionText,\n  color: ChartOptionColor,\n  colorScale: ChartOptionColorScaleWrapper,\n  boolean: ChartOptionBoolean,\n}\n\nfunction getPartialMapping(mapping, dimension, repeatIndex) {\n  const nv = get(mapping[dimension], `value[${repeatIndex}]`)\n  return {\n    ...mapping,\n    [dimension]: {\n      ...mapping[dimension],\n      value: [nv],\n    },\n  }\n}\n\nfunction getPartialMappedData(mappedData, dimension, repeatIndex) {\n  return Array.isArray(mappedData)\n    ? mappedData.map((datum) => {\n        const value = get(datum[dimension], `[${repeatIndex}]`)\n        return {\n          ...datum,\n          [dimension]: value,\n        }\n      })\n    : mappedData\n}\n\nfunction getDefaultForRepeat(def, index) {\n  if (Array.isArray(def.repeatDefault)) {\n    return get(def.repeatDefault, `[${index}]`, def.default)\n  }\n  return def.default\n}\n\nfunction WrapControlComponent({\n  type,\n  optionId,\n  setVisualOptions,\n  label,\n  repeatIndex,\n  ...props\n}) {\n  const Component = CHART_OPTION_COMPONENTS[type]\n\n  const remainingOptions = useMemo(() => {\n    if (type !== 'colorScale') {\n      return null\n    }\n\n    return Object.keys(omit(props.visualOptions, optionId))\n      .map((k) => JSON.stringify(get(props.visualOptions, k, '')))\n      .join('-')\n  }, [type, props.visualOptions, optionId])\n\n  const domainFromChart = useMemo(() => {\n    if (type !== 'colorScale') {\n      return null\n    }\n    if (props.domain && props.chart[props.domain]) {\n      //as sometimes the current chart is not in synch with current options (chart is set before options, we just handle an exception)\n      //everything should be ok on the next render.\n      try {\n        const domain = props.chart[props.domain](\n          props.mappedData,\n          props.mapping,\n          props.visualOptions\n        )\n        return domain\n      } catch (e) {\n        return null\n      }\n    } else {\n      return null\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    type,\n    props.chart,\n    props.domain,\n    props.mappedData,\n    props.mapping,\n    remainingOptions,\n  ])\n\n  const mappingValue = useMemo(() => {\n    if (type !== 'colorScale') {\n      return null\n    }\n    return domainFromChart\n      ? '__custom__'\n      : get(props.mapping, `[${props.dimension}].value`)\n  }, [domainFromChart, props.dimension, props.mapping, type])\n\n  const colorDataType = useMemo(() => {\n    if (type !== 'colorScale') {\n      return null\n    }\n    if (domainFromChart) {\n      return domainFromChart.type\n    }\n    return props.dataTypes[mappingValue]\n      ? getTypeName(props.dataTypes[mappingValue])\n      : 'string'\n  }, [type, props.dataTypes, domainFromChart, mappingValue])\n\n  const colorDataset = useMemo(() => {\n    if (type !== 'colorScale') {\n      return null\n    }\n    if (domainFromChart) {\n      return domainFromChart.domain\n    }\n\n    if (props.mappedData) {\n      return props.mappedData\n        .map((d) => get(d, props.dimension))\n        .filter(\n          (item) => item !== undefined && !(Array.isArray(item) && !item.length)\n        )\n    } else {\n      return []\n    }\n  }, [type, props.dimension, domainFromChart, props.mappedData])\n\n  const handleControlChange = useCallback(\n    (nextValue) => {\n      setVisualOptions((visualOptions) => {\n        let newValue = nextValue\n        if (repeatIndex !== undefined) {\n          newValue = visualOptions[optionId] || []\n          newValue[repeatIndex] = nextValue\n        }\n        return {\n          ...visualOptions,\n          [optionId]: newValue,\n        }\n      })\n    },\n    [optionId, repeatIndex, setVisualOptions]\n  )\n\n  return (\n    <Component\n      type={type}\n      domainFromChart={domainFromChart}\n      mappingValue={mappingValue}\n      colorDataType={colorDataType}\n      colorDataset={colorDataset}\n      optionId={optionId}\n      label={\n        repeatIndex !== undefined ? (\n          <React.Fragment>\n            {label} ({repeatIndex + 1})\n          </React.Fragment>\n        ) : (\n          label\n        )\n      }\n      {...omit(props, [\n        'mapping',\n        'visualOptions',\n        'chart',\n        'dataset',\n        'dataTypes',\n        'mappedData',\n      ])}\n      onChange={handleControlChange}\n    />\n  )\n}\n\nconst ChartOptions = ({\n  chart,\n  dataset,\n  mapping,\n  dataTypes,\n  visualOptions,\n  setVisualOptions,\n  error,\n  mappedData,\n}) => {\n  const optionsConfig = useMemo(() => {\n    return getOptionsConfig(chart?.visualOptions)\n  }, [chart])\n\n  const [collapseStatus, setCollapseStatus] = useState(() => {\n    const groups = {}\n    for (const option in optionsConfig) {\n      const group = optionsConfig[option].group\n      if (!groups.hasOwnProperty(group)) {\n        groups[group] = true\n      }\n    }\n    return groups\n  })\n\n  const enabledOptions = useMemo(() => {\n    return getEnabledOptions(optionsConfig, visualOptions, mapping)\n  }, [optionsConfig, visualOptions, mapping])\n\n  // const enabledGroupsByName = useMemo(() => {\n  //   const enabledGroupsNames = Object.keys(optionsConfig).map(optionName => enabledOptions[optionName] ? optionsConfig[optionName].group : null).filter(x => !!x)\n  //   return mapValues(keyBy(enabledGroupsNames), x => true)\n  // }, [enabledOptions, optionsConfig])\n  // // #TODO we can use enabledGroupsByName to disable the group\n\n  const optionsDefinitionsByGroup = useMemo(() => {\n    // update \"collapseStatus\" state\n    // add/remove options groups when selected charts changes\n    const groups = {}\n    for (const option in optionsConfig) {\n      const group = optionsConfig[option].group\n      if (!groups.hasOwnProperty(group)) {\n        groups[group] = group === 'artboard' ? false : true\n      }\n    }\n    setCollapseStatus(groups)\n    return Object.keys(optionsConfig).reduce((acc, optionId) => {\n      const option = optionsConfig[optionId]\n      const group = option?.group || ''\n      if (!acc[group]) {\n        acc[group] = {}\n      }\n      acc[group][optionId] = option\n      return acc\n    }, {})\n  }, [optionsConfig])\n\n  const containerOptions = useMemo(() => {\n    const defaultOptionsValues = getDefaultOptionsValues(optionsConfig, mapping)\n    const opts = {\n      ...defaultOptionsValues,\n      ...visualOptions,\n    }\n    return getContainerOptions(optionsConfig, opts)\n  }, [mapping, optionsConfig, visualOptions])\n\n  return (\n    <div className={[styles['chart-options'], 'col-4', 'col-xl-3'].join(' ')}>\n      {map(optionsDefinitionsByGroup, (options, groupName) => {\n        return (\n          <div\n            key={groupName}\n            groupname={groupName}\n            className={[\n              styles['options-group'],\n              collapseStatus[groupName] ? styles['collapsed'] : '',\n            ].join(' ')}\n          >\n            <Row className=\"sticky-top\">\n              <Col\n                className={`d-flex justify-content-between align-items-center ${styles['group-header']}`}\n              >\n                <h5 className=\"text-uppercase m-0\">{groupName}</h5>\n                <span\n                  className={[styles['collapse-button'], 'cursor-pointer'].join(\n                    ' '\n                  )}\n                  onClick={() =>\n                    setCollapseStatus({\n                      ...collapseStatus,\n                      [groupName]: !collapseStatus[groupName],\n                    })\n                  }\n                ></span>\n              </Col>\n            </Row>\n            {map(options, (def, optionId) => {\n              // repeated options: notice that value is set to a default if undefined\n              // this is caused by changes in shapes of the mapping object\n              // (when a new value is dragged to the dimension that repeats the option)\n              // the same approach is applied in option validation by the raw core lib\n              return def.repeatFor ? (\n                get(\n                  mapping,\n                  `[${def.repeatFor}].value`,\n                  []\n                ).map((v, repeatIndex) => (\n                  <WrapControlComponent\n                    className={styles['chart-option']}\n                    key={optionId + repeatIndex}\n                    repeatIndex={repeatIndex}\n                    {...def}\n                    optionId={optionId}\n                    error={error?.errors?.[optionId + repeatIndex]}\n                    value={\n                      visualOptions?.[optionId]?.[repeatIndex] ??\n                      getDefaultForRepeat(def, repeatIndex)\n                    }\n                    mapping={\n                      def.type === 'colorScale'\n                        ? getPartialMapping(mapping, def.repeatFor, repeatIndex)\n                        : undefined\n                    }\n                    chart={def.type === 'colorScale' ? chart : undefined}\n                    dataset={def.type === 'colorScale' ? dataset : undefined}\n                    dataTypes={\n                      def.type === 'colorScale' ? dataTypes : undefined\n                    }\n                    visualOptions={\n                      def.type === 'colorScale' ? visualOptions : undefined\n                    }\n                    mappedData={getPartialMappedData(\n                      mappedData,\n                      def.repeatFor,\n                      repeatIndex\n                    )}\n                    setVisualOptions={setVisualOptions}\n                    isEnabled={enabledOptions[optionId]}\n                  />\n                ))\n              ) : (\n                <WrapControlComponent\n                  className={styles['chart-option']}\n                  key={optionId}\n                  {...def}\n                  optionId={optionId}\n                  error={error?.errors?.[optionId]}\n                  value={visualOptions?.[optionId]}\n                  mapping={def.type === 'colorScale' ? mapping : undefined}\n                  chart={def.type === 'colorScale' ? chart : undefined}\n                  dataset={def.type === 'colorScale' ? dataset : undefined}\n                  dataTypes={def.type === 'colorScale' ? dataTypes : undefined}\n                  visualOptions={\n                    def.type === 'colorScale' ? visualOptions : undefined\n                  }\n                  mappedData={mappedData}\n                  setVisualOptions={setVisualOptions}\n                  isEnabled={enabledOptions[optionId]}\n                />\n              )\n            })}\n            {groupName === 'artboard' && visualOptions.showLegend && (\n              <p className=\"small\">\n                The final output will be {containerOptions?.width}px *{' '}\n                {containerOptions?.height}px including the legend.\n              </p>\n            )}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default ChartOptions\n","/**\n * @typedef {{\n *  name: string\n *  id: string\n *  description: string\n *  code: string\n *  categories: string[]\n *  tutorial?: string\n * }} chartMetadata\n */\n\n/**\n * @type string | null\n */\nlet prevChartIdRendered = null\n\n/**\n * @param {ChartMetada} chartMetadata\n */\nexport function onChartRendered(chartMetadata) {\n  if (prevChartIdRendered === chartMetadata.id) {\n    // Nothing to report the chart still the same\n    return\n  }\n  prevChartIdRendered = chartMetadata.id\n\n  if (typeof window.gtag === 'function') {\n    window.gtag('event', 'chart-render', {\n      event_category: chartMetadata.id,\n    })\n  }\n}\n\n/**\n * @param {chartMetadata} chartMetadata\n * @param {string} format\n */\nexport function onChartExported(chartMetadata, format) {\n  if (typeof window.gtag === 'function') {\n    window.gtag('event', 'chart-export', {\n      event_category: chartMetadata.id,\n      event_label: format,\n    })\n  }\n}\n","import React, { useRef, useEffect } from 'react'\nimport { chart as rawChart } from '@rawgraphs/rawgraphs-core'\nimport useDebounce from '../../hooks/useDebounce'\nimport WarningMessage from '../WarningMessage'\nimport { onChartRendered } from '../../gaEvents'\n\nconst ChartPreview = ({\n  chart,\n  dataset: data,\n  dataTypes,\n  mapping,\n  visualOptions,\n  error,\n  setError,\n  setRawViz,\n  mappedData,\n}) => {\n  const domRef = useRef(null)\n\n  const vizOptionsDebounced = useDebounce(visualOptions, 200)\n\n  useEffect(() => {\n    setError(null)\n\n    // control required variables\n    // need to create this array because the prop mapping does not return to {} when data is inserted and removed\n    const currentlyMapped = []\n    for (let variable in mapping) {\n      if (mapping[variable].ids && mapping[variable].ids.length > 0) {\n        currentlyMapped.push(variable)\n      }\n    }\n\n    let requiredVariables = chart.dimensions.filter(\n      (d) => d.required && currentlyMapped.indexOf(d.id) === -1\n    )\n\n    if (requiredVariables.length > 0) {\n      let errorMessage = (\n        <span>\n          Required chart variables: you need to map{' '}\n          {requiredVariables\n            .map((d, i) => <span key={i} className=\"font-weight-bold\">{d.name}</span>)\n            .reduce((prev, curr) => [prev, ' and ', curr])}\n        </span>\n      )\n      setError({ variant: 'secondary', message: errorMessage })\n      setRawViz(null)\n      while (domRef.current.firstChild) {\n        domRef.current.removeChild(domRef.current.firstChild)\n      }\n      return\n    }\n\n    // control multiple required variables\n    const multivaluesVariables = chart.dimensions.filter(\n      (d) =>\n        d.multiple &&\n        d.required &&\n        d.minValues &&\n        mapping[d.id].ids.length < d.minValues\n    )\n    if (multivaluesVariables.length > 0) {\n      let errorMessage = (\n        <span>\n          Please map{' '}\n          {multivaluesVariables\n            .map((d) => (\n              <>\n                at least <span className=\"font-weight-bold\">{d.minValues}</span>{' '}\n                dimensions on <span className=\"font-weight-bold\">{d.name}</span>\n              </>\n            ))\n            .reduce((prev, curr) => [prev, ' and ', curr])}\n          .\n        </span>\n      )\n      setError({ variant: 'secondary', message: errorMessage })\n      setRawViz(null)\n      while (domRef.current.firstChild) {\n        domRef.current.removeChild(domRef.current.firstChild)\n      }\n      return\n    }\n\n    // control data-types mismatches\n    for (let variable in mapping) {\n      if (\n        mapping[variable].ids &&\n        mapping[variable].ids.length > 0 &&\n        !mapping[variable].isValid\n      ) {\n        const variableObj = chart.dimensions.find((d) => d.id === variable)\n        const errorMessage = `Data-type mismatch: you cant map ${mapping[variable].mappedType}s on ${variableObj.name}.`\n        setError({ variant: 'danger', message: errorMessage })\n        setRawViz(null)\n        while (domRef.current.firstChild) {\n          domRef.current.removeChild(domRef.current.firstChild)\n        }\n        return\n      }\n    }\n\n    if (!mappedData) {\n      // console.info('Clearing viz')\n      setRawViz(null)\n      while (domRef.current.firstChild) {\n        domRef.current.removeChild(domRef.current.firstChild)\n      }\n      return\n    }\n    // console.info('Updating viz')\n    try {\n      const viz = rawChart(chart, {\n        data,\n        mapping: mapping,\n        dataTypes,\n        visualOptions: vizOptionsDebounced,\n      })\n      try {\n        const rawViz = viz.renderToDOM(domRef.current, mappedData)\n        setRawViz(rawViz)\n        setError(null)\n        onChartRendered(chart.metadata)\n      } catch (e) {\n        console.log(\"chart error\", e)\n        setError({ variant: 'danger', message: 'Chart error. ' + e.message })\n        setRawViz(null)\n      }\n    } catch (e) {\n      while (domRef.current.firstChild) {\n        domRef.current.removeChild(domRef.current.firstChild)\n      }\n      console.log({ e })\n      setError({ variant: 'danger', message: 'Chart error. ' + e.message })\n      setRawViz(null)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [setError, vizOptionsDebounced, setRawViz, mappedData, chart, mapping])\n\n  return (\n    <div className={'col-8 col-xl-9'}>\n      <div\n        className={['overflow-auto', 'position-sticky'].join(' ')}\n        style={{ top: 'calc(15px + var(--header-height))' }}\n      >\n        {error && (\n          <WarningMessage variant={error.variant} message={error.message} />\n        )}\n        <div ref={domRef}>{/* Don't put content in this <div /> */}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(ChartPreview)\n","import { useEffect, useState } from 'react'\n\nexport default function useDebounce(value, delay) {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(\n    () => {\n      // Update debounced value after delay\n      const handler = setTimeout(() => {\n        setDebouncedValue(value)\n      }, delay)\n\n      // Cancel the timeout if value changes (also on delay change or unmount)\n      // This is how we prevent debounced value from updating if value is changed ...\n      // .. within the delay period. Timeout gets cleared and restarted.\n      return () => {\n        clearTimeout(handler)\n      }\n    },\n    [value, delay] // Only re-call effect if value or delay changes\n  )\n\n  return debouncedValue\n}\n","import React, { useState, useEffect } from 'react'\nimport { Row } from 'react-bootstrap'\nimport ChartOptions from '../ChartOptions'\nimport ChartPreview from '../ChartPreview'\nimport { chart as rawChart } from '@rawgraphs/rawgraphs-core'\nimport { mapDataInWorker } from '../../worker'\nimport { WEBWORKER_ACTIVE } from '../../constants'\n\nconst ChartPreviewWithOptions = ({\n  chart,\n  dataset,\n  dataTypes,\n  mapping,\n  visualOptions,\n  setVisualOptions,\n  setRawViz,\n  setMappingLoading,\n}) => {\n  const [error, setError] = useState({variant: \"secondary\", message: \"Required chart variables\"})\n  const [mappedData, setMappedData] = useState(null)\n\n  useEffect(() => {\n    // console.info('Updating mapped dataset')\n    try {\n      setMappingLoading(true)\n\n      if (WEBWORKER_ACTIVE) {\n        mapDataInWorker(chart.metadata.name, {\n          data: dataset,\n          mapping: mapping,\n          dataTypes,\n        }, chart.rawCustomChart)\n          .then((mappedData) => {\n            setMappingLoading(false)\n            setMappedData(mappedData)\n          })\n          .catch((err) => {\n            console.error(err)\n            setMappingLoading(false)\n            setMappedData(null)\n          })\n      } else {\n        const viz = rawChart(chart, {\n          data: dataset,\n          mapping: mapping,\n          dataTypes,\n        })\n        const vizData = viz._getVizData()\n        setMappingLoading(false)\n        setMappedData(vizData)\n      }\n    } catch (e) {\n      console.error(e)\n      setMappingLoading(false)\n      setMappedData(null)\n    }\n  }, [\n    chart,\n    mapping,\n    dataTypes,\n    setError,\n    setRawViz,\n    setMappingLoading,\n    dataset,\n  ])\n\n  return (\n    <Row>\n        <ChartOptions\n          chart={chart}\n          dataset={dataset}\n          mapping={mapping}\n          dataTypes={dataTypes}\n          visualOptions={visualOptions}\n          setVisualOptions={setVisualOptions}\n          error={error}\n          mappedData={mappedData}\n        />\n        <ChartPreview\n          chart={chart}\n          dataset={dataset}\n          dataTypes={dataTypes}\n          mapping={mapping}\n          visualOptions={visualOptions}\n          error={error}\n          setError={setError}\n          setRawViz={setRawViz}\n          mappedData={mappedData}\n        />\n    </Row>\n  )\n}\n\nexport default ChartPreviewWithOptions\n","import React, { useCallback, useState } from 'react'\nimport { InputGroup, DropdownButton, Dropdown } from 'react-bootstrap'\nimport { onChartExported } from '../../gaEvents'\n\nfunction downloadBlob(url, filename) {\n  // Create a new anchor element\n  const a = document.createElement('a')\n  a.href = url\n  a.download = filename || 'download'\n  a.click()\n  return a\n}\n\nexport default function Exporter({ rawViz, exportProject }) {\n  const downloadSvg = useCallback(\n    (filename) => {\n      var svgString = new XMLSerializer().serializeToString(\n        rawViz._node.firstChild\n      )\n      var DOMURL = window.URL || window.webkitURL || window\n      var svg = new Blob([svgString], { type: 'image/svg+xml;charset=utf-8' })\n      var url = DOMURL.createObjectURL(svg)\n      downloadBlob(url, filename)\n      DOMURL.revokeObjectURL(svg)\n    },\n    [rawViz]\n  )\n\n  const downloadImage = useCallback(\n    (format, filename) => {\n      var svgString = new XMLSerializer().serializeToString(\n        rawViz._node.firstChild\n      )\n      var DOMURL = window.URL || window.webkitURL || window\n      var svg = new Blob([svgString], { type: 'image/svg+xml;charset=utf-8' })\n      var url = DOMURL.createObjectURL(svg)\n      var canvas = document.createElement('canvas')\n      canvas.height = rawViz._node.firstChild.clientHeight\n      canvas.width = rawViz._node.firstChild.clientWidth\n      var ctx = canvas.getContext('2d')\n      var img = new Image()\n      img.onload = function () {\n        ctx.drawImage(img, 0, 0)\n        var dataUrl = canvas.toDataURL(format)\n        downloadBlob(dataUrl, filename)\n        DOMURL.revokeObjectURL(svg)\n      }\n      img.src = url\n    },\n    [rawViz]\n  )\n\n  const downloadProject = useCallback(\n    async (filename) => {\n      const project = await exportProject()\n      const str = JSON.stringify(project)\n      const blob = new Blob([str], { type: 'application/json' })\n      const DOMURL = window.URL || window.webkitURL || window\n      const url = DOMURL.createObjectURL(blob)\n      downloadBlob(url, filename)\n      DOMURL.revokeObjectURL(url)\n    },\n    [exportProject]\n  )\n\n  const exportFormats = ['svg', 'png', 'jpg', 'rawgraphs']\n\n  const [currentFormat, setCurrentFormat] = useState('svg')\n  const [currentFile, setCurrentFile] = useState('viz')\n\n  const downloadViz = useCallback(() => {\n    switch (currentFormat) {\n      case 'svg':\n        downloadSvg(`${currentFile}.svg`)\n        break\n      case 'png':\n        downloadImage('image/png', `${currentFile}.png`)\n        break\n      case 'jpg':\n        downloadImage('image/jpeg', `${currentFile}.jpg`)\n        break\n      case 'rawgraphs':\n        downloadProject(`${currentFile}.rawgraphs`)\n        break\n      default:\n        break\n    }\n    // TODO: Make a getter for _chartImplementation\n    onChartExported(rawViz._chartImplementation.metadata, currentFormat)\n  }, [\n    currentFile,\n    currentFormat,\n    downloadImage,\n    downloadProject,\n    downloadSvg,\n    rawViz,\n  ])\n\n  return (\n    <div className=\"row\">\n      <div className=\"col col-sm-3\">\n        <InputGroup className=\"mb-3 raw-input-group\">\n          <input\n            type=\"text\"\n            className=\"form-control text-field\"\n            value={currentFile}\n            onChange={(e) => setCurrentFile(e.target.value)}\n          ></input>\n          <DropdownButton\n            as={InputGroup.Append}\n            title={`.${currentFormat}`}\n            id=\"input-group-dropdown-1\"\n            className=\"raw-dropdown\"\n          >\n            {exportFormats.map((d) => {\n              return (\n                <Dropdown.Item key={d} onClick={() => setCurrentFormat(d)}>\n                  .{d}\n                </Dropdown.Item>\n              )\n            })}\n          </DropdownButton>\n        </InputGroup>\n      </div>\n\n      <div className=\"col col-sm-2\">\n        <button\n          className=\"btn btn-primary btn-block raw-btn\"\n          onClick={downloadViz}\n        >\n          Download\n        </button>\n      </div>\n    </div>\n  )\n}\n","/* eslint-disable no-restricted-globals */\nimport * as d3 from 'd3'\nimport * as rawgraphsCore from '@rawgraphs/rawgraphs-core'\nimport LRU from 'lru-cache'\n\nexport const NPM_CDN = 'https://cdn.jsdelivr.net/npm/'\n\n/**\n * NOTE: In a perfect we got type definition from core\n *\n * @typedef {{\n *  metadata: { id: string }\n * }} ChartContract\n */\n\nconst queue = []\nconst cacheChartsPkg = new LRU(50)\nconst cacheDependenciesTree = new LRU(400)\n\nconst DEPENDENCIES_ALIAS = {\n  d3,\n  '@rawgraphs/rawgraphs-core': rawgraphsCore,\n}\n\n/**\n * Reauire a dependency in the DOM Context and cache it\n *\n * @param {string} name\n */\nasync function requireDependency(name) {\n  if (DEPENDENCIES_ALIAS[name]) {\n    return DEPENDENCIES_ALIAS[name]\n  }\n  let url\n  try {\n    url = new URL(name)\n  } catch (e) {\n    url = new URL(`${NPM_CDN}${name}`)\n  }\n  const sUrl = url.toString()\n  if (cacheDependenciesTree.has(sUrl)) {\n    return cacheDependenciesTree.get(sUrl)\n  }\n  const v = await requireFromUrl(sUrl.toString())\n  if (v) {\n    cacheDependenciesTree.set(sUrl, v)\n  }\n  return v\n}\n\n/**\n * AMD Define for the DOM Context\n */\nfunction defineDOM(...params) {\n  /**\n   * @type {(dependencies: string[]) void}\n   */\n  let factory\n  /**\n   * @type string[]\n   */\n  let dependencies\n  // Adjust various AMD callding patterhns\n  if (params.length < 2) {\n    factory = params[0]\n    dependencies = []\n  } else {\n    if (params.length >= 3) {\n      params = params.slice(1)\n    }\n    dependencies = params[0]\n    factory = params[1]\n  }\n  // Instance dependencies\n  const exports = {}\n  const module = { exports }\n  const rutimeDepenciesPromises = dependencies.map((dep) =>\n    dep === 'exports'\n      ? Promise.resolve(exports)\n      : dep === 'module'\n      ? Promise.resolve(module)\n      : requireDependency(dep)\n  )\n  queue.push(\n    Promise.all(rutimeDepenciesPromises).then((rutimeDepencies) => {\n      // Run factory ... This will (maybe) write into exports\n      const outFactory = factory(...rutimeDepencies)\n      if (\n        !dependencies.includes('exports') &&\n        !dependencies.includes('module') &&\n        outFactory\n      ) {\n        // NOTE: In this case the factory return module\n        return outFactory\n      }\n      // Push filled exports\n      return exports\n    })\n  )\n}\n\ndefineDOM.amd = {}\n\n/**\n * Reauire a dependency in Web Worker Context\n *\n * @param {string} name\n */\nfunction requireDependencyWebWorker(name) {\n  if (DEPENDENCIES_ALIAS[name]) {\n    return DEPENDENCIES_ALIAS[name]\n  }\n  let url\n  try {\n    url = new URL(name)\n  } catch (e) {\n    url = new URL(`${NPM_CDN}${name}`)\n  }\n  const sUrl = url.toString()\n  if (cacheDependenciesTree.has(sUrl)) {\n    return cacheDependenciesTree.get(sUrl)\n  }\n  const v = requireFromUrlWebWorker(sUrl.toString())\n  if (v) {\n    cacheDependenciesTree.set(sUrl, v)\n  }\n  return v\n}\n\n/**\n * AMD Define for the WebWorker Context\n */\nfunction defineWebWorker(...params) {\n  /**\n   * @type {(dependencies: string[]) void}\n   */\n  let factory\n  /**\n   * @type string[]\n   */\n  let dependencies\n  // Adjust various AMD callding patterhns\n  if (params.length < 2) {\n    factory = params[0]\n    dependencies = []\n  } else {\n    if (params.length >= 3) {\n      params = params.slice(1)\n    }\n    dependencies = params[0]\n    factory = params[1]\n  }\n  // Instance dependencies\n  const exports = {}\n  const module = { exports }\n  const rutimeDepencies = dependencies.map((dep) =>\n    dep === 'exports'\n      ? exports\n      : dep === 'module'\n      ? module\n      : requireDependencyWebWorker(dep)\n  )\n  // Run factory ... This will (maybe) write into exports\n  const outFactory = factory(...rutimeDepencies)\n  if (\n    !dependencies.includes('exports') &&\n    !dependencies.includes('module') &&\n    outFactory\n  ) {\n    // NOTE: In this case the factory return module\n    queue.push(outFactory)\n  } else {\n    queue.push(exports)\n  }\n}\ndefineWebWorker.amd = {}\n\n/**\n * Require from URL in the DOM\n *\n * @param {string} url\n */\nfunction requireFromUrl(url) {\n  return new Promise((resolve, reject) => {\n    window.define = defineDOM\n    const scriptTag = document.createElement('script')\n    scriptTag.src = url\n    scriptTag.async = true\n    scriptTag.addEventListener(\n      'load',\n      () => {\n        // Pop last exports\n        const promiseFinalExports = queue.pop()\n        if (!promiseFinalExports) {\n          reject(`Problem during the execution of ${url}`)\n          return\n        }\n        return promiseFinalExports\n          .then(() => {\n            scriptTag.remove()\n            resolve(promiseFinalExports)\n          })\n          .catch((err) => {\n            scriptTag.remove()\n            reject(err)\n          })\n      },\n      {\n        once: true,\n      }\n    )\n    scriptTag.addEventListener(\n      'error',\n      () => {\n        scriptTag.remove()\n        reject(`Cannot import url ${url}`)\n      },\n      {\n        once: true,\n      }\n    )\n    document.head.append(scriptTag)\n  })\n}\n\nfunction isRawChartLike(obj) {\n  if (typeof obj === 'object' && obj !== null) {\n    return (\n      typeof obj.render === 'function' && typeof obj.metadata.id === 'string'\n    )\n  }\n  return false\n}\n\n/**\n * @param {string} url\n * @returns {Promise<ChartContract[]>}\n */\nexport async function requireRawChartsFromUrl(url) {\n  if (cacheChartsPkg.get(url)) {\n    return Promise.resolve(cacheChartsPkg.get(url))\n  }\n  const daExports = await requireFromUrl(url)\n  if (!daExports) {\n    return []\n  }\n  const charts = Object.values(daExports).filter(isRawChartLike)\n  // NOTE: Cache only relevant exports ...\n  if (charts.length > 0) {\n    cacheChartsPkg.set(url, charts)\n  }\n  return charts\n}\n\n/**\n * @param {string} url\n * @returns {ChartContract[]}\n */\nexport function requireRawChartsFromUrlWebWorker(url) {\n  if (cacheChartsPkg.get(url)) {\n    return cacheChartsPkg.get(url)\n  }\n  const daExports = requireFromUrlWebWorker(url)\n  if (!daExports) {\n    return []\n  }\n  const charts = Object.values(daExports).filter(isRawChartLike)\n  // NOTE: Cache only relevant exports ...\n  if (charts.length > 0) {\n    cacheChartsPkg.set(url, charts)\n  }\n  return charts\n}\n\n/**\n * Require from url in WebWorker context\n *\n * @param {string} url\n */\nfunction requireFromUrlWebWorker(url) {\n  self.define = defineWebWorker\n  self.importScripts(url)\n  const finalExports = queue.pop()\n  return finalExports\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { sha3_512 } from 'js-sha3'\nimport difference from 'lodash/difference'\nimport uniq from 'lodash/uniq'\nimport find from 'lodash/find'\nimport { requireRawChartsFromUrl, NPM_CDN } from './rawRequire'\nimport './chart-types'\n\nconst STORE_NS = 'rawCustomCharts'\n\n/**\n * @param {CustomChartContract[]} prevCharts\n * @param {CustomChartContract[]} newChartsToInject\n * @returns {[CustomChartContract[],CustomChartContract[]]}\n */\nfunction getNextCustomChartsAndReleased(prevCharts, newChartsToInject) {\n  const newIds = newChartsToInject.map((c) => c.metadata.id)\n  const releasedCustomCharts = []\n  const nextCustomCharts = prevCharts\n    .filter((prevChart) => {\n      const shouldBeReleased = newIds.includes(prevChart.metadata.id)\n      if (shouldBeReleased) {\n        releasedCustomCharts.push(prevChart)\n      }\n      return !shouldBeReleased\n    })\n    .concat(newChartsToInject)\n  return [nextCustomCharts, releasedCustomCharts]\n}\n\n/**\n * @param {CustomChartContract[]} nextCustomCharts\n */\nasync function storeCustomCharts(nextCustomCharts) {\n  const toStoreCustomCharts = nextCustomCharts.map((chart) => ({\n    id: chart.metadata.id,\n    source: chart.rawCustomChart.source,\n  }))\n  localStorage.setItem(STORE_NS, JSON.stringify(toStoreCustomCharts))\n  const cache = await window.caches.open(STORE_NS)\n  const nextHashses = toStoreCustomCharts\n    .map((chart) =>\n      chart.source.indexOf('file:') === 0\n        ? chart.source.replace('file:', '')\n        : null\n    )\n    .filter(Boolean)\n  const cacheKeys = await cache.keys()\n  const currentHashses = cacheKeys.map((k) => k.url.split('/').slice(-1)[0])\n  const toRemoveHashes = difference(currentHashses, nextHashses)\n  await Promise.all(toRemoveHashes.map((hash) => cache.delete('/' + hash)))\n}\n\n/**\n * @param {File} file\n * @returns {Promise<string>}\n */\nfunction makeFileHash(file) {\n  return new Promise((resolve) => {\n    const reader = new FileReader()\n    reader.onload = function (event) {\n      resolve(sha3_512(event.target.result))\n    }\n    reader.readAsArrayBuffer(file)\n  })\n}\n\nasync function loadStoredCustomCharts() {\n  /**\n   * @type {StoredCustomChart[]}\n   */\n  const storedCustomCharts = JSON.parse(localStorage.getItem(STORE_NS) ?? '[]')\n  const cache = await window.caches.open(STORE_NS)\n\n  // Calculate an unique list of sources to load\n  // It also read caches storage and create a browser url for file sources\n  const packsToLoad = await Promise.all(\n    uniq(storedCustomCharts.map((chart) => chart.source)).map(\n      /**\n       * @param {string} source\n       * @returns {Promise<{ source: string, url: string } | null>}\n       */\n      (source) => {\n        if (source.indexOf('file:') === 0) {\n          return cache.match('/' + source.replace('file:', '')).then((m) => {\n            if (!m) {\n              return Promise.resolve(null)\n            }\n            return m.blob().then((b) => ({\n              source,\n              url: URL.createObjectURL(b),\n            }))\n          })\n        }\n        if (source.indexOf('url:') === 0) {\n          return Promise.resolve({\n            source,\n            url: source.replace('url:', ''),\n          })\n        }\n        if (source.indexOf('npm:') === 0) {\n          return Promise.resolve({\n            source,\n            url: NPM_CDN + source.replace('npm:', ''),\n          })\n        }\n        return Promise.resolve(null)\n      }\n    )\n  ).then((packs) => packs.filter(Boolean))\n\n  const loadedChartsById = await Promise.all(\n    packsToLoad.map((p) =>\n      requireRawChartsFromUrl(p.url).then((charts) =>\n        charts.map((chart) => ({\n          ...chart,\n          rawCustomChart: p,\n        }))\n      )\n    )\n  ).then((nChars) => {\n    /**\n     * @type {Record<string, CustomChartContract>}\n     */\n    const by = {}\n    return nChars.reduce((o, charts) => {\n      charts.forEach((c) => {\n        o[c.metadata.id] = c\n      })\n      return o\n    }, by)\n  })\n\n  return storedCustomCharts.map((c) => loadedChartsById[c.id]).filter(Boolean)\n}\n\nasync function exportCustomChart(chart) {\n  if (!chart.rawCustomChart) {\n    // Not a custom chart\n    return null\n  }\n  const { source } = chart.rawCustomChart\n  if (source.indexOf('file:') === 0) {\n    const cache = await window.caches.open(STORE_NS)\n    const hash = source.replace('file:', '')\n    const result = await cache.match(`/${hash}`)\n    if (!result) {\n      throw new Error(`File not found: ${hash}`)\n    }\n    const content = await result.text()\n    return {\n      source,\n      content,\n    }\n  }\n  return {\n    source,\n  }\n}\n\n/**\n * This hook handle the custom user charts.\n * It's business is to load custom charts from some `source`:\n *  - `file:hash` File source we hash the file content to identify \"which\" file\n *  - `url:cdn_url` An url that point to a js file bundled as UMD | AMD\n *  - `npm:name` A valid package name on npm registry bundled also as UMD | AMD\n *\n * It loads the current custom charts on mount from user storage and sync\n * them when you call its methods.\n *\n * @param {{ storage: boolean }}\n * @returns {[CustomChartContract[], {\n *  uploadCustomCharts: (file?: File, mode?:  'replace' | 'add') => Promise<CustomChartContract[]>\n *  loadCustomChartsFromUrl: (url: string) => Promise<CustomChartContract[]>\n *  loadCustomChartsFromNpm: (name: string) => Promise<CustomChartContract[]>\n *  importCustomChartFromProject: (projectChart: CustomChartContract) => Promise<CustomChartContract>\n *  removeCustomChart: (chart: CustomChartContract) => Promise<CustomChartContract[]>\n *  exportCustomChart: (chart: CustomChartContract) => Promise<{ source: string, content: string | null }>\n * }]}\n */\nexport default function useCustomCharts({ storage = true } = { storage: true }) {\n  const [customCharts, setCustomCharts] = useState([])\n\n  // Loads custom charts saved in user storage\n  useEffect(() => {\n    if (storage) {\n      loadStoredCustomCharts().then(setCustomCharts)\n    }\n  }, [storage])\n\n  const loadCustomChartsFromUrlAsSource = useCallback(\n    async (source, url) => {\n      let newChartsToInject = await requireRawChartsFromUrl(url)\n      if (newChartsToInject.length === 0) {\n        return\n      }\n      newChartsToInject = newChartsToInject.map((chart) => ({\n        ...chart,\n        rawCustomChart: {\n          source,\n          url,\n        },\n      }))\n      const [\n        nextCustomCharts,\n        releasedCustomCharts,\n      ] = getNextCustomChartsAndReleased(customCharts, newChartsToInject)\n      releasedCustomCharts.forEach((c) => {\n        URL.revokeObjectURL(c.rawCustomChart.url)\n      })\n      setCustomCharts(nextCustomCharts)\n      if (storage) {\n        await storeCustomCharts(nextCustomCharts)\n      }\n      return nextCustomCharts\n    },\n    [customCharts, storage]\n  )\n\n  const loadCustomChartsFromUrl = useCallback(\n    async (url) => {\n      const source = `url:${url}`\n      return loadCustomChartsFromUrlAsSource(source, url)\n    },\n    [loadCustomChartsFromUrlAsSource]\n  )\n\n  const loadCustomChartsFromNpm = useCallback(\n    async (name) => {\n      const source = `npm:${name}`\n      const url = NPM_CDN + name\n      return loadCustomChartsFromUrlAsSource(source, url)\n    },\n    [loadCustomChartsFromUrlAsSource]\n  )\n\n  const uploadCustomCharts = useCallback(\n    async (file, mode = 'add') => {\n      if (!file) {\n        return []\n      }\n      const url = URL.createObjectURL(file)\n      let newChartsToInject = await requireRawChartsFromUrl(url)\n      if (newChartsToInject.length === 0) {\n        return\n      }\n      const fileHash = await makeFileHash(file)\n      const source = `file:${fileHash}`\n      newChartsToInject = newChartsToInject.map((chart) => ({\n        ...chart,\n        rawCustomChart: {\n          source,\n          url,\n        },\n      }))\n      const [nextCustomCharts, releasedCustomCharts] =\n        mode === 'replace'\n          ? [newChartsToInject, customCharts]\n          : getNextCustomChartsAndReleased(customCharts, newChartsToInject)\n      releasedCustomCharts.forEach((c) => {\n        URL.revokeObjectURL(c.rawCustomChart.url)\n      })\n      setCustomCharts(nextCustomCharts)\n      if (storage) {\n        const cache = await window.caches.open(STORE_NS)\n        await cache.put(fileHash, new Response(file))\n        await storeCustomCharts(nextCustomCharts)\n      }\n      return nextCustomCharts\n    },\n    [customCharts, storage]\n  )\n\n  const importCustomChartFromProject = useCallback(\n    async (projectChart) => {\n      const { source, content } = projectChart.rawCustomChart\n      let url, file, fileHash\n      if (source.indexOf('url:') === 0) {\n        url = source.replace('url:', '')\n      } else if (source.indexOf('npm:') === 0) {\n        url = NPM_CDN + source.replace('npm:', '')\n      } else if (source.indexOf('file:') === 0) {\n        fileHash = source.replace('file:', '')\n        file = new File([content], `${fileHash}.js`, {\n          type: 'application/json',\n        })\n        url = URL.createObjectURL(file)\n      } else {\n        throw new Error(`Try to import invalid source ${source}`)\n      }\n      const newChartsToInject = await requireRawChartsFromUrl(url)\n      let newChart = find(\n        newChartsToInject,\n        (c) => c.metadata.id === projectChart.metadata.id\n      )\n      if (!newChart) {\n        throw new Error(\n          `Can't find chart ${projectChart.metadata.id} from ${source}`\n        )\n      }\n      newChart = {\n        ...newChart,\n        rawCustomChart: {\n          source,\n          url,\n        },\n      }\n      const [\n        nextCustomCharts,\n        releasedCustomCharts,\n      ] = getNextCustomChartsAndReleased(customCharts, [newChart])\n      releasedCustomCharts.forEach((c) => {\n        URL.revokeObjectURL(c.rawCustomChart.url)\n      })\n      setCustomCharts(nextCustomCharts)\n      if (storage) {\n        if (file) {\n          const cache = await window.caches.open(STORE_NS)\n          await cache.put(fileHash, new Response(file))\n        }\n        await storeCustomCharts(nextCustomCharts)\n      }\n      return newChart\n    },\n    [customCharts, storage]\n  )\n\n  const removeCustomChart = useCallback(\n    async (chart) => {\n      const nextCustomCharts = customCharts.filter(\n        (c) => c.metadata.id !== chart.metadata.id\n      )\n      setCustomCharts(nextCustomCharts)\n      if (storage) {\n        await storeCustomCharts(nextCustomCharts)\n      }\n      return nextCustomCharts\n    },\n    [customCharts, storage]\n  )\n\n  return [\n    customCharts,\n    {\n      uploadCustomCharts,\n      removeCustomChart,\n      loadCustomChartsFromUrl,\n      loadCustomChartsFromNpm,\n      exportCustomChart,\n      importCustomChartFromProject,\n    },\n  ]\n}\n","import { useCallback, useState } from 'react'\nimport useCustomCharts from './useCustomCharts'\nimport './chart-types'\n\n// NOTE: ... FUTURE PALCE 2 RAW APPROVED CHARTS FROM USERS <3\n// At this point we can mark some npm accounts or special cdn hosts to have secure\n// and quailty raw charts ... so we can then skip the security advisor\n\nconst HOSTS_WHITELIST = ['localhost']\n\n/**\n * @param {URL} url\n */\nfunction isUrlAllowed(url) {\n  if (HOSTS_WHITELIST.includes(url.hostname)) {\n    return true\n  }\n  return false\n}\n\n/**\n * @param {string} name\n */\nfunction isNpmPkgAllowed(name) {\n  return false\n}\n\nclass UserAbortError extends Error {\n  constructor(...args) {\n    super(...args)\n    this.isAbortByUser = true\n  }\n}\n\n/**\n * @returns {[CustomChartContract[], {\n *  toConfirmCustomChart: null\n *  | { type: 'npm', value: string }\n *  | { type: 'url', value: url }\n *  | { type: 'file', value: File }\n *  | { type: 'project', value: CustomChartContract }\n *  uploadCustomCharts: (file?: File) => Promise<CustomChartContract[]>\n *  loadCustomChartsFromUrl: (url: string) => Promise<CustomChartContract[]>\n *  loadCustomChartsFromNpm: (name: string) => Promise<CustomChartContract[]>\n *  importCustomChartFromProject: (projectChart: CustomChartContract) => Promise<CustomChartContract>\n *  removeCustomChart: (chart: CustomChartContract) => Promise<CustomChartContract[]>\n *  exportCustomChart: (chart: CustomChartContract) => Promise<{ source: string, content: string | null }>\n *  confirmCustomChartLoad: () => void\n *  abortCustomChartLoad: () => void\n * }]}\n */\nexport default function useSafeCustomCharts() {\n  const [\n    customCharts,\n    {\n      uploadCustomCharts: unsafeUploadCustomCharts,\n      loadCustomChartsFromNpm: unsafeLoadCustomChartsFromNpm,\n      loadCustomChartsFromUrl: unsafeLoadCustomChartsFromUrl,\n      importCustomChartFromProject: unsafeImportCustomChartFromProject,\n      ...methods\n    },\n  ] = useCustomCharts()\n\n  const [toConfirmCustomChart, setToConfirmCustomChartLoad] = useState(null)\n\n  const loadCustomChartsFromUrl = useCallback(\n    (url) => {\n      let parsedUrl\n      try {\n        parsedUrl = new URL(url)\n      } catch (err) {\n        // Invalid url\n        return Promise.resolve([])\n      }\n      if (isUrlAllowed(parsedUrl)) {\n        return unsafeLoadCustomChartsFromUrl(String(parsedUrl))\n      } else {\n        return new Promise((resolve, reject) => {\n          setToConfirmCustomChartLoad({\n            type: 'url',\n            value: String(parsedUrl),\n            resolve,\n            reject,\n          })\n        })\n      }\n    },\n    [unsafeLoadCustomChartsFromUrl]\n  )\n\n  const loadCustomChartsFromNpm = useCallback(\n    (inputName) => {\n      const name = inputName.trim()\n      if (name.trim() === '') {\n        return\n      }\n      if (isNpmPkgAllowed(name)) {\n        unsafeLoadCustomChartsFromNpm(name)\n      } else {\n        return new Promise((resolve, reject) => {\n          setToConfirmCustomChartLoad({\n            type: 'npm',\n            value: name,\n            resolve,\n            reject,\n          })\n        })\n      }\n    },\n    [unsafeLoadCustomChartsFromNpm]\n  )\n\n  const uploadCustomCharts = useCallback((file) => {\n    return new Promise((resolve, reject) => {\n      setToConfirmCustomChartLoad({\n        type: 'file',\n        value: file,\n        resolve,\n        reject,\n      })\n    })\n  }, [])\n\n  const importCustomChartFromProject = useCallback(\n    (projectChart) => {\n      const { source } = projectChart.rawCustomChart\n      let askConfirm = false\n      if (source.indexOf('url:') === 0) {\n        if (!isUrlAllowed(new URL(source.replace('url:', '')))) {\n          askConfirm = true\n        }\n      } else if (source.indexOf('npm:') === 0) {\n        if (!isNpmPkgAllowed(source.replace('npm:', ''))) {\n          askConfirm = true\n        }\n      } else if (source.indexOf('file:') === 0) {\n        askConfirm = true\n      }\n      if (askConfirm) {\n        return new Promise((resolve, reject) => {\n          setToConfirmCustomChartLoad({\n            type: 'project',\n            value: projectChart,\n            resolve,\n            reject,\n          })\n        })\n      } else {\n        return unsafeImportCustomChartFromProject(projectChart)\n      }\n    },\n    [unsafeImportCustomChartFromProject]\n  )\n\n  const confirmCustomChartLoad = useCallback(() => {\n    const { type, value, resolve, reject } = toConfirmCustomChart\n    if (type === 'file') {\n      unsafeUploadCustomCharts(value).then(resolve, reject)\n    } else if (type === 'url') {\n      unsafeLoadCustomChartsFromUrl(value).then(resolve, reject)\n    } else if (type === 'npm') {\n      unsafeLoadCustomChartsFromNpm(value).then(resolve, reject)\n    } else if (type === 'project') {\n      unsafeImportCustomChartFromProject(value).then(resolve, reject)\n    }\n    setToConfirmCustomChartLoad(null)\n  }, [\n    toConfirmCustomChart,\n    unsafeImportCustomChartFromProject,\n    unsafeLoadCustomChartsFromNpm,\n    unsafeLoadCustomChartsFromUrl,\n    unsafeUploadCustomCharts,\n  ])\n\n  const abortCustomChartLoad = useCallback(() => {\n    if (toConfirmCustomChart) {\n      toConfirmCustomChart.reject(new UserAbortError())\n    }\n    setToConfirmCustomChartLoad(null)\n  }, [toConfirmCustomChart])\n\n  return [\n    customCharts,\n    {\n      toConfirmCustomChart,\n      abortCustomChartLoad,\n      confirmCustomChartLoad,\n      uploadCustomCharts,\n      loadCustomChartsFromUrl,\n      loadCustomChartsFromNpm,\n      importCustomChartFromProject,\n      ...methods,\n    },\n  ]\n}\n","import classNames from 'classnames'\nimport React, { memo, useState } from 'react'\nimport { Button, Modal } from 'react-bootstrap'\nimport { useDropzone } from 'react-dropzone'\nimport { BsCloud, BsUpload } from 'react-icons/bs'\nimport styles from './CustomChartLoader.module.scss'\n\nfunction LoadFromFile({ loading, load }) {\n  function onDrop(acceptedFiles) {\n    if (acceptedFiles.length) {\n      load(acceptedFiles[0])\n    }\n  }\n  const {\n    getRootProps,\n    getInputProps,\n    isDragReject,\n    isDragAccept,\n  } = useDropzone({\n    disabled: loading,\n    onDrop,\n    accept: 'text/plan,text/javascript',\n    maxFiles: 1,\n  })\n  return (\n    <div\n      className={classNames(styles.dropzone, {\n        [styles.reject]: isDragReject,\n        [styles.accept]: isDragAccept,\n      })}\n      {...getRootProps()}\n    >\n      <input {...getInputProps()} />\n      <span>Drag a file here or </span>\n      <Button className={styles['browse-button']} color=\"primary\">\n        Browse\n      </Button>\n      <span>a file from your computer</span>\n      <div className={styles.dropin}>\n        {isDragAccept && <p>All files will be accepted</p>}\n        {isDragReject && <p>Some files will be rejected</p>}\n      </div>\n    </div>\n  )\n}\n\nfunction LoadFromString({ load, loading, placeholder }) {\n  const [value, setValue] = useState('')\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault()\n        load(value)\n      }}\n    >\n      <input\n        disabled={loading}\n        className=\"form-control mb-2\"\n        placeholder={placeholder}\n        type=\"text\"\n        value={value}\n        onChange={(e) => setValue(e.target.value)}\n      />\n      <div className=\"text-right\">\n        <button\n          type=\"submit\"\n          disabled={value.trim() === '' || loading}\n          className=\"btn btn-primary\"\n          onClick={() => {}}\n        >\n          Load your chart\n        </button>\n      </div>\n    </form>\n  )\n}\n\nfunction CustomChartLoaderForm({\n  uploadCustomCharts,\n  loadCustomChartsFromUrl,\n  loadCustomChartsFromNpm,\n  onClose,\n}) {\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n  const [type, setType] = useState('file')\n\n  function handleError(e) {\n    setLoading(false)\n    if (e.isAbortByUser) {\n      return\n    }\n    console.log(e)\n    setError(e)\n  }\n\n  function changeImportType(type) {\n    setError(null)\n    setType(type)\n  }\n\n  return (\n    <div className=\"row\" style={{ minHeight: 300 }}>\n      <div className=\"col-md-4\">\n        <div\n          onClick={() => {\n            changeImportType('file')\n          }}\n          className={classNames(\n            'd-flex align-items-center cursor-pointer',\n            styles.loadingOption,\n            {\n              [styles.active]: type === 'file',\n            }\n          )}\n        >\n          <BsUpload className=\"w-25\" />\n          <h4 className=\"m-0 d-inline-block\">Load from file</h4>\n        </div>\n        <div\n          onClick={() => changeImportType('url')}\n          className={classNames(\n            'd-flex align-items-center cursor-pointer',\n            styles.loadingOption,\n            {\n              [styles.active]: type === 'url',\n            }\n          )}\n        >\n          <BsCloud className=\"w-25\" />\n          <h4 className=\"m-0 d-inline-block\">Import from URL</h4>\n        </div>\n        <div\n          onClick={() => changeImportType('npm')}\n          className={classNames(\n            'd-flex align-items-center cursor-pointer',\n            styles.loadingOption,\n            {\n              [styles.active]: type === 'npm',\n            }\n          )}\n        >\n          <BsCloud className=\"w-25\" />\n          <h4 className=\"m-0 d-inline-block\">Import from NPM</h4>\n        </div>\n      </div>\n      <div className=\"col-md-8\">\n        {type === 'npm' && (\n          <LoadFromString\n            loading={loading}\n            load={(pkg) => {\n              setError(null)\n              setLoading(true)\n              loadCustomChartsFromNpm(pkg).then(onClose, handleError)\n            }}\n            key=\"npm\"\n            placeholder={'Load UMD or AMD JS File from NPM'}\n          />\n        )}\n        {type === 'url' && (\n          <LoadFromString\n            loading={loading}\n            load={(url) => {\n              setError(null)\n              setLoading(true)\n              loadCustomChartsFromUrl(url).then(onClose, handleError)\n            }}\n            key=\"url\"\n            placeholder={'Load UMD or AMD JS File from URL'}\n          />\n        )}\n        {type === 'file' && (\n          <LoadFromFile\n            loading={loading}\n            load={(url) => {\n              setError(null)\n              setLoading(true)\n              uploadCustomCharts(url).then(onClose, handleError)\n            }}\n            key=\"url\"\n            placeholder={'Load UMD or AMD JS File from URL'}\n          />\n        )}\n        {error && (\n          <div className=\"alert alert-danger mt-2\">\n            Error during custom chart import\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nfunction CustomChartLoader({ isOpen, onClose, ...props }) {\n  return (\n    <Modal\n      show={isOpen}\n      onHide={onClose}\n      backdrop=\"static\"\n      centered\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      className=\"raw-modal\"\n      contentClassName=\"bg-white\"\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Add a new custom chart</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n        <CustomChartLoaderForm {...props} onClose={onClose} />\n      </Modal.Body>\n      <Modal.Footer>\n        <div className='text-center w-100'>\n          Do you want to know how to create a custom chart?{' '}\n          <a href=\"https://rawgraphs.io\" target=\"_blank\" rel=\"noreferrer\">\n            Check our documentation\n          </a>\n        </div>\n      </Modal.Footer>\n    </Modal>\n  )\n}\n\nexport default memo(CustomChartLoader)\n","import { Modal, Button } from 'react-bootstrap'\n\nexport default function CustomChartWarnModal({\n  toConfirmCustomChart,\n  abortCustomChartLoad,\n  confirmCustomChartLoad,\n}) {\n  return (\n    <Modal\n      show={toConfirmCustomChart !== null}\n      onHide={() => abortCustomChartLoad(null)}\n      backdrop=\"static\"\n      centered\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      className=\"raw-modal\"\n      contentClassName='border'\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Warning!</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n        <p>\n          You are about to execute third party JavaScript continue at your own\n          risk.\n        </p>\n        {toConfirmCustomChart && toConfirmCustomChart.type === 'project' && (\n          <div\n            title={toConfirmCustomChart.value.rawCustomChart.source}\n            style={{\n              whiteSpace: 'nowrap',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              width: '100%',\n            }}\n          >\n            {toConfirmCustomChart.value.rawCustomChart.source}\n          </div>\n        )}\n      </Modal.Body>\n\n      <Modal.Footer className=\"d-flex justify-content-between\">\n        <Button\n          variant=\"light\"\n          onClick={() => {\n            abortCustomChartLoad()\n          }}\n        >\n          Don't execute\n        </Button>\n        <Button\n          variant=\"primary\"\n          onClick={() => {\n            confirmCustomChartLoad()\n          }}\n        >\n          Continue\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  )\n}\n","import React, { useState, useCallback, useMemo, useEffect, useRef } from 'react'\nimport {\n  getOptionsConfig,\n  getDefaultOptionsValues,\n  deserializeProject,\n} from '@rawgraphs/rawgraphs-core'\nimport HeaderItems from './HeaderItems'\nimport Header from './components/Header'\nimport Section from './components/Section'\nimport Footer from './components/Footer'\nimport ScreenSizeAlert from './components/ScreenSizeAlert'\nimport DataLoader from './components/DataLoader'\nimport ChartSelector from './components/ChartSelector'\nimport DataMapping from './components/DataMapping'\nimport ChartPreviewWithOptions from './components/ChartPreviewWIthOptions'\nimport Exporter from './components/Exporter'\nimport get from 'lodash/get'\nimport find from 'lodash/find'\nimport usePrevious from './hooks/usePrevious'\nimport { serializeProject } from '@rawgraphs/rawgraphs-core'\nimport baseCharts from './charts'\nimport useSafeCustomCharts from './hooks/useSafeCustomCharts'\nimport useDataLoader from './hooks/useDataLoader'\nimport isPlainObject from 'lodash/isPlainObject'\nimport CookieConsent from 'react-cookie-consent'\nimport CustomChartLoader from './components/CustomChartLoader'\nimport CustomChartWarnModal from './components/CustomChartWarnModal'\n\n// #TODO: i18n\n\nfunction App() {\n  const [\n    customCharts,\n    {\n      toConfirmCustomChart,\n      confirmCustomChartLoad,\n      abortCustomChartLoad,\n      uploadCustomCharts,\n      loadCustomChartsFromUrl,\n      loadCustomChartsFromNpm,\n      importCustomChartFromProject,\n      removeCustomChart,\n      exportCustomChart,\n    },\n  ] = useSafeCustomCharts()\n  const charts = useMemo(() => baseCharts.concat(customCharts), [customCharts])\n\n  const dataLoader = useDataLoader()\n  const {\n    userInput,\n    userData,\n    userDataType,\n    parseError,\n    unstackedData,\n    unstackedColumns,\n    data,\n    separator,\n    thousandsSeparator,\n    decimalsSeparator,\n    locale,\n    stackDimension,\n    dataSource,\n    loading,\n    hydrateFromSavedProject,\n  } = dataLoader\n\n  /* From here on, we deal with viz state */\n  const [currentChart, setCurrentChart] = useState(charts[0])\n  const [mapping, setMapping] = useState({})\n  const [visualOptions, setVisualOptions] = useState(() => {\n    const options = getOptionsConfig(charts[0]?.visualOptions)\n    return getDefaultOptionsValues(options)\n  })\n  const [rawViz, setRawViz] = useState(null)\n  const [mappingLoading, setMappingLoading] = useState(false)\n  const dataMappingRef = useRef(null)\n\n  const columnNames = useMemo(() => {\n    if (get(data, 'dataTypes')) {\n      return Object.keys(data.dataTypes)\n    }\n  }, [data])\n\n  const prevColumnNames = usePrevious(columnNames)\n  const clearLocalMapping = useCallback(() => {\n    if (dataMappingRef.current) {\n      dataMappingRef.current.clearLocalMapping()\n    }\n  }, [])\n\n  // NOTE: When we run the import we want to use the \"last\"\n  // version of importProject callback\n  const lasImportProjectRef = useRef()\n  useEffect(() => {\n    lasImportProjectRef.current = importProject\n  })\n  useEffect(() => {\n    const projectUrlStr = new URLSearchParams(window.location.search).get('url')\n    let projectUrl\n    try {\n      projectUrl = new URL(projectUrlStr)\n    } catch (e) {\n      // BAD URL\n      return\n    }\n    fetch(projectUrl)\n      .then((r) => (r.ok ? r.text() : Promise.reject(r)))\n      .then(\n        (projectStr) => {\n          const project = deserializeProject(projectStr, baseCharts)\n          const lastImportProject = lasImportProjectRef.current\n          if (lastImportProject) {\n            lastImportProject(project, true)\n          }\n        },\n        (err) => {\n          console.log(`Can't load ${projectUrl}`, err)\n        }\n      )\n  }, [])\n\n  //resetting mapping when column names changes (ex: separator change in parsing)\n  useEffect(() => {\n    if (prevColumnNames) {\n      if (!columnNames) {\n        setMapping({})\n        clearLocalMapping()\n      } else {\n        const prevCols = prevColumnNames.join('.')\n        const currentCols = columnNames.join('.')\n        if (prevCols !== currentCols) {\n          setMapping({})\n          clearLocalMapping()\n        }\n      }\n    }\n  }, [columnNames, prevColumnNames, clearLocalMapping])\n\n  // update current chart when the related custom charts change under the hood\n  // if the related custom chart is removed set the first chart\n  useEffect(() => {\n    if (currentChart.rawCustomChart) {\n      const currentCustom = find(\n        customCharts,\n        (c) => c.metadata.id === currentChart.metadata.id\n      )\n      if (!currentCustom) {\n        setCurrentChart(baseCharts[0])\n        return\n      }\n      if (\n        currentCustom.rawCustomChart.source !==\n        currentChart.rawCustomChart.source\n      ) {\n        setCurrentChart(currentCustom)\n      }\n    }\n  }, [customCharts, currentChart])\n\n  const handleChartChange = useCallback(\n    (nextChart) => {\n      setMapping({})\n      clearLocalMapping()\n      setCurrentChart(nextChart)\n      const options = getOptionsConfig(nextChart?.visualOptions)\n      setVisualOptions(getDefaultOptionsValues(options))\n      setRawViz(null)\n    },\n    [clearLocalMapping]\n  )\n\n  const exportProject = useCallback(async () => {\n    const customChart = await exportCustomChart(currentChart)\n    return serializeProject({\n      userInput,\n      userData,\n      userDataType,\n      parseError,\n      unstackedData,\n      unstackedColumns,\n      data,\n      separator,\n      thousandsSeparator,\n      decimalsSeparator,\n      locale,\n      stackDimension,\n      dataSource,\n      currentChart,\n      mapping,\n      visualOptions,\n      customChart,\n    })\n  }, [\n    currentChart,\n    data,\n    dataSource,\n    decimalsSeparator,\n    locale,\n    mapping,\n    parseError,\n    separator,\n    stackDimension,\n    thousandsSeparator,\n    userData,\n    userDataType,\n    userInput,\n    visualOptions,\n    unstackedColumns,\n    unstackedData,\n    exportCustomChart,\n  ])\n\n  // project import\n  const importProject = useCallback(\n    async (project, fromUrl) => {\n      let nextCurrentChart\n      if (project.currentChart.rawCustomChart) {\n        try {\n          nextCurrentChart = await importCustomChartFromProject(\n            project.currentChart\n          )\n        } catch (err) {\n          if (err.isAbortByUser) {\n            if (fromUrl) {\n              // NOTE: clean the url when the user abort loading custom js\n              window.history.replaceState(null, null, '/')\n            }\n            return\n          }\n          throw err\n        }\n      } else {\n        nextCurrentChart = project.currentChart\n      }\n      hydrateFromSavedProject(project)\n      setCurrentChart(nextCurrentChart)\n      setMapping(project.mapping)\n      // adding \"annotations\" for color scale:\n      // we annotate the incoming options values (complex ones such as color scales)\n      // to le the ui know they are coming from a loaded project\n      // so we don't have to re-evaluate defaults\n      // this is due to the current implementation of the color scale\n      const patchedOptions = { ...project.visualOptions }\n      Object.keys(patchedOptions).forEach((k) => {\n        if (isPlainObject(patchedOptions[k])) {\n          patchedOptions[k].__loaded = true\n        }\n      })\n      setVisualOptions(project.visualOptions)\n    },\n    [hydrateFromSavedProject, importCustomChartFromProject]\n  )\n\n  const [isModalCustomChartOpen, setModalCustomChartOpen] = useState(false)\n  const toggleModalCustomChart = useCallback(\n    () => setModalCustomChartOpen((o) => !o),\n    []\n  )\n\n  return (\n    <div className=\"App\">\n      <Header menuItems={HeaderItems} />\n      <CustomChartWarnModal\n        toConfirmCustomChart={toConfirmCustomChart}\n        confirmCustomChartLoad={confirmCustomChartLoad}\n        abortCustomChartLoad={abortCustomChartLoad}\n      />\n      <div className=\"app-sections\">\n        <Section title={`1. Load your data`} loading={loading}>\n          <DataLoader {...dataLoader} hydrateFromProject={importProject} />\n        </Section>\n        {data && (\n          <Section title=\"2. Choose a chart\">\n            <CustomChartLoader\n              isOpen={isModalCustomChartOpen}\n              onClose={toggleModalCustomChart}\n              loadCustomChartsFromNpm={loadCustomChartsFromNpm}\n              loadCustomChartsFromUrl={loadCustomChartsFromUrl}\n              uploadCustomCharts={uploadCustomCharts}\n            />\n            <ChartSelector\n              onAddChartClick={toggleModalCustomChart}\n              onRemoveCustomChart={removeCustomChart}\n              availableCharts={charts}\n              currentChart={currentChart}\n              setCurrentChart={handleChartChange}\n            />\n          </Section>\n        )}\n        {data && currentChart && (\n          <Section title={`3. Mapping`} loading={mappingLoading}>\n            <DataMapping\n              ref={dataMappingRef}\n              dimensions={currentChart.dimensions}\n              dataTypes={data.dataTypes}\n              mapping={mapping}\n              setMapping={setMapping}\n            />\n          </Section>\n        )}\n        {data && currentChart && (\n          <Section title=\"4. Customize\">\n            <ChartPreviewWithOptions\n              chart={currentChart}\n              dataset={data.dataset}\n              dataTypes={data.dataTypes}\n              mapping={mapping}\n              visualOptions={visualOptions}\n              setVisualOptions={setVisualOptions}\n              setRawViz={setRawViz}\n              setMappingLoading={setMappingLoading}\n            />\n          </Section>\n        )}\n        {data && currentChart && rawViz && (\n          <Section title=\"5. Export\">\n            <Exporter rawViz={rawViz} exportProject={exportProject} />\n          </Section>\n        )}\n        <Footer />\n        <CookieConsent\n          location=\"bottom\"\n          buttonText=\"Got it!\"\n          style={{ background: '#f5f5f5', color: '#646467' }}\n          buttonStyle={{\n            background: '#646467',\n            color: 'white',\n            fontSize: '13px',\n            borderRadius: '3px',\n            padding: '5px 20px',\n          }}\n          buttonClasses=\"btn btn-default btn-grey\"\n          acceptOnScroll={true}\n        >\n          This website uses Google Analytics to anonymously collect browsing\n          data.{' '}\n          <a\n            href=\"https://rawgraphs.io/privacy/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"ml-2 text-body border-bottom border-dark\"\n          >\n            Learn More\n          </a>\n        </CookieConsent>\n      </div>\n      <ScreenSizeAlert />\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.scss'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}